{
	"action":[
		{
			"code":"CompleteReport",
			"name":"完成对外报备",
			"property":[
				{
					"isHide":false,
					"name":"AuthorityRemark",
					"value":"完成对外报备"
				},
				{
					"isHide":false,
					"name":"OnClick",
					"value":"OnCilck"
				},
				{
					"isHide":false,
					"name":"JavaScript",
					"value":"var registerJavaScript = function () {

 

this.OnCilck= function () {
  console.log('Lu'); 
    var me = this;
    var grid=me.GetParent().GetParent();
    var data = grid.GetSelected();
    if (Framework.IsNullOrEmpty(data) || Framework.IsNullOrEmpty(data.id)) {
        Framework.Message("请选择数据!");
        return;
    }
  var parameter = {};      
      parameter.registFormId= data.id;   
      parameter.queryOrBusiness='1';//表示报备查询的功能
     Framework.AjaxRequest(me, 'RegistForm-uptRegistFormDocState.do', 'get', parameter, true, function (result) {       
             grid.Load(); 
 }); 
 
}

 

};"
				}
			],
			"sort":0
		},
		{
			"code":"RegistFail",
			"name":"报备失败",
			"property":[
				{
					"isHide":false,
					"name":"OnClick",
					"value":"OnFailClick"
				},
				{
					"isHide":false,
					"name":"JavaScript",
					"value":"var registerJavaScript = function () {

 

this.OnFailClick= function () {
    var me = this;
    var grid=me.GetParent().GetParent();
    var data = grid.GetSelected();
    if (Framework.IsNullOrEmpty(data) || Framework.IsNullOrEmpty(data.id)) {
        Framework.Message("请选择数据!");
        return;
    }
    if(data.docState.id== '30'){
        var parameter = {};      
        parameter.registFormId= data.id;   
        parameter.queryOrBusiness='1';//表示报备查询的功能
        Framework.AjaxRequest(me, 'RegistForm-uptRegistFormStatus.do', 'get', parameter, true, function (result) {       
             grid.Load(); 
       }); 
 
    }else{
     Framework.Message("只能更新“已报备”状态的记录为报备失败!");
    }
}

 

};"
				}
			],
			"sort":1
		},
		{
			"code":"ExportButton",
			"name":"导出",
			"property":[
				{
					"isHide":false,
					"name":"OnClick",
					"value":"OnExportClick"
				},
				{
					"isHide":false,
					"name":"JavaScript",
					"value":"var registerJavaScript = function () {

 

this.OnExportClick= function () {
     var me = this;
     var url = "UIForm-Web-Schema.json";
     parameter = {};
     parameter.schemaType = "FormPanel";
     parameter.schemaCode = "RegistExportForm";
     Framework.OpenForm(me, url, parameter, function (form) {
     console.log(form);
     var params = {};
     params.renderForm= '业务报备查询统计';
     Framework.AjaxRequest (me,"Report-queryItemByRenderForm.do",'get',params,false,function(result){
           form.DownForCode('TemplateType').LoadData(result);
     });
         });
     }

 

};"
				}
			],
			"sort":2
		}
	],
	"authority":[
		
	],
	"children":[
		{
			"action":[
				
			],
			"authority":[
				
			],
			"children":[
				
			],
			"code":"exportProjectName",
			"control":"Text",
			"dataPermission":[
				
			],
			"isReference":false,
			"name":"项目名称",
			"otherChildren":[
				
			],
			"property":[
				{
					"isHide":false,
					"name":"IsFromAttribute",
					"value":"true"
				}
			],
			"sort":0
		},
		{
			"action":[
				
			],
			"authority":[
				
			],
			"children":[
				
			],
			"code":"financialReportType",
			"control":"Combobox",
			"dataPermission":[
				
			],
			"isReference":false,
			"name":"财政报备类型",
			"otherChildren":[
				
			],
			"property":[
				{
					"isHide":false,
					"name":"Length",
					"value":4
				},
				{
					"isHide":false,
					"name":"Required",
					"value":false
				},
				{
					"isHide":false,
					"name":"IsReadOnly",
					"value":false
				},
				{
					"isHide":false,
					"name":"IsTransient",
					"value":false
				},
				{
					"isHide":false,
					"name":"EnumType",
					"value":"FinancialReportType"
				},
				{
					"isHide":false,
					"name":"EntityConfig",
					"value":"[Enum(FinancialReportType)]"
				}
			],
			"select":"FinancialReportType[Enum(FinancialReportType)]",
			"sort":2
		},
		{
			"action":[
				
			],
			"authority":[
				
			],
			"children":[
				
			],
			"code":"practiceId",
			"control":"GridCombobox",
			"dataPermission":[
				
			],
			"isReference":false,
			"name":"执业单位（分所）",
			"otherChildren":[
				
			],
			"property":[
				{
					"isHide":false,
					"name":"Length",
					"value":50
				},
				{
					"isHide":false,
					"name":"Required",
					"value":false
				},
				{
					"isHide":false,
					"name":"IsReadOnly",
					"value":false
				},
				{
					"isHide":false,
					"name":"IsTransient",
					"value":false
				},
				{
					"isHide":false,
					"name":"EntityConfig",
					"value":"[Entity(Department|Code(Code)#Name(Name))]"
				},
				{
					"isHide":false,
					"name":"EntityCode",
					"value":"Department"
				}
			],
			"select":"PracticeId[Entity(Department|Code(Code)#Name(Name))]",
			"sort":3
		},
		{
			"action":[
				
			],
			"authority":[
				
			],
			"children":[
				
			],
			"code":"uSCCode",
			"control":"Text",
			"dataPermission":[
				
			],
			"isReference":false,
			"name":"营业执照号或机构代码",
			"otherChildren":[
				
			],
			"property":[
				{
					"isHide":false,
					"name":"Length",
					"value":100
				},
				{
					"isHide":false,
					"name":"Required",
					"value":false
				},
				{
					"isHide":false,
					"name":"IsReadOnly",
					"value":false
				},
				{
					"isHide":false,
					"name":"IsTransient",
					"value":false
				}
			],
			"select":"USCCode",
			"sort":4
		},
		{
			"action":[
				
			],
			"authority":[
				
			],
			"children":[
				
			],
			"code":"customerName",
			"control":"Text",
			"dataPermission":[
				
			],
			"isReference":false,
			"name":"客户名称",
			"otherChildren":[
				
			],
			"property":[
				{
					"isHide":false,
					"name":"Length",
					"value":100
				},
				{
					"isHide":false,
					"name":"Required",
					"value":false
				},
				{
					"isHide":false,
					"name":"IsReadOnly",
					"value":false
				},
				{
					"isHide":false,
					"name":"IsTransient",
					"value":false
				}
			],
			"select":"CustomerName",
			"sort":5
		},
		{
			"action":[
				
			],
			"authority":[
				
			],
			"children":[
				
			],
			"code":"auditStart",
			"control":"Date",
			"dataPermission":[
				
			],
			"isReference":false,
			"name":"会计期间（开始）",
			"otherChildren":[
				
			],
			"property":[
				{
					"isHide":false,
					"name":"Length",
					"value":23
				},
				{
					"isHide":false,
					"name":"Required",
					"value":false
				},
				{
					"isHide":false,
					"name":"IsReadOnly",
					"value":false
				},
				{
					"isHide":false,
					"name":"IsTransient",
					"value":false
				}
			],
			"select":"AuditStart",
			"sort":6
		},
		{
			"action":[
				
			],
			"authority":[
				
			],
			"children":[
				
			],
			"code":"auditEnd",
			"control":"Date",
			"dataPermission":[
				
			],
			"isReference":false,
			"name":"会计期间（结束）",
			"otherChildren":[
				
			],
			"property":[
				{
					"isHide":false,
					"name":"Length",
					"value":23
				},
				{
					"isHide":false,
					"name":"Required",
					"value":false
				},
				{
					"isHide":false,
					"name":"IsReadOnly",
					"value":false
				},
				{
					"isHide":false,
					"name":"IsTransient",
					"value":false
				}
			],
			"select":"AuditEnd",
			"sort":7
		},
		{
			"action":[
				
			],
			"authority":[
				
			],
			"children":[
				
			],
			"code":"reportId_ProjectId_CustomerTypeValue",
			"control":"Text",
			"dataPermission":[
				
			],
			"isReference":false,
			"name":"单位类型",
			"otherChildren":[
				
			],
			"property":[
				
			],
			"sort":8
		},
		{
			"action":[
				
			],
			"authority":[
				
			],
			"children":[
				
			],
			"code":"isSecuritiesBusiness",
			"control":"Combobox",
			"dataPermission":[
				
			],
			"isReference":false,
			"name":"是否属于证券业务",
			"otherChildren":[
				
			],
			"property":[
				{
					"isHide":false,
					"name":"Length",
					"value":4
				},
				{
					"isHide":false,
					"name":"Required",
					"value":false
				},
				{
					"isHide":false,
					"name":"IsReadOnly",
					"value":false
				},
				{
					"isHide":false,
					"name":"IsTransient",
					"value":false
				},
				{
					"isHide":false,
					"name":"EnumType",
					"value":"YesOrNo"
				},
				{
					"isHide":false,
					"name":"EntityConfig",
					"value":"[Enum(YesOrNo)]"
				}
			],
			"select":"IsSecuritiesBusiness[Enum(YesOrNo)]",
			"sort":9
		},
		{
			"action":[
				
			],
			"authority":[
				
			],
			"children":[
				
			],
			"code":"undertakesDate",
			"control":"Date",
			"dataPermission":[
				
			],
			"isReference":false,
			"name":"首次承接业务日期",
			"otherChildren":[
				
			],
			"property":[
				{
					"isHide":false,
					"name":"Length",
					"value":23
				},
				{
					"isHide":false,
					"name":"Required",
					"value":false
				},
				{
					"isHide":false,
					"name":"IsReadOnly",
					"value":false
				},
				{
					"isHide":false,
					"name":"IsTransient",
					"value":false
				}
			],
			"select":"UndertakesDate",
			"sort":10
		},
		{
			"action":[
				
			],
			"authority":[
				
			],
			"children":[
				
			],
			"code":"businessTypeValue",
			"control":"Combobox",
			"dataPermission":[
				
			],
			"isReference":false,
			"name":"业务类型",
			"otherChildren":[
				
			],
			"property":[
				{
					"isHide":false,
					"name":"Length",
					"value":200
				},
				{
					"isHide":false,
					"name":"Required",
					"value":false
				},
				{
					"isHide":false,
					"name":"IsReadOnly",
					"value":false
				},
				{
					"isHide":false,
					"name":"IsTransient",
					"value":false
				}
			],
			"select":"BusinessTypeValue",
			"sort":11
		},
		{
			"action":[
				
			],
			"authority":[
				
			],
			"children":[
				
			],
			"code":"plannedDateIssuanceReport",
			"control":"Date",
			"dataPermission":[
				
			],
			"isReference":false,
			"name":"报告日期",
			"otherChildren":[
				
			],
			"property":[
				{
					"isHide":false,
					"name":"Length",
					"value":23
				},
				{
					"isHide":false,
					"name":"Required",
					"value":false
				},
				{
					"isHide":false,
					"name":"IsReadOnly",
					"value":false
				},
				{
					"isHide":false,
					"name":"IsTransient",
					"value":false
				}
			],
			"select":"PlannedDateIssuanceReport",
			"sort":13
		},
		{
			"action":[
				
			],
			"authority":[
				
			],
			"children":[
				
			],
			"code":"reportCode",
			"control":"Text",
			"dataPermission":[
				
			],
			"isReference":false,
			"name":"报告文号",
			"otherChildren":[
				
			],
			"property":[
				{
					"isHide":false,
					"name":"Length",
					"value":200
				},
				{
					"isHide":false,
					"name":"Required",
					"value":false
				},
				{
					"isHide":false,
					"name":"IsReadOnly",
					"value":false
				},
				{
					"isHide":false,
					"name":"IsTransient",
					"value":false
				}
			],
			"select":"ReportCode",
			"sort":14
		},
		{
			"action":[
				
			],
			"authority":[
				
			],
			"children":[
				
			],
			"code":"signingPartnerCPAQualification",
			"control":"Text",
			"dataPermission":[
				
			],
			"isReference":false,
			"name":"签字注会1证书号",
			"otherChildren":[
				
			],
			"property":[
				{
					"isHide":false,
					"name":"Length",
					"value":100
				},
				{
					"isHide":false,
					"name":"Required",
					"value":false
				},
				{
					"isHide":false,
					"name":"IsReadOnly",
					"value":false
				},
				{
					"isHide":false,
					"name":"IsTransient",
					"value":false
				}
			],
			"select":"SigningPartnerCPAQualification",
			"sort":15
		},
		{
			"action":[
				
			],
			"authority":[
				
			],
			"children":[
				
			],
			"code":"signingPartnerId",
			"control":"GridCombobox",
			"dataPermission":[
				
			],
			"isReference":false,
			"name":"签字注册会计师1",
			"otherChildren":[
				
			],
			"property":[
				{
					"isHide":false,
					"name":"Length",
					"value":16
				},
				{
					"isHide":false,
					"name":"Required",
					"value":false
				},
				{
					"isHide":false,
					"name":"IsReadOnly",
					"value":false
				},
				{
					"isHide":false,
					"name":"IsTransient",
					"value":false
				},
				{
					"isHide":false,
					"name":"EntityConfig",
					"value":"[Entity(User|Code(Code)#Name(Name))]"
				},
				{
					"isHide":false,
					"name":"EntityCode",
					"value":"User"
				}
			],
			"select":"SigningPartnerId[Entity(User|Code(Code)#Name(Name))]",
			"sort":16
		},
		{
			"action":[
				
			],
			"authority":[
				
			],
			"children":[
				
			],
			"code":"relationshipOne",
			"control":"Text",
			"dataPermission":[
				
			],
			"isReference":false,
			"name":"签字注册会计师1关系所在地",
			"otherChildren":[
				
			],
			"property":[
				{
					"isHide":false,
					"name":"IsFromAttribute",
					"value":"true"
				}
			],
			"sort":17
		},
		{
			"action":[
				
			],
			"authority":[
				
			],
			"children":[
				
			],
			"code":"signingAccountantCPAQualification",
			"control":"Text",
			"dataPermission":[
				
			],
			"isReference":false,
			"name":"签字注会2证书号",
			"otherChildren":[
				
			],
			"property":[
				{
					"isHide":false,
					"name":"Length",
					"value":100
				},
				{
					"isHide":false,
					"name":"Required",
					"value":false
				},
				{
					"isHide":false,
					"name":"IsReadOnly",
					"value":false
				},
				{
					"isHide":false,
					"name":"IsTransient",
					"value":false
				}
			],
			"select":"SigningAccountantCPAQualification",
			"sort":18
		},
		{
			"action":[
				
			],
			"authority":[
				
			],
			"children":[
				
			],
			"code":"signingAccountantId",
			"control":"GridCombobox",
			"dataPermission":[
				
			],
			"isReference":false,
			"name":"签字注册会计师2",
			"otherChildren":[
				
			],
			"property":[
				{
					"isHide":false,
					"name":"Length",
					"value":16
				},
				{
					"isHide":false,
					"name":"Required",
					"value":false
				},
				{
					"isHide":false,
					"name":"IsReadOnly",
					"value":false
				},
				{
					"isHide":false,
					"name":"IsTransient",
					"value":false
				},
				{
					"isHide":false,
					"name":"EntityConfig",
					"value":"[Entity(User|Code(Code)#Name(Name))]"
				},
				{
					"isHide":false,
					"name":"EntityCode",
					"value":"User"
				}
			],
			"select":"SigningAccountantId[Entity(User|Code(Code)#Name(Name))]",
			"sort":19
		},
		{
			"action":[
				
			],
			"authority":[
				
			],
			"children":[
				
			],
			"code":"relationshipTwo",
			"control":"Text",
			"dataPermission":[
				
			],
			"isReference":false,
			"name":"签字注册会计师2关系所在地",
			"otherChildren":[
				
			],
			"property":[
				{
					"isHide":false,
					"name":"IsFromAttribute",
					"value":"true"
				}
			],
			"sort":20
		},
		{
			"action":[
				
			],
			"authority":[
				
			],
			"children":[
				
			],
			"code":"auditOpinion",
			"control":"Combobox",
			"dataPermission":[
				
			],
			"isReference":false,
			"name":"意见类型",
			"otherChildren":[
				
			],
			"property":[
				{
					"isHide":false,
					"name":"Length",
					"value":4
				},
				{
					"isHide":false,
					"name":"Required",
					"value":false
				},
				{
					"isHide":false,
					"name":"IsReadOnly",
					"value":false
				},
				{
					"isHide":false,
					"name":"IsTransient",
					"value":false
				},
				{
					"isHide":false,
					"name":"EnumType",
					"value":"AuditOpinion"
				},
				{
					"isHide":false,
					"name":"EntityConfig",
					"value":"[Enum(AuditOpinion)]"
				}
			],
			"select":"AuditOpinion[Enum(AuditOpinion)]",
			"sort":21
		},
		{
			"action":[
				
			],
			"authority":[
				
			],
			"children":[
				
			],
			"code":"amount",
			"control":"Number",
			"dataPermission":[
				
			],
			"isReference":false,
			"name":"收费金额（元）",
			"otherChildren":[
				
			],
			"property":[
				{
					"isHide":false,
					"name":"Length",
					"value":18
				},
				{
					"isHide":false,
					"name":"Required",
					"value":false
				},
				{
					"isHide":false,
					"name":"IsReadOnly",
					"value":false
				},
				{
					"isHide":false,
					"name":"IsTransient",
					"value":false
				}
			],
			"select":"Amount",
			"sort":22
		},
		{
			"action":[
				
			],
			"authority":[
				
			],
			"children":[
				
			],
			"code":"9",
			"control":"Text",
			"dataPermission":[
				
			],
			"isReference":false,
			"name":"备注（选填）",
			"otherChildren":[
				
			],
			"property":[
				
			],
			"sort":23
		},
		{
			"action":[
				
			],
			"authority":[
				
			],
			"children":[
				
			],
			"code":"reportTextUrl",
			"control":"Text",
			"dataPermission":[
				
			],
			"isReference":false,
			"name":"审计报告下载链接",
			"otherChildren":[
				
			],
			"property":[
				{
					"isHide":false,
					"name":"IsFromAttribute",
					"value":"true"
				}
			],
			"sort":24
		},
		{
			"action":[
				
			],
			"authority":[
				
			],
			"children":[
				
			],
			"code":"businessSubclassesValue",
			"control":"Combobox",
			"dataPermission":[
				
			],
			"isReference":false,
			"name":"子业务类型",
			"otherChildren":[
				
			],
			"property":[
				{
					"isHide":false,
					"name":"Length",
					"value":200
				},
				{
					"isHide":false,
					"name":"Required",
					"value":false
				},
				{
					"isHide":false,
					"name":"IsReadOnly",
					"value":false
				},
				{
					"isHide":false,
					"name":"IsTransient",
					"value":false
				}
			],
			"select":"BusinessSubclassesValue",
			"sort":12
		},
		{
			"action":[
				
			],
			"authority":[
				
			],
			"children":[
				
			],
			"code":"deptId",
			"control":"Hidden",
			"dataPermission":[
				
			],
			"isReference":false,
			"name":"部门",
			"otherChildren":[
				
			],
			"property":[
				{
					"isHide":false,
					"name":"Length",
					"value":100
				},
				{
					"isHide":false,
					"name":"Required",
					"value":false
				},
				{
					"isHide":false,
					"name":"IsReadOnly",
					"value":false
				},
				{
					"isHide":false,
					"name":"IsTransient",
					"value":false
				},
				{
					"isHide":false,
					"name":"EntityConfig",
					"value":"[Entity(Department|Code(Code)#Name(Name))]"
				},
				{
					"isHide":false,
					"name":"EntityCode",
					"value":"Department"
				}
			],
			"select":"DeptId[Entity(Department|Code(Code)#Name(Name))]",
			"sort":1
		}
	],
	"code":"governmentCompanyAudit",
	"control":"GridPanel",
	"dataPermission":[
		
	],
	"isReference":false,
	"javaScript":"this.OpenLinkForm = function (row, field, schemacode) {
    console.log('Lu');
    var me = this;
    var id = row.id;
    var url = "UIForm-Web-Schema.json";
    parameter = {};
    parameter.schemaCode = schemacode;
    if (field != 'reportCode') {
        parameter.readOnly = true;
        id = row.report_Project_Id;
    }
    me.OpenEmbedForm(me, url, parameter, function (form) {
        var date = {};
        date.id = id;
        if (form.Load) form.Load(date);
    });
};

this.ExportBusiness = function (e, formId, fileName) {
    var me = this;
    var parameter = me.GetQueryParams();
    if (Framework.IsNullOrEmpty(parameter)) return;

    //var name = me.displayname;
    if (!Framework.IsNullOrEmpty(fileName)) name = fileName.trim();
    if (Framework.IsNullOrEmpty(name)) name = "导出文件";

    var exportColumns = [];
    parameter.fileName = name;
    parameter.exportColumns = JSON.stringify(exportColumns);
    parameter.formId = formId;
    if (Framework.IsNullOrEmpty(parameter)) return;
console.log(me.exporturl);

    if (me.exporturl) {
        Progress.IsClose = false;
        Framework.AjaxRequest(me, me.exporturl, 'post', parameter, true, function (result) {
            Framework.ExportExcel(result);
            Progress.HideProgress(3000);//延迟关闭
        });
    }
};",
	"name":"业务报备查询统计",
	"otherChildren":[
		
	],
	"property":[
		{
			"isHide":false,
			"name":"BaseCode",
			"value":"registFormQuery"
		},
		{
			"isHide":false,
			"name":"Name",
			"value":"事业单位审计"
		},
		{
			"isHide":false,
			"name":"IsReadOnly",
			"value":false
		},
		{
			"isHide":false,
			"name":"Description"
		},
		{
			"isHide":false,
			"name":"FormId",
			"value":343138
		},
		{
			"isHide":false,
			"name":"OrderBy"
		},
		{
			"isHide":false,
			"name":"IsSqlForm",
			"value":false
		},
		{
			"isHide":false,
			"name":"JavaScript",
			"value":"var registerJavaScript = function () {

 

this.OpenLinkForm = function (row, field, schemacode) {
    console.log('Lu');
    var me = this;
    var id = row.id;
    var url = "UIForm-Web-Schema.json";
    parameter = {};
    parameter.schemaCode = schemacode;
    if (field != 'reportCode') {
        parameter.readOnly = true;
        id = row.report_Project_Id;
    }
    me.OpenEmbedForm(me, url, parameter, function (form) {
        var date = {};
        date.id = id;
        if (form.Load) form.Load(date);
    });
};

this.ExportBusiness = function (e, formId, fileName) {
    var me = this;
    var parameter = me.GetQueryParams();
    if (Framework.IsNullOrEmpty(parameter)) return;

    //var name = me.displayname;
    if (!Framework.IsNullOrEmpty(fileName)) name = fileName.trim();
    if (Framework.IsNullOrEmpty(name)) name = "导出文件";

    var exportColumns = [];
    parameter.fileName = name;
    parameter.exportColumns = JSON.stringify(exportColumns);
    parameter.formId = formId;
    if (Framework.IsNullOrEmpty(parameter)) return;
console.log(me.exporturl);

    if (me.exporturl) {
        Progress.IsClose = false;
        Framework.AjaxRequest(me, me.exporturl, 'post', parameter, true, function (result) {
            Framework.ExportExcel(result);
            Progress.HideProgress(3000);//延迟关闭
        });
    }
};

 

};"
		},
		{
			"isHide":false,
			"name":"EntityType",
			"value":"RegistForm"
		},
		{
			"isHide":false,
			"name":"QueryForm",
			"value":"RegistFormQueryWhere"
		},
		{
			"isHide":false,
			"name":"DisableSearch",
			"value":"false"
		}
	],
	"sort":0
}
{"action":[{"code":"CompleteReport","name":"完成对外报备","property":[{"isHide":false,"name":"AuthorityRemark","value":"完成对外报备"},{"isHide":false,"name":"OnClick","value":"OnCilck"},{"isHide":false,"name":"JavaScript","value":"var registerJavaScript = function () {\r\n \r\nthis.OnCilck=&nbsp;function&nbsp;()&nbsp;{\n&nbsp;&nbsp;console.log('Lu');&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;me&nbsp;=&nbsp;this;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;grid=me.GetParent().GetParent();\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;data&nbsp;=&nbsp;grid.GetSelected();\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNullOrEmpty(data)&nbsp;||&nbsp;Framework.IsNullOrEmpty(data.id))&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Framework.Message(&quot;请选择数据!&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;\n&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;var&nbsp;parameter&nbsp;=&nbsp;{};&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parameter.registFormId=&nbsp;data.id;&nbsp;&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parameter.queryOrBusiness='1';//表示报备查询的功能\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Framework.AjaxRequest(me,&nbsp;'RegistForm-uptRegistFormDocState.do',&nbsp;'get',&nbsp;parameter,&nbsp;true,&nbsp;function&nbsp;(result)&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;grid.Load();&nbsp;\n&nbsp;});&nbsp;\n&nbsp;\n}\r\n \r\n};"}],"sort":0},{"code":"RegistFail","name":"报备失败","property":[{"isHide":false,"name":"OnClick","value":"OnFailClick"},{"isHide":false,"name":"JavaScript","value":"var registerJavaScript = function () {\r\n \r\nthis.OnFailClick=&nbsp;function&nbsp;()&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;me&nbsp;=&nbsp;this;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;grid=me.GetParent().GetParent();\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;data&nbsp;=&nbsp;grid.GetSelected();\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNullOrEmpty(data)&nbsp;||&nbsp;Framework.IsNullOrEmpty(data.id))&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Framework.Message(&quot;请选择数据!&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;\n&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;if(data.docState.id==&nbsp;'30'){\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;parameter&nbsp;=&nbsp;{};&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parameter.registFormId=&nbsp;data.id;&nbsp;&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parameter.queryOrBusiness='1';//表示报备查询的功能\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Framework.AjaxRequest(me,&nbsp;'RegistForm-uptRegistFormStatus.do',&nbsp;'get',&nbsp;parameter,&nbsp;true,&nbsp;function&nbsp;(result)&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;grid.Load();&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});&nbsp;\n&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;}else{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Framework.Message(&quot;只能更新“已报备”状态的记录为报备失败!&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;}\n}\r\n \r\n};"}],"sort":1},{"code":"ExportButton","name":"导出","property":[{"isHide":false,"name":"OnClick","value":"OnExportClick"},{"isHide":false,"name":"JavaScript","value":"var registerJavaScript = function () {\r\n \r\nthis.OnExportClick=&nbsp;function&nbsp;()&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;me&nbsp;=&nbsp;this;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;url&nbsp;=&nbsp;&quot;UIForm-Web-Schema.json&quot;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parameter&nbsp;=&nbsp;{};\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parameter.schemaType&nbsp;=&nbsp;&quot;FormPanel&quot;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parameter.schemaCode&nbsp;=&nbsp;&quot;RegistExportForm&quot;;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Framework.OpenForm(me,&nbsp;url,&nbsp;parameter,&nbsp;function&nbsp;(form)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;console.log(form);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;params&nbsp;=&nbsp;{};\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;params.renderForm=&nbsp;'业务报备查询统计';\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Framework.AjaxRequest&nbsp;(me,&quot;Report-queryItemByRenderForm.do&quot;,'get',params,false,function(result){\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;form.DownForCode('TemplateType').LoadData(result);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\r\n \r\n};"}],"sort":2}],"authority":[],"children":[{"action":[],"authority":[],"children":[],"code":"exportProjectName","control":"Text","dataPermission":[],"isReference":false,"name":"项目名称","otherChildren":[],"property":[{"isHide":false,"name":"IsFromAttribute","value":"true"}],"sort":0},{"action":[],"authority":[],"children":[],"code":"financialReportType","control":"Combobox","dataPermission":[],"isReference":false,"name":"财政报备类型","otherChildren":[],"property":[{"isHide":false,"name":"Length","value":4},{"isHide":false,"name":"Required","value":false},{"isHide":false,"name":"IsReadOnly","value":false},{"isHide":false,"name":"IsTransient","value":false},{"isHide":false,"name":"EnumType","value":"FinancialReportType"},{"isHide":false,"name":"EntityConfig","value":"[Enum(FinancialReportType)]"}],"select":"FinancialReportType[Enum(FinancialReportType)]","sort":2},{"action":[],"authority":[],"children":[],"code":"practiceId","control":"GridCombobox","dataPermission":[],"isReference":false,"name":"执业单位（分所）","otherChildren":[],"property":[{"isHide":false,"name":"Length","value":50},{"isHide":false,"name":"Required","value":false},{"isHide":false,"name":"IsReadOnly","value":false},{"isHide":false,"name":"IsTransient","value":false},{"isHide":false,"name":"EntityConfig","value":"[Entity(Department|Code(Code)#Name(Name))]"},{"isHide":false,"name":"EntityCode","value":"Department"}],"select":"PracticeId[Entity(Department|Code(Code)#Name(Name))]","sort":3},{"action":[],"authority":[],"children":[],"code":"uSCCode","control":"Text","dataPermission":[],"isReference":false,"name":"营业执照号或机构代码","otherChildren":[],"property":[{"isHide":false,"name":"Length","value":100},{"isHide":false,"name":"Required","value":false},{"isHide":false,"name":"IsReadOnly","value":false},{"isHide":false,"name":"IsTransient","value":false}],"select":"USCCode","sort":4},{"action":[],"authority":[],"children":[],"code":"customerName","control":"Text","dataPermission":[],"isReference":false,"name":"客户名称","otherChildren":[],"property":[{"isHide":false,"name":"Length","value":100},{"isHide":false,"name":"Required","value":false},{"isHide":false,"name":"IsReadOnly","value":false},{"isHide":false,"name":"IsTransient","value":false}],"select":"CustomerName","sort":5},{"action":[],"authority":[],"children":[],"code":"auditStart","control":"Date","dataPermission":[],"isReference":false,"name":"会计期间（开始）","otherChildren":[],"property":[{"isHide":false,"name":"Length","value":23},{"isHide":false,"name":"Required","value":false},{"isHide":false,"name":"IsReadOnly","value":false},{"isHide":false,"name":"IsTransient","value":false}],"select":"AuditStart","sort":6},{"action":[],"authority":[],"children":[],"code":"auditEnd","control":"Date","dataPermission":[],"isReference":false,"name":"会计期间（结束）","otherChildren":[],"property":[{"isHide":false,"name":"Length","value":23},{"isHide":false,"name":"Required","value":false},{"isHide":false,"name":"IsReadOnly","value":false},{"isHide":false,"name":"IsTransient","value":false}],"select":"AuditEnd","sort":7},{"action":[],"authority":[],"children":[],"code":"reportId_ProjectId_CustomerTypeValue","control":"Text","dataPermission":[],"isReference":false,"name":"单位类型","otherChildren":[],"property":[],"sort":8},{"action":[],"authority":[],"children":[],"code":"isSecuritiesBusiness","control":"Combobox","dataPermission":[],"isReference":false,"name":"是否属于证券业务","otherChildren":[],"property":[{"isHide":false,"name":"Length","value":4},{"isHide":false,"name":"Required","value":false},{"isHide":false,"name":"IsReadOnly","value":false},{"isHide":false,"name":"IsTransient","value":false},{"isHide":false,"name":"EnumType","value":"YesOrNo"},{"isHide":false,"name":"EntityConfig","value":"[Enum(YesOrNo)]"}],"select":"IsSecuritiesBusiness[Enum(YesOrNo)]","sort":9},{"action":[],"authority":[],"children":[],"code":"undertakesDate","control":"Date","dataPermission":[],"isReference":false,"name":"首次承接业务日期","otherChildren":[],"property":[{"isHide":false,"name":"Length","value":23},{"isHide":false,"name":"Required","value":false},{"isHide":false,"name":"IsReadOnly","value":false},{"isHide":false,"name":"IsTransient","value":false}],"select":"UndertakesDate","sort":10},{"action":[],"authority":[],"children":[],"code":"businessTypeValue","control":"Combobox","dataPermission":[],"isReference":false,"name":"业务类型","otherChildren":[],"property":[{"isHide":false,"name":"Length","value":200},{"isHide":false,"name":"Required","value":false},{"isHide":false,"name":"IsReadOnly","value":false},{"isHide":false,"name":"IsTransient","value":false}],"select":"BusinessTypeValue","sort":11},{"action":[],"authority":[],"children":[],"code":"plannedDateIssuanceReport","control":"Date","dataPermission":[],"isReference":false,"name":"报告日期","otherChildren":[],"property":[{"isHide":false,"name":"Length","value":23},{"isHide":false,"name":"Required","value":false},{"isHide":false,"name":"IsReadOnly","value":false},{"isHide":false,"name":"IsTransient","value":false}],"select":"PlannedDateIssuanceReport","sort":13},{"action":[],"authority":[],"children":[],"code":"reportCode","control":"Text","dataPermission":[],"isReference":false,"name":"报告文号","otherChildren":[],"property":[{"isHide":false,"name":"Length","value":200},{"isHide":false,"name":"Required","value":false},{"isHide":false,"name":"IsReadOnly","value":false},{"isHide":false,"name":"IsTransient","value":false}],"select":"ReportCode","sort":14},{"action":[],"authority":[],"children":[],"code":"signingPartnerCPAQualification","control":"Text","dataPermission":[],"isReference":false,"name":"签字注会1证书号","otherChildren":[],"property":[{"isHide":false,"name":"Length","value":100},{"isHide":false,"name":"Required","value":false},{"isHide":false,"name":"IsReadOnly","value":false},{"isHide":false,"name":"IsTransient","value":false}],"select":"SigningPartnerCPAQualification","sort":15},{"action":[],"authority":[],"children":[],"code":"signingPartnerId","control":"GridCombobox","dataPermission":[],"isReference":false,"name":"签字注册会计师1","otherChildren":[],"property":[{"isHide":false,"name":"Length","value":16},{"isHide":false,"name":"Required","value":false},{"isHide":false,"name":"IsReadOnly","value":false},{"isHide":false,"name":"IsTransient","value":false},{"isHide":false,"name":"EntityConfig","value":"[Entity(User|Code(Code)#Name(Name))]"},{"isHide":false,"name":"EntityCode","value":"User"}],"select":"SigningPartnerId[Entity(User|Code(Code)#Name(Name))]","sort":16},{"action":[],"authority":[],"children":[],"code":"relationshipOne","control":"Text","dataPermission":[],"isReference":false,"name":"签字注册会计师1关系所在地","otherChildren":[],"property":[{"isHide":false,"name":"IsFromAttribute","value":"true"}],"sort":17},{"action":[],"authority":[],"children":[],"code":"signingAccountantCPAQualification","control":"Text","dataPermission":[],"isReference":false,"name":"签字注会2证书号","otherChildren":[],"property":[{"isHide":false,"name":"Length","value":100},{"isHide":false,"name":"Required","value":false},{"isHide":false,"name":"IsReadOnly","value":false},{"isHide":false,"name":"IsTransient","value":false}],"select":"SigningAccountantCPAQualification","sort":18},{"action":[],"authority":[],"children":[],"code":"signingAccountantId","control":"GridCombobox","dataPermission":[],"isReference":false,"name":"签字注册会计师2","otherChildren":[],"property":[{"isHide":false,"name":"Length","value":16},{"isHide":false,"name":"Required","value":false},{"isHide":false,"name":"IsReadOnly","value":false},{"isHide":false,"name":"IsTransient","value":false},{"isHide":false,"name":"EntityConfig","value":"[Entity(User|Code(Code)#Name(Name))]"},{"isHide":false,"name":"EntityCode","value":"User"}],"select":"SigningAccountantId[Entity(User|Code(Code)#Name(Name))]","sort":19},{"action":[],"authority":[],"children":[],"code":"relationshipTwo","control":"Text","dataPermission":[],"isReference":false,"name":"签字注册会计师2关系所在地","otherChildren":[],"property":[{"isHide":false,"name":"IsFromAttribute","value":"true"}],"sort":20},{"action":[],"authority":[],"children":[],"code":"auditOpinion","control":"Combobox","dataPermission":[],"isReference":false,"name":"意见类型","otherChildren":[],"property":[{"isHide":false,"name":"Length","value":4},{"isHide":false,"name":"Required","value":false},{"isHide":false,"name":"IsReadOnly","value":false},{"isHide":false,"name":"IsTransient","value":false},{"isHide":false,"name":"EnumType","value":"AuditOpinion"},{"isHide":false,"name":"EntityConfig","value":"[Enum(AuditOpinion)]"}],"select":"AuditOpinion[Enum(AuditOpinion)]","sort":21},{"action":[],"authority":[],"children":[],"code":"amount","control":"Number","dataPermission":[],"isReference":false,"name":"收费金额（元）","otherChildren":[],"property":[{"isHide":false,"name":"Length","value":18},{"isHide":false,"name":"Required","value":false},{"isHide":false,"name":"IsReadOnly","value":false},{"isHide":false,"name":"IsTransient","value":false}],"select":"Amount","sort":22},{"action":[],"authority":[],"children":[],"code":"9","control":"Text","dataPermission":[],"isReference":false,"name":"备注（选填）","otherChildren":[],"property":[],"sort":23},{"action":[],"authority":[],"children":[],"code":"reportTextUrl","control":"Text","dataPermission":[],"isReference":false,"name":"审计报告下载链接","otherChildren":[],"property":[{"isHide":false,"name":"IsFromAttribute","value":"true"}],"sort":24},{"action":[],"authority":[],"children":[],"code":"businessSubclassesValue","control":"Combobox","dataPermission":[],"isReference":false,"name":"子业务类型","otherChildren":[],"property":[{"isHide":false,"name":"Length","value":200},{"isHide":false,"name":"Required","value":false},{"isHide":false,"name":"IsReadOnly","value":false},{"isHide":false,"name":"IsTransient","value":false}],"select":"BusinessSubclassesValue","sort":12},{"action":[],"authority":[],"children":[],"code":"deptId","control":"Hidden","dataPermission":[],"isReference":false,"name":"部门","otherChildren":[],"property":[{"isHide":false,"name":"Length","value":100},{"isHide":false,"name":"Required","value":false},{"isHide":false,"name":"IsReadOnly","value":false},{"isHide":false,"name":"IsTransient","value":false},{"isHide":false,"name":"EntityConfig","value":"[Entity(Department|Code(Code)#Name(Name))]"},{"isHide":false,"name":"EntityCode","value":"Department"}],"select":"DeptId[Entity(Department|Code(Code)#Name(Name))]","sort":1}],"code":"governmentCompanyAudit","control":"GridPanel","dataPermission":[],"isReference":false,"javaScript":"this.OpenLinkForm&nbsp;=&nbsp;function&nbsp;(row,&nbsp;field,&nbsp;schemacode)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;console.log('Lu');\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;me&nbsp;=&nbsp;this;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;id&nbsp;=&nbsp;row.id;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;url&nbsp;=&nbsp;&quot;UIForm-Web-Schema.json&quot;;\n&nbsp;&nbsp;&nbsp;&nbsp;parameter&nbsp;=&nbsp;{};\n&nbsp;&nbsp;&nbsp;&nbsp;parameter.schemaCode&nbsp;=&nbsp;schemacode;\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(field&nbsp;!=&nbsp;'reportCode')&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parameter.readOnly&nbsp;=&nbsp;true;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id&nbsp;=&nbsp;row.report_Project_Id;\n&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;me.OpenEmbedForm(me,&nbsp;url,&nbsp;parameter,&nbsp;function&nbsp;(form)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;date&nbsp;=&nbsp;{};\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;date.id&nbsp;=&nbsp;id;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(form.Load)&nbsp;form.Load(date);\n&nbsp;&nbsp;&nbsp;&nbsp;});\n};\n\nthis.ExportBusiness&nbsp;=&nbsp;function&nbsp;(e,&nbsp;formId,&nbsp;fileName)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;me&nbsp;=&nbsp;this;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;parameter&nbsp;=&nbsp;me.GetQueryParams();\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNullOrEmpty(parameter))&nbsp;return;\n\n&nbsp;&nbsp;&nbsp;&nbsp;//var&nbsp;name&nbsp;=&nbsp;me.displayname;\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!Framework.IsNullOrEmpty(fileName))&nbsp;name&nbsp;=&nbsp;fileName.trim();\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNullOrEmpty(name))&nbsp;name&nbsp;=&nbsp;&quot;导出文件&quot;;\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;exportColumns&nbsp;=&nbsp;[];\n&nbsp;&nbsp;&nbsp;&nbsp;parameter.fileName&nbsp;=&nbsp;name;\n&nbsp;&nbsp;&nbsp;&nbsp;parameter.exportColumns&nbsp;=&nbsp;JSON.stringify(exportColumns);\n&nbsp;&nbsp;&nbsp;&nbsp;parameter.formId&nbsp;=&nbsp;formId;\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNullOrEmpty(parameter))&nbsp;return;\nconsole.log(me.exporturl);\n\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(me.exporturl)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Progress.IsClose&nbsp;=&nbsp;false;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Framework.AjaxRequest(me,&nbsp;me.exporturl,&nbsp;'post',&nbsp;parameter,&nbsp;true,&nbsp;function&nbsp;(result)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Framework.ExportExcel(result);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Progress.HideProgress(3000);//延迟关闭\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});\n&nbsp;&nbsp;&nbsp;&nbsp;}\n};","name":"业务报备查询统计","otherChildren":[],"property":[{"isHide":false,"name":"BaseCode","value":"registFormQuery"},{"isHide":false,"name":"Name","value":"事业单位审计"},{"isHide":false,"name":"IsReadOnly","value":false},{"isHide":false,"name":"Description"},{"isHide":false,"name":"FormId","value":343138},{"isHide":false,"name":"OrderBy"},{"isHide":false,"name":"IsSqlForm","value":false},{"isHide":false,"name":"JavaScript","value":"var registerJavaScript = function () {\r\n \r\nthis.OpenLinkForm&nbsp;=&nbsp;function&nbsp;(row,&nbsp;field,&nbsp;schemacode)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;console.log('Lu');\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;me&nbsp;=&nbsp;this;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;id&nbsp;=&nbsp;row.id;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;url&nbsp;=&nbsp;&quot;UIForm-Web-Schema.json&quot;;\n&nbsp;&nbsp;&nbsp;&nbsp;parameter&nbsp;=&nbsp;{};\n&nbsp;&nbsp;&nbsp;&nbsp;parameter.schemaCode&nbsp;=&nbsp;schemacode;\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(field&nbsp;!=&nbsp;'reportCode')&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parameter.readOnly&nbsp;=&nbsp;true;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id&nbsp;=&nbsp;row.report_Project_Id;\n&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;me.OpenEmbedForm(me,&nbsp;url,&nbsp;parameter,&nbsp;function&nbsp;(form)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;date&nbsp;=&nbsp;{};\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;date.id&nbsp;=&nbsp;id;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(form.Load)&nbsp;form.Load(date);\n&nbsp;&nbsp;&nbsp;&nbsp;});\n};\n\nthis.ExportBusiness&nbsp;=&nbsp;function&nbsp;(e,&nbsp;formId,&nbsp;fileName)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;me&nbsp;=&nbsp;this;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;parameter&nbsp;=&nbsp;me.GetQueryParams();\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNullOrEmpty(parameter))&nbsp;return;\n\n&nbsp;&nbsp;&nbsp;&nbsp;//var&nbsp;name&nbsp;=&nbsp;me.displayname;\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!Framework.IsNullOrEmpty(fileName))&nbsp;name&nbsp;=&nbsp;fileName.trim();\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNullOrEmpty(name))&nbsp;name&nbsp;=&nbsp;&quot;导出文件&quot;;\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;exportColumns&nbsp;=&nbsp;[];\n&nbsp;&nbsp;&nbsp;&nbsp;parameter.fileName&nbsp;=&nbsp;name;\n&nbsp;&nbsp;&nbsp;&nbsp;parameter.exportColumns&nbsp;=&nbsp;JSON.stringify(exportColumns);\n&nbsp;&nbsp;&nbsp;&nbsp;parameter.formId&nbsp;=&nbsp;formId;\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNullOrEmpty(parameter))&nbsp;return;\nconsole.log(me.exporturl);\n\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(me.exporturl)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Progress.IsClose&nbsp;=&nbsp;false;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Framework.AjaxRequest(me,&nbsp;me.exporturl,&nbsp;'post',&nbsp;parameter,&nbsp;true,&nbsp;function&nbsp;(result)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Framework.ExportExcel(result);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Progress.HideProgress(3000);//延迟关闭\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});\n&nbsp;&nbsp;&nbsp;&nbsp;}\n};\r\n \r\n};"},{"isHide":false,"name":"EntityType","value":"RegistForm"},{"isHide":false,"name":"QueryForm","value":"RegistFormQueryWhere"},{"isHide":false,"name":"DisableSearch","value":"false"}],"sort":0}
2020-03-29 09:04:31