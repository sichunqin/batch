{
	"action":[
		{
			"code":"UpLoadFile",
			"name":"上传",
			"property":[
				
			],
			"sort":0
		},
		{
			"code":"Delete",
			"name":"删除",
			"property":[
				
			],
			"sort":1
		},
		{
			"code":"ShowDetail",
			"name":"查看",
			"property":[
				
			],
			"sort":2
		},
		{
			"code":"Export",
			"container":"GridPanel",
			"name":"导出",
			"property":[
				
			],
			"sort":3
		}
	],
	"authority":[
		
	],
	"children":[
		{
			"action":[
				
			],
			"authority":[
				
			],
			"children":[
				{
					"action":[
						
					],
					"authority":[
						
					],
					"children":[
						
					],
					"code":"id",
					"control":"Hidden",
					"dataPermission":[
						
					],
					"isReference":false,
					"javaScript":"",
					"name":"主键",
					"otherChildren":[
						
					],
					"property":[
						{
							"isHide":false,
							"name":"Length",
							"value":16
						},
						{
							"isHide":false,
							"name":"Required",
							"value":true
						},
						{
							"isHide":false,
							"name":"IsReadOnly",
							"value":true
						},
						{
							"isHide":false,
							"name":"IsTransient",
							"value":false
						}
					],
					"select":"Id",
					"sort":1
				},
				{
					"action":[
						
					],
					"authority":[
						
					],
					"children":[
						
					],
					"code":"timestamp",
					"control":"Hidden",
					"dataPermission":[
						
					],
					"isReference":false,
					"javaScript":"",
					"name":"时间戳",
					"otherChildren":[
						
					],
					"property":[
						{
							"isHide":false,
							"name":"Length",
							"value":8
						},
						{
							"isHide":false,
							"name":"Required",
							"value":false
						},
						{
							"isHide":false,
							"name":"IsReadOnly",
							"value":true
						},
						{
							"isHide":false,
							"name":"IsTransient",
							"value":false
						}
					],
					"select":"Timestamp",
					"sort":2
				},
				{
					"action":[
						
					],
					"authority":[
						
					],
					"children":[
						
					],
					"code":"name",
					"control":"Text",
					"dataPermission":[
						
					],
					"isReference":false,
					"javaScript":"",
					"name":"名称",
					"otherChildren":[
						
					],
					"property":[
						{
							"isHide":false,
							"name":"Length",
							"value":500
						},
						{
							"isHide":false,
							"name":"Required",
							"value":true
						},
						{
							"isHide":false,
							"name":"IsReadOnly",
							"value":false
						},
						{
							"isHide":false,
							"name":"IsTransient",
							"value":false
						}
					],
					"select":"Name",
					"sort":3
				},
				{
					"action":[
						
					],
					"authority":[
						
					],
					"children":[
						
					],
					"code":"size",
					"control":"Text",
					"dataPermission":[
						
					],
					"isReference":false,
					"javaScript":"",
					"name":"大小",
					"otherChildren":[
						
					],
					"property":[
						{
							"isHide":false,
							"name":"Length",
							"value":50
						},
						{
							"isHide":false,
							"name":"Required",
							"value":true
						},
						{
							"isHide":false,
							"name":"IsReadOnly",
							"value":false
						},
						{
							"isHide":false,
							"name":"IsTransient",
							"value":false
						}
					],
					"select":"Size",
					"sort":4
				},
				{
					"action":[
						
					],
					"authority":[
						
					],
					"children":[
						
					],
					"code":"suffix",
					"control":"Text",
					"dataPermission":[
						
					],
					"isReference":false,
					"javaScript":"",
					"name":"后缀",
					"otherChildren":[
						
					],
					"property":[
						{
							"isHide":false,
							"name":"Length",
							"value":50
						},
						{
							"isHide":false,
							"name":"Required",
							"value":true
						},
						{
							"isHide":false,
							"name":"IsReadOnly",
							"value":false
						},
						{
							"isHide":false,
							"name":"IsTransient",
							"value":false
						}
					],
					"select":"Suffix",
					"sort":5
				},
				{
					"action":[
						
					],
					"authority":[
						
					],
					"children":[
						
					],
					"code":"path",
					"control":"Text",
					"dataPermission":[
						
					],
					"isReference":false,
					"javaScript":"",
					"name":"路径",
					"otherChildren":[
						
					],
					"property":[
						{
							"isHide":false,
							"name":"Length",
							"value":500
						},
						{
							"isHide":false,
							"name":"Required",
							"value":false
						},
						{
							"isHide":false,
							"name":"IsReadOnly",
							"value":false
						},
						{
							"isHide":false,
							"name":"IsTransient",
							"value":false
						}
					],
					"select":"Path",
					"sort":6
				},
				{
					"action":[
						
					],
					"authority":[
						
					],
					"children":[
						
					],
					"code":"md5",
					"control":"Hidden",
					"dataPermission":[
						
					],
					"isReference":false,
					"javaScript":"",
					"name":"Md5",
					"otherChildren":[
						
					],
					"property":[
						{
							"isHide":false,
							"name":"Length",
							"value":50
						},
						{
							"isHide":false,
							"name":"Required",
							"value":true
						},
						{
							"isHide":false,
							"name":"IsReadOnly",
							"value":false
						},
						{
							"isHide":false,
							"name":"IsTransient",
							"value":false
						}
					],
					"select":"Md5",
					"sort":7
				},
				{
					"action":[
						
					],
					"authority":[
						
					],
					"children":[
						
					],
					"code":"remark",
					"control":"TextArea",
					"dataPermission":[
						
					],
					"isReference":false,
					"javaScript":"",
					"name":"备注",
					"otherChildren":[
						
					],
					"property":[
						{
							"isHide":false,
							"name":"Length",
							"value":-1
						},
						{
							"isHide":false,
							"name":"Required",
							"value":false
						},
						{
							"isHide":false,
							"name":"IsReadOnly",
							"value":false
						},
						{
							"isHide":false,
							"name":"IsTransient",
							"value":false
						}
					],
					"select":"Remark",
					"sort":8
				},
				{
					"action":[
						
					],
					"authority":[
						
					],
					"children":[
						
					],
					"code":"entityId",
					"control":"Hidden",
					"dataPermission":[
						
					],
					"isReference":false,
					"javaScript":"",
					"name":"EntityId",
					"otherChildren":[
						
					],
					"property":[
						{
							"isHide":false,
							"name":"Length",
							"value":500
						},
						{
							"isHide":false,
							"name":"Required",
							"value":false
						},
						{
							"isHide":false,
							"name":"IsReadOnly",
							"value":false
						},
						{
							"isHide":false,
							"name":"IsTransient",
							"value":false
						}
					],
					"select":"EntityId",
					"sort":9
				},
				{
					"action":[
						
					],
					"authority":[
						
					],
					"children":[
						
					],
					"code":"entityName",
					"control":"Hidden",
					"dataPermission":[
						
					],
					"isReference":false,
					"javaScript":"",
					"name":"实体",
					"otherChildren":[
						
					],
					"property":[
						{
							"isHide":false,
							"name":"Length",
							"value":500
						},
						{
							"isHide":false,
							"name":"Required",
							"value":false
						},
						{
							"isHide":false,
							"name":"IsReadOnly",
							"value":false
						},
						{
							"isHide":false,
							"name":"IsTransient",
							"value":false
						}
					],
					"select":"EntityName",
					"sort":10
				}
			],
			"code":"columnGroup",
			"control":"ColumnGroup",
			"dataPermission":[
				
			],
			"isReference":false,
			"javaScript":"",
			"name":"列集合",
			"otherChildren":[
				
			],
			"property":[
				
			],
			"sort":0
		},
		{
			"action":[
				
			],
			"authority":[
				
			],
			"children":[
				
			],
			"code":"uuid",
			"control":"Hidden",
			"dataPermission":[
				
			],
			"isReference":false,
			"name":"uuid",
			"otherChildren":[
				
			],
			"property":[
				
			],
			"sort":1000
		}
	],
	"code":"attachmentDxnGrid",
	"control":"GridPanel",
	"dataPermission":[
		
	],
	"isReference":false,
	"javaScript":"this.UploadCompleteCallBack = function (files) {
    var list = [];

    if (Framework.IsNullOrEmpty(files))
        return list;

    Framework.ForEach(files, function (file) {
        var data = {name: file.name, size: file.size, suffix: file.suffix, path: file.path, md5: file.md5};
        list.push(data);
    });

    return list;
};

this.BeforeLoad = function () {
    var me = this;
    var form = me.MainContainer;
    if (Framework.IsNullOrEmpty(form)) return false;

    var entityId = form.DownForCode("Id");

    if (Framework.IsNullOrEmpty(entityId) || !entityId.GetValue()) return false;

    var parameter = {};
    parameter.entityId = entityId.GetValue();
    parameter.entityType = form.entitytype;
    me.params = JSON.stringify(parameter);
}",
	"name":"附件",
	"otherChildren":[
		
	],
	"property":[
		{
			"isHide":false,
			"name":"BaseCode",
			"value":"attachmentDxnGrid"
		},
		{
			"isHide":false,
			"name":"Name",
			"value":"附件"
		},
		{
			"isHide":false,
			"name":"IsReadOnly",
			"value":false
		},
		{
			"isHide":false,
			"name":"Description"
		},
		{
			"isHide":false,
			"name":"FormId",
			"value":21224
		},
		{
			"isHide":false,
			"name":"OrderBy"
		},
		{
			"isHide":false,
			"name":"IsSqlForm",
			"value":false
		},
		{
			"isHide":false,
			"name":"JavaScript",
			"value":"var registerJavaScript = function () {

 

this.UploadCompleteCallBack = function (files) {
    var list = [];

    if (Framework.IsNullOrEmpty(files))
        return list;

    Framework.ForEach(files, function (file) {
        var data = {name: file.name, size: file.size, suffix: file.suffix, path: file.path, md5: file.md5};
        list.push(data);
    });

    return list;
};

this.BeforeLoad = function () {
    var me = this;
    var form = me.MainContainer;
    if (Framework.IsNullOrEmpty(form)) return false;

    var entityId = form.DownForCode("Id");

    if (Framework.IsNullOrEmpty(entityId) || !entityId.GetValue()) return false;

    var parameter = {};
    parameter.entityId = entityId.GetValue();
    parameter.entityType = form.entitytype;
    me.params = JSON.stringify(parameter);
}

 

};"
		},
		{
			"isHide":false,
			"name":"EntityType",
			"value":"Attachment"
		},
		{
			"isHide":false,
			"name":"commonUpFile",
			"value":"True"
		},
		{
			"isHide":false,
			"name":"deleteUrl",
			"value":" "
		}
	],
	"sort":0
}
{"action":[{"code":"UpLoadFile","name":"上传","property":[],"sort":0},{"code":"Delete","name":"删除","property":[],"sort":1},{"code":"ShowDetail","name":"查看","property":[],"sort":2},{"code":"Export","container":"GridPanel","name":"导出","property":[],"sort":3}],"authority":[],"children":[{"action":[],"authority":[],"children":[{"action":[],"authority":[],"children":[],"code":"id","control":"Hidden","dataPermission":[],"isReference":false,"javaScript":"","name":"主键","otherChildren":[],"property":[{"isHide":false,"name":"Length","value":16},{"isHide":false,"name":"Required","value":true},{"isHide":false,"name":"IsReadOnly","value":true},{"isHide":false,"name":"IsTransient","value":false}],"select":"Id","sort":1},{"action":[],"authority":[],"children":[],"code":"timestamp","control":"Hidden","dataPermission":[],"isReference":false,"javaScript":"","name":"时间戳","otherChildren":[],"property":[{"isHide":false,"name":"Length","value":8},{"isHide":false,"name":"Required","value":false},{"isHide":false,"name":"IsReadOnly","value":true},{"isHide":false,"name":"IsTransient","value":false}],"select":"Timestamp","sort":2},{"action":[],"authority":[],"children":[],"code":"name","control":"Text","dataPermission":[],"isReference":false,"javaScript":"","name":"名称","otherChildren":[],"property":[{"isHide":false,"name":"Length","value":500},{"isHide":false,"name":"Required","value":true},{"isHide":false,"name":"IsReadOnly","value":false},{"isHide":false,"name":"IsTransient","value":false}],"select":"Name","sort":3},{"action":[],"authority":[],"children":[],"code":"size","control":"Text","dataPermission":[],"isReference":false,"javaScript":"","name":"大小","otherChildren":[],"property":[{"isHide":false,"name":"Length","value":50},{"isHide":false,"name":"Required","value":true},{"isHide":false,"name":"IsReadOnly","value":false},{"isHide":false,"name":"IsTransient","value":false}],"select":"Size","sort":4},{"action":[],"authority":[],"children":[],"code":"suffix","control":"Text","dataPermission":[],"isReference":false,"javaScript":"","name":"后缀","otherChildren":[],"property":[{"isHide":false,"name":"Length","value":50},{"isHide":false,"name":"Required","value":true},{"isHide":false,"name":"IsReadOnly","value":false},{"isHide":false,"name":"IsTransient","value":false}],"select":"Suffix","sort":5},{"action":[],"authority":[],"children":[],"code":"path","control":"Text","dataPermission":[],"isReference":false,"javaScript":"","name":"路径","otherChildren":[],"property":[{"isHide":false,"name":"Length","value":500},{"isHide":false,"name":"Required","value":false},{"isHide":false,"name":"IsReadOnly","value":false},{"isHide":false,"name":"IsTransient","value":false}],"select":"Path","sort":6},{"action":[],"authority":[],"children":[],"code":"md5","control":"Hidden","dataPermission":[],"isReference":false,"javaScript":"","name":"Md5","otherChildren":[],"property":[{"isHide":false,"name":"Length","value":50},{"isHide":false,"name":"Required","value":true},{"isHide":false,"name":"IsReadOnly","value":false},{"isHide":false,"name":"IsTransient","value":false}],"select":"Md5","sort":7},{"action":[],"authority":[],"children":[],"code":"remark","control":"TextArea","dataPermission":[],"isReference":false,"javaScript":"","name":"备注","otherChildren":[],"property":[{"isHide":false,"name":"Length","value":-1},{"isHide":false,"name":"Required","value":false},{"isHide":false,"name":"IsReadOnly","value":false},{"isHide":false,"name":"IsTransient","value":false}],"select":"Remark","sort":8},{"action":[],"authority":[],"children":[],"code":"entityId","control":"Hidden","dataPermission":[],"isReference":false,"javaScript":"","name":"EntityId","otherChildren":[],"property":[{"isHide":false,"name":"Length","value":500},{"isHide":false,"name":"Required","value":false},{"isHide":false,"name":"IsReadOnly","value":false},{"isHide":false,"name":"IsTransient","value":false}],"select":"EntityId","sort":9},{"action":[],"authority":[],"children":[],"code":"entityName","control":"Hidden","dataPermission":[],"isReference":false,"javaScript":"","name":"实体","otherChildren":[],"property":[{"isHide":false,"name":"Length","value":500},{"isHide":false,"name":"Required","value":false},{"isHide":false,"name":"IsReadOnly","value":false},{"isHide":false,"name":"IsTransient","value":false}],"select":"EntityName","sort":10}],"code":"columnGroup","control":"ColumnGroup","dataPermission":[],"isReference":false,"javaScript":"","name":"列集合","otherChildren":[],"property":[],"sort":0},{"action":[],"authority":[],"children":[],"code":"uuid","control":"Hidden","dataPermission":[],"isReference":false,"name":"uuid","otherChildren":[],"property":[],"sort":1000}],"code":"attachmentDxnGrid","control":"GridPanel","dataPermission":[],"isReference":false,"javaScript":"this.UploadCompleteCallBack&nbsp;=&nbsp;function&nbsp;(files)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;list&nbsp;=&nbsp;[];\n\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNullOrEmpty(files))\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list;\n\n&nbsp;&nbsp;&nbsp;&nbsp;Framework.ForEach(files,&nbsp;function&nbsp;(file)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;data&nbsp;=&nbsp;{name:&nbsp;file.name,&nbsp;size:&nbsp;file.size,&nbsp;suffix:&nbsp;file.suffix,&nbsp;path:&nbsp;file.path,&nbsp;md5:&nbsp;file.md5};\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list.push(data);\n&nbsp;&nbsp;&nbsp;&nbsp;});\n\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list;\n};\n\nthis.BeforeLoad&nbsp;=&nbsp;function&nbsp;()&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;me&nbsp;=&nbsp;this;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;form&nbsp;=&nbsp;me.MainContainer;\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNullOrEmpty(form))&nbsp;return&nbsp;false;\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;entityId&nbsp;=&nbsp;form.DownForCode(&quot;Id&quot;);\n\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNullOrEmpty(entityId)&nbsp;||&nbsp;!entityId.GetValue())&nbsp;return&nbsp;false;\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;parameter&nbsp;=&nbsp;{};\n&nbsp;&nbsp;&nbsp;&nbsp;parameter.entityId&nbsp;=&nbsp;entityId.GetValue();\n&nbsp;&nbsp;&nbsp;&nbsp;parameter.entityType&nbsp;=&nbsp;form.entitytype;\n&nbsp;&nbsp;&nbsp;&nbsp;me.params&nbsp;=&nbsp;JSON.stringify(parameter);\n}","name":"附件","otherChildren":[],"property":[{"isHide":false,"name":"BaseCode","value":"attachmentDxnGrid"},{"isHide":false,"name":"Name","value":"附件"},{"isHide":false,"name":"IsReadOnly","value":false},{"isHide":false,"name":"Description"},{"isHide":false,"name":"FormId","value":21224},{"isHide":false,"name":"OrderBy"},{"isHide":false,"name":"IsSqlForm","value":false},{"isHide":false,"name":"JavaScript","value":"var registerJavaScript = function () {\r\n \r\nthis.UploadCompleteCallBack&nbsp;=&nbsp;function&nbsp;(files)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;list&nbsp;=&nbsp;[];\n\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNullOrEmpty(files))\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list;\n\n&nbsp;&nbsp;&nbsp;&nbsp;Framework.ForEach(files,&nbsp;function&nbsp;(file)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;data&nbsp;=&nbsp;{name:&nbsp;file.name,&nbsp;size:&nbsp;file.size,&nbsp;suffix:&nbsp;file.suffix,&nbsp;path:&nbsp;file.path,&nbsp;md5:&nbsp;file.md5};\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list.push(data);\n&nbsp;&nbsp;&nbsp;&nbsp;});\n\n&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list;\n};\n\nthis.BeforeLoad&nbsp;=&nbsp;function&nbsp;()&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;me&nbsp;=&nbsp;this;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;form&nbsp;=&nbsp;me.MainContainer;\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNullOrEmpty(form))&nbsp;return&nbsp;false;\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;entityId&nbsp;=&nbsp;form.DownForCode(&quot;Id&quot;);\n\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNullOrEmpty(entityId)&nbsp;||&nbsp;!entityId.GetValue())&nbsp;return&nbsp;false;\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;parameter&nbsp;=&nbsp;{};\n&nbsp;&nbsp;&nbsp;&nbsp;parameter.entityId&nbsp;=&nbsp;entityId.GetValue();\n&nbsp;&nbsp;&nbsp;&nbsp;parameter.entityType&nbsp;=&nbsp;form.entitytype;\n&nbsp;&nbsp;&nbsp;&nbsp;me.params&nbsp;=&nbsp;JSON.stringify(parameter);\n}\r\n \r\n};"},{"isHide":false,"name":"EntityType","value":"Attachment"},{"isHide":false,"name":"commonUpFile","value":"True"},{"isHide":false,"name":"deleteUrl","value":" "}],"sort":0}
2020-03-09 16:25:20