{
	"action":[
		
	],
	"authority":[
		
	],
	"children":[
		{
			"action":[
				
			],
			"authority":[
				
			],
			"children":[
				{
					"action":[
						
					],
					"authority":[
						
					],
					"children":[
						
					],
					"code":"riskLevelSpare",
					"control":"Hidden",
					"dataPermission":[
						
					],
					"isReference":false,
					"javaScript":"",
					"name":"风险备用",
					"otherChildren":[
						
					],
					"property":[
						
					],
					"sort":2
				},
				{
					"action":[
						
					],
					"authority":[
						
					],
					"children":[
						
					],
					"code":"riskMessage",
					"control":"Hidden",
					"dataPermission":[
						
					],
					"isReference":false,
					"javaScript":"",
					"name":"风险等级变化记录",
					"otherChildren":[
						
					],
					"property":[
						
					],
					"sort":3
				},
				{
					"action":[
						
					],
					"authority":[
						
					],
					"children":[
						
					],
					"code":"apply",
					"control":"Hidden",
					"dataPermission":[
						
					],
					"isReference":false,
					"javaScript":"",
					"name":"申请修改标记",
					"otherChildren":[
						
					],
					"property":[
						
					],
					"sort":8
				},
				{
					"action":[
						
					],
					"authority":[
						
					],
					"children":[
						{
							"action":[
								
							],
							"authority":[
								
							],
							"children":[
								
							],
							"dataPermission":[
								
							],
							"isReference":false,
							"otherChildren":[
								
							],
							"property":[
								{
									"isHide":true,
									"name":"referenceFormId",
									"value":53857
								}
							],
							"sort":0
						}
					],
					"code":"projectTab",
					"control":"Tab",
					"dataPermission":[
						
					],
					"isReference":false,
					"javaScript":"this.OnSelect = function () {
    console.log('主项目信息');
    var form = this.DownForCode('project');
    if (Framework.IsNullOrEmpty(form)) return;
    var select=this.Top().DownForCode('projectManage').select;
    if (Framework.IsNotNullOrEmpty(select)){
        form.Load(select);
    }else{
        var id = form.DownForCode("id");
        if (id && id.GetValue()) {
            console.log('RunNextFun');
            form.Load({id: id.GetValue()});
        }
    }
}",
					"name":"主项目信息",
					"otherChildren":[
						
					],
					"property":[
						{
							"isHide":false,
							"name":"ClassGroup",
							"value":"CardA"
						},
						{
							"isHide":false,
							"name":"JavaScript",
							"value":"var registerJavaScript = function () {

 

this.OnSelect = function () {
    console.log('主项目信息');
    var form = this.DownForCode('project');
    if (Framework.IsNullOrEmpty(form)) return;
    var select=this.Top().DownForCode('projectManage').select;
    if (Framework.IsNotNullOrEmpty(select)){
        form.Load(select);
    }else{
        var id = form.DownForCode("id");
        if (id && id.GetValue()) {
            console.log('RunNextFun');
            form.Load({id: id.GetValue()});
        }
    }
}

 

};"
						}
					],
					"sort":29
				},
				{
					"action":[
						
					],
					"authority":[
						
					],
					"children":[
						{
							"action":[
								
							],
							"authority":[
								
							],
							"children":[
								
							],
							"dataPermission":[
								
							],
							"isReference":false,
							"otherChildren":[
								
							],
							"property":[
								{
									"isHide":true,
									"name":"referenceFormId",
									"value":16986
								}
							],
							"sort":0
						}
					],
					"code":"projectFrame",
					"control":"Tab",
					"dataPermission":[
						
					],
					"isReference":false,
					"javaScript":"
this.BeforeLoad = function () {
    var me = this;
    var model = me.Down("[controltype='Tree']").First;
    var li = model.getElementsByTagName("li")[0];

    var projectFrame = me.Down("[controltype='Tree']").First;
    if (Framework.IsNullOrEmpty(projectFrame)) return false;

    var form = me.Up().Up().DownForCode('projectTab').Down("[controltype='FormPanel']").First
    if (Framework.IsNullOrEmpty(form)) return false;

    var id = form.DownForCode("id")

    if (Framework.IsNullOrEmpty(id) || Framework.IsNullOrEmpty(id.GetValue())) return false;

    var params = {}
    params.param = "projectId";
    params.value = id.GetValue();
    projectFrame.params = JSON.stringify(params)
    projectFrame.Load();
    // var docState = form.DownForCode("docState").GetSubmitValue();
    // var apply = me.Top().DownForCode("apply").GetValue();
    // if(apply==1 && docState==30){
    //     LinkButton(me,true);
    // }
    // if(docState==30)
    // {
    //     LinkButton(me,true);
    // }

};
this.OnSelect = function () {
    console.log("项目架构点击")
    var me = this;
    
    var form = me.Top().DownForCode('projectTab').Down("[controltype='FormPanel']").First
    var projectFrame = me.Down("[controltype='Tree']").First;
    if (Framework.IsNullOrEmpty(form)) return;
    if (Framework.IsNullOrEmpty(projectFrame)) return;
    var id = form.DownForCode("id");
    if (id && id.GetValue()) {
        if (projectFrame.Load)
            projectFrame.Load({
                id: id.GetValue()
            });
    }
    // var docState = form.DownForCode("docState").GetSubmitValue();
    // var apply = me.Top().DownForCode("apply").GetValue();
    // if(apply==1 && docState==30){
    //     LinkButton(me,false);
    // }
    // if(docState==30)
    // {
    //     LinkButton(me,true);
    // }

}

function LinkButton(me, result) {
    var LinkButtonArray = me.Down("[controltype='LinkButton']");
    for (i = 0; i < LinkButtonArray.length; i++) {
        LinkButtonArray[i].SetVisible(result);
    }
}

",
					"name":"项目架构",
					"otherChildren":[
						
					],
					"property":[
						{
							"isHide":false,
							"name":"IsLazy",
							"value":"true"
						},
						{
							"isHide":false,
							"name":"JavaScript",
							"value":"var registerJavaScript = function () {

 


this.BeforeLoad = function () {
    var me = this;
    var model = me.Down("[controltype='Tree']").First;
    var li = model.getElementsByTagName("li")[0];

    var projectFrame = me.Down("[controltype='Tree']").First;
    if (Framework.IsNullOrEmpty(projectFrame)) return false;

    var form = me.Up().Up().DownForCode('projectTab').Down("[controltype='FormPanel']").First
    if (Framework.IsNullOrEmpty(form)) return false;

    var id = form.DownForCode("id")

    if (Framework.IsNullOrEmpty(id) || Framework.IsNullOrEmpty(id.GetValue())) return false;

    var params = {}
    params.param = "projectId";
    params.value = id.GetValue();
    projectFrame.params = JSON.stringify(params)
    projectFrame.Load();
    // var docState = form.DownForCode("docState").GetSubmitValue();
    // var apply = me.Top().DownForCode("apply").GetValue();
    // if(apply==1 && docState==30){
    //     LinkButton(me,true);
    // }
    // if(docState==30)
    // {
    //     LinkButton(me,true);
    // }

};
this.OnSelect = function () {
    console.log("项目架构点击")
    var me = this;
    
    var form = me.Top().DownForCode('projectTab').Down("[controltype='FormPanel']").First
    var projectFrame = me.Down("[controltype='Tree']").First;
    if (Framework.IsNullOrEmpty(form)) return;
    if (Framework.IsNullOrEmpty(projectFrame)) return;
    var id = form.DownForCode("id");
    if (id && id.GetValue()) {
        if (projectFrame.Load)
            projectFrame.Load({
                id: id.GetValue()
            });
    }
    // var docState = form.DownForCode("docState").GetSubmitValue();
    // var apply = me.Top().DownForCode("apply").GetValue();
    // if(apply==1 && docState==30){
    //     LinkButton(me,false);
    // }
    // if(docState==30)
    // {
    //     LinkButton(me,true);
    // }

}

function LinkButton(me, result) {
    var LinkButtonArray = me.Down("[controltype='LinkButton']");
    for (i = 0; i < LinkButtonArray.length; i++) {
        LinkButtonArray[i].SetVisible(result);
    }
}



 

};"
						}
					],
					"sort":31
				},
				{
					"action":[
						
					],
					"authority":[
						
					],
					"children":[
						{
							"action":[
								
							],
							"authority":[
								
							],
							"children":[
								{
									"action":[
										
									],
									"authority":[
										
									],
									"children":[
										
									],
									"dataPermission":[
										
									],
									"isReference":false,
									"otherChildren":[
										
									],
									"property":[
										{
											"isHide":true,
											"name":"referenceFormId",
											"value":20093
										}
									],
									"sort":0
								}
							],
							"code":"memberFieldSet",
							"control":"FieldSet",
							"dataPermission":[
								
							],
							"isReference":false,
							"javaScript":"",
							"name":"项目组成员",
							"otherChildren":[
								
							],
							"property":[
								{
									"isHide":false,
									"name":"style:min-height",
									"value":"49%"
								},
								{
									"isHide":false,
									"name":"IsNtitle",
									"value":"true"
								},
								{
									"isHide":false,
									"name":"ClassGroup",
									"value":"CardB"
								}
							],
							"sort":9
						},
						{
							"action":[
								
							],
							"authority":[
								
							],
							"children":[
								{
									"action":[
										
									],
									"authority":[
										
									],
									"children":[
										
									],
									"dataPermission":[
										
									],
									"isReference":false,
									"otherChildren":[
										
									],
									"property":[
										{
											"isHide":true,
											"name":"referenceFormId",
											"value":20142
										}
									],
									"sort":0
								}
							],
							"code":"independenceFieldSet",
							"control":"FieldSet",
							"dataPermission":[
								
							],
							"isReference":false,
							"javaScript":"",
							"name":"独立性成员",
							"otherChildren":[
								
							],
							"property":[
								{
									"isHide":false,
									"name":"style:min-height",
									"value":"48%"
								},
								{
									"isHide":false,
									"name":"IsNtitle",
									"value":"true"
								}
							],
							"sort":10
						}
					],
					"code":"projectMember",
					"control":"Tab",
					"dataPermission":[
						
					],
					"isReference":false,
					"javaScript":"this.OnSelect = function () {
    console.log("成员");
    var me = this;
    var title = this.Top();
    var projectTab = title.DownForCode('projectTab');
    var docState = projectTab.DownForCode("docState").GetSubmitValue();
    var apply = title.DownForCode("apply").GetValue();
    var projectMemberss = me.DownForCode('projectMemberss');
    //projectMemberss .Load();
    if (docState > 10) {
        if (apply == 1 && (docState >= 30 && docState < 70)) {
            LinkButton(me, false);
        } else {
            LinkButton(me, true);
            projectMemberss.SetReadOnly(true);
        }
    }
    if (docState == 100) {
        LinkButton(me, false);
    }

    var projectIndependenceMembers = me.DownForCode('projectIndependenceMembers');
    projectMemberss.SetBusinessTitle(this.displayname);
    projectIndependenceMembers.SetBusinessTitle(projectIndependenceMembers.displayname);
    projectMemberss.Load();
    projectIndependenceMembers.Load();
    var param = {};
    param.projectId = this.Top().DownForCode('project').GetValue().id;
    Framework.AjaxRequest(me, "ProjectIndependenceMember-hideProjectIndependenceMember.do", 'get', param, false, function (result) {
        if (result) {
            me.DownForCode('independenceFieldSet').SetVisible(true);
        } else {
            me.DownForCode('independenceFieldSet').SetVisible(false);
        }
    })
}

function LinkButton(me, result) {
    var LinkButtonArray = me.Down("[controltype='LinkButton']");
    for (i = 0; i < LinkButtonArray.length; i++) {
        LinkButtonArray[i].SetVisible(result);
    }
}",
					"name":"项目组成员",
					"otherChildren":[
						
					],
					"property":[
						{
							"isHide":false,
							"name":"IsLazy",
							"value":"true"
						},
						{
							"isHide":false,
							"name":"JavaScript",
							"value":"var registerJavaScript = function () {

 

this.OnSelect = function () {
    console.log("成员");
    var me = this;
    var title = this.Top();
    var projectTab = title.DownForCode('projectTab');
    var docState = projectTab.DownForCode("docState").GetSubmitValue();
    var apply = title.DownForCode("apply").GetValue();
    var projectMemberss = me.DownForCode('projectMemberss');
    //projectMemberss .Load();
    if (docState > 10) {
        if (apply == 1 && (docState >= 30 && docState < 70)) {
            LinkButton(me, false);
        } else {
            LinkButton(me, true);
            projectMemberss.SetReadOnly(true);
        }
    }
    if (docState == 100) {
        LinkButton(me, false);
    }

    var projectIndependenceMembers = me.DownForCode('projectIndependenceMembers');
    projectMemberss.SetBusinessTitle(this.displayname);
    projectIndependenceMembers.SetBusinessTitle(projectIndependenceMembers.displayname);
    projectMemberss.Load();
    projectIndependenceMembers.Load();
    var param = {};
    param.projectId = this.Top().DownForCode('project').GetValue().id;
    Framework.AjaxRequest(me, "ProjectIndependenceMember-hideProjectIndependenceMember.do", 'get', param, false, function (result) {
        if (result) {
            me.DownForCode('independenceFieldSet').SetVisible(true);
        } else {
            me.DownForCode('independenceFieldSet').SetVisible(false);
        }
    })
}

function LinkButton(me, result) {
    var LinkButtonArray = me.Down("[controltype='LinkButton']");
    for (i = 0; i < LinkButtonArray.length; i++) {
        LinkButtonArray[i].SetVisible(result);
    }
}

 

};"
						}
					],
					"sort":33
				},
				{
					"action":[
						
					],
					"authority":[
						
					],
					"children":[
						{
							"action":[
								
							],
							"authority":[
								
							],
							"children":[
								{
									"action":[
										
									],
									"authority":[
										
									],
									"children":[
										{
											"action":[
												
											],
											"authority":[
												
											],
											"children":[
												
											],
											"dataPermission":[
												
											],
											"isReference":false,
											"otherChildren":[
												
											],
											"property":[
												{
													"isHide":true,
													"name":"referenceFormId",
													"value":342919
												}
											],
											"sort":0
										}
									],
									"code":"programSheetTab",
									"control":"Tab",
									"dataPermission":[
										
									],
									"isReference":false,
									"javaScript":"this.OnSelect = function () {
    console.log("OnSelect初步业务活动");
    var me = this;
    var businessHappenItem = this.DownForCode("project");
    businessHappenItem.SetBusinessTitle(this.displayname);
    var form = this.Top().DownForCode('projectTab').Down("[controltype='FormPanel']").First;
    var id = form.DownForCode("id");
    var params = {};
    params.projectId = id.GetValue();
    params.formId = businessHappenItem.formid;

    Framework.AjaxRequest(me, "Project-getProject-Query.do", 'get', params, true, function (result) {
        businessHappenItem.SetValue(result);
    });

    var businessActivity = me.UpForCode("BusinessActivity");
    if (Framework.IsNotNullOrEmpty(businessActivity) && businessActivity.ShowLinkButton)
        businessActivity.ShowLinkButton();
};",
									"name":"初步业务活动程序表",
									"otherChildren":[
										
									],
									"property":[
										{
											"isHide":false,
											"name":"JavaScript",
											"value":"var registerJavaScript = function () {

 

this.OnSelect = function () {
    console.log("OnSelect初步业务活动");
    var me = this;
    var businessHappenItem = this.DownForCode("project");
    businessHappenItem.SetBusinessTitle(this.displayname);
    var form = this.Top().DownForCode('projectTab').Down("[controltype='FormPanel']").First;
    var id = form.DownForCode("id");
    var params = {};
    params.projectId = id.GetValue();
    params.formId = businessHappenItem.formid;

    Framework.AjaxRequest(me, "Project-getProject-Query.do", 'get', params, true, function (result) {
        businessHappenItem.SetValue(result);
    });

    var businessActivity = me.UpForCode("BusinessActivity");
    if (Framework.IsNotNullOrEmpty(businessActivity) && businessActivity.ShowLinkButton)
        businessActivity.ShowLinkButton();
};

 

};"
										}
									],
									"sort":5
								},
								{
									"action":[
										
									],
									"authority":[
										
									],
									"children":[
										{
											"action":[
												
											],
											"authority":[
												
											],
											"children":[
												
											],
											"dataPermission":[
												
											],
											"isReference":false,
											"otherChildren":[
												
											],
											"property":[
												{
													"isHide":true,
													"name":"referenceFormId",
													"value":16232
												}
											],
											"sort":0
										}
									],
									"code":"businessKeepTab",
									"control":"Tab",
									"dataPermission":[
										
									],
									"isReference":false,
									"javaScript":"this.OnSelect = function () {
    var memberTab = this.Down("[controltype='FormPanel']").First;
    var me = this;
    memberTab.SetBusinessTitle(this.displayname);
};",
									"name":"业务保持评价表",
									"otherChildren":[
										
									],
									"property":[
										{
											"isHide":false,
											"name":"JavaScript",
											"value":"var registerJavaScript = function () {

 

this.OnSelect = function () {
    var memberTab = this.Down("[controltype='FormPanel']").First;
    var me = this;
    memberTab.SetBusinessTitle(this.displayname);
};

 

};"
										}
									],
									"sort":7
								},
								{
									"action":[
										
									],
									"authority":[
										
									],
									"children":[
										{
											"action":[
												
											],
											"authority":[
												
											],
											"children":[
												
											],
											"dataPermission":[
												
											],
											"isReference":false,
											"otherChildren":[
												
											],
											"property":[
												{
													"isHide":true,
													"name":"referenceFormId",
													"value":53
												}
											],
											"sort":0
										}
									],
									"code":"businessUndertakeTab",
									"control":"Tab",
									"dataPermission":[
										
									],
									"isReference":false,
									"javaScript":"this.OnSelect = function () {
    var memberTab = this.Down("[controltype='FormPanel']").First;
       memberTab .SetBusinessTitle(this.displayname);
    if (memberTab )
    {
        memberTab.SetBusinessTitle(this.displayname);
    }

    var businessActivity = me.UpForCode("BusinessActivity");
    if (Framework.IsNotNullOrEmpty(businessActivity) && businessActivity.ShowLinkButton)
        businessActivity.ShowLinkButton();
};",
									"name":"业务承接评价表",
									"otherChildren":[
										
									],
									"property":[
										{
											"isHide":false,
											"name":"IsLazy",
											"value":"false"
										},
										{
											"isHide":false,
											"name":"JavaScript",
											"value":"var registerJavaScript = function () {

 

this.OnSelect = function () {
    var memberTab = this.Down("[controltype='FormPanel']").First;
       memberTab .SetBusinessTitle(this.displayname);
    if (memberTab )
    {
        memberTab.SetBusinessTitle(this.displayname);
    }

    var businessActivity = me.UpForCode("BusinessActivity");
    if (Framework.IsNotNullOrEmpty(businessActivity) && businessActivity.ShowLinkButton)
        businessActivity.ShowLinkButton();
};

 

};"
										}
									],
									"sort":21
								},
								{
									"action":[
										
									],
									"authority":[
										
									],
									"children":[
										{
											"action":[
												
											],
											"authority":[
												
											],
											"children":[
												
											],
											"dataPermission":[
												
											],
											"isReference":false,
											"otherChildren":[
												
											],
											"property":[
												{
													"isHide":true,
													"name":"referenceFormId",
													"value":24667
												}
											],
											"sort":0
										}
									],
									"code":"businessHappenTab",
									"control":"Tab",
									"dataPermission":[
										
									],
									"isReference":false,
									"javaScript":"this.OnSelect = function () {
    console.log("被审计单位业务情况调查记录");
    var me = this;
    var businessHappenItem = this.DownForCode("project");
    businessHappenItem.SetBusinessTitle(this.displayname);
    var form = this.Top().DownForCode('projectTab').Down("[controltype='FormPanel']").First;
    var id = form.DownForCode("id");
    var params = {}
    params.projectId = id.GetValue();
    params.formId = businessHappenItem.formid;

    Framework.AjaxRequest(me, "Project-getProject-Query.do", 'get', params, true, function (result) {
        businessHappenItem.SetValue(result);
    });

    var businessActivity = me.UpForCode("BusinessActivity");
    if (Framework.IsNotNullOrEmpty(businessActivity) && businessActivity.ShowLinkButton)
        businessActivity.ShowLinkButton();
};",
									"name":"被审计单位业务情况调查记录",
									"otherChildren":[
										
									],
									"property":[
										{
											"isHide":false,
											"name":"IsLazy",
											"value":"false"
										},
										{
											"isHide":false,
											"name":"JavaScript",
											"value":"var registerJavaScript = function () {

 

this.OnSelect = function () {
    console.log("被审计单位业务情况调查记录");
    var me = this;
    var businessHappenItem = this.DownForCode("project");
    businessHappenItem.SetBusinessTitle(this.displayname);
    var form = this.Top().DownForCode('projectTab').Down("[controltype='FormPanel']").First;
    var id = form.DownForCode("id");
    var params = {}
    params.projectId = id.GetValue();
    params.formId = businessHappenItem.formid;

    Framework.AjaxRequest(me, "Project-getProject-Query.do", 'get', params, true, function (result) {
        businessHappenItem.SetValue(result);
    });

    var businessActivity = me.UpForCode("BusinessActivity");
    if (Framework.IsNotNullOrEmpty(businessActivity) && businessActivity.ShowLinkButton)
        businessActivity.ShowLinkButton();
};

 

};"
										}
									],
									"sort":22
								},
								{
									"action":[
										
									],
									"authority":[
										
									],
									"children":[
										{
											"action":[
												
											],
											"authority":[
												
											],
											"children":[
												
											],
											"dataPermission":[
												
											],
											"isReference":false,
											"otherChildren":[
												
											],
											"property":[
												{
													"isHide":true,
													"name":"referenceFormId",
													"value":20588
												}
											],
											"sort":0
										}
									],
									"code":"businessFinanceTab",
									"control":"Tab",
									"dataPermission":[
										
									],
									"isReference":false,
									"javaScript":"this.OnSelect = function () {
    var me = this;
    var prjAtt = this.DownForCode("prjAttachments");
    prjAtt.SetBusinessTitle(this.displayname);
    var form = this.Top().DownForCode('projectTab').Down("[controltype='FormPanel']").First;
    var id = form.DownForCode("id");
    var paramsprjAtt = {};
    paramsprjAtt.PrjId = id.GetValue();
    paramsprjAtt.flag = 20;
    paramsprjAtt.formId = prjAtt.formid;
    paramsprjAtt.engagId = null;

    Framework.AjaxRequest(me, "PrjAttachment-getPrjAttachment-Query.do", 'get', paramsprjAtt, true, function (result) {
        prjAtt.SetValue(result);
    });

    var businessActivity = me.UpForCode("BusinessActivity");
    if (Framework.IsNotNullOrEmpty(businessActivity) && businessActivity.ShowLinkButton)
        businessActivity.ShowLinkButton();
};",
									"name":"被审计单位财务报表",
									"otherChildren":[
										
									],
									"property":[
										{
											"isHide":false,
											"name":"IsLazy",
											"value":"true"
										},
										{
											"isHide":false,
											"name":"ClassGroup",
											"value":"CardB"
										},
										{
											"isHide":false,
											"name":"JavaScript",
											"value":"var registerJavaScript = function () {

 

this.OnSelect = function () {
    var me = this;
    var prjAtt = this.DownForCode("prjAttachments");
    prjAtt.SetBusinessTitle(this.displayname);
    var form = this.Top().DownForCode('projectTab').Down("[controltype='FormPanel']").First;
    var id = form.DownForCode("id");
    var paramsprjAtt = {};
    paramsprjAtt.PrjId = id.GetValue();
    paramsprjAtt.flag = 20;
    paramsprjAtt.formId = prjAtt.formid;
    paramsprjAtt.engagId = null;

    Framework.AjaxRequest(me, "PrjAttachment-getPrjAttachment-Query.do", 'get', paramsprjAtt, true, function (result) {
        prjAtt.SetValue(result);
    });

    var businessActivity = me.UpForCode("BusinessActivity");
    if (Framework.IsNotNullOrEmpty(businessActivity) && businessActivity.ShowLinkButton)
        businessActivity.ShowLinkButton();
};

 

};"
										}
									],
									"sort":23
								},
								{
									"action":[
										
									],
									"authority":[
										
									],
									"children":[
										{
											"action":[
												
											],
											"authority":[
												
											],
											"children":[
												
											],
											"dataPermission":[
												
											],
											"isReference":false,
											"otherChildren":[
												
											],
											"property":[
												{
													"isHide":true,
													"name":"referenceFormId",
													"value":27147
												}
											],
											"sort":0
										}
									],
									"code":"financeSurveyTab",
									"control":"Tab",
									"dataPermission":[
										
									],
									"isReference":false,
									"javaScript":"this.OnSelect = function () {
    var me = this;
    //财务尽职调查报告
    var prjAtt = this.DownForCode("prjAttachments");
    prjAtt.SetBusinessTitle(this.displayname);
    var form = this.Top().DownForCode('projectTab').Down("[controltype='FormPanel']").First;
    var id = form.DownForCode("id");
    var paramsprjAtt2 = {};
    paramsprjAtt2.PrjId = id.GetValue();
    paramsprjAtt2.flag = 30;
    paramsprjAtt2.formId = prjAtt.formid;
    paramsprjAtt2.engagId = null;

    Framework.AjaxRequest(me, "PrjAttachment-getPrjAttachment-Query.do", 'get', paramsprjAtt2, true, function (result) {
        prjAtt.SetValue(result);
    });

    var businessActivity = me.UpForCode("BusinessActivity");
    if (Framework.IsNotNullOrEmpty(businessActivity) && businessActivity.ShowLinkButton)
        businessActivity.ShowLinkButton();
};",
									"name":"财务尽职调查报告",
									"otherChildren":[
										
									],
									"property":[
										{
											"isHide":false,
											"name":"IsLazy",
											"value":"true"
										},
										{
											"isHide":false,
											"name":"ClassGroup",
											"value":"CardB"
										},
										{
											"isHide":false,
											"name":"JavaScript",
											"value":"var registerJavaScript = function () {

 

this.OnSelect = function () {
    var me = this;
    //财务尽职调查报告
    var prjAtt = this.DownForCode("prjAttachments");
    prjAtt.SetBusinessTitle(this.displayname);
    var form = this.Top().DownForCode('projectTab').Down("[controltype='FormPanel']").First;
    var id = form.DownForCode("id");
    var paramsprjAtt2 = {};
    paramsprjAtt2.PrjId = id.GetValue();
    paramsprjAtt2.flag = 30;
    paramsprjAtt2.formId = prjAtt.formid;
    paramsprjAtt2.engagId = null;

    Framework.AjaxRequest(me, "PrjAttachment-getPrjAttachment-Query.do", 'get', paramsprjAtt2, true, function (result) {
        prjAtt.SetValue(result);
    });

    var businessActivity = me.UpForCode("BusinessActivity");
    if (Framework.IsNotNullOrEmpty(businessActivity) && businessActivity.ShowLinkButton)
        businessActivity.ShowLinkButton();
};

 

};"
										}
									],
									"sort":24
								},
								{
									"action":[
										
									],
									"authority":[
										
									],
									"children":[
										{
											"action":[
												
											],
											"authority":[
												
											],
											"children":[
												
											],
											"dataPermission":[
												
											],
											"isReference":false,
											"otherChildren":[
												
											],
											"property":[
												{
													"isHide":true,
													"name":"referenceFormId",
													"value":24702
												}
											],
											"sort":0
										}
									],
									"code":"memberProfessionTab",
									"control":"Tab",
									"dataPermission":[
										
									],
									"isReference":false,
									"javaScript":"this.OnSelect = function () {
    var me = this;
    var ompetencyExcel = this.DownForCode("project");
    ompetencyExcel.SetBusinessTitle(this.displayname);
    var form = this.Top().DownForCode('projectTab').Down("[controltype='FormPanel']").First;
    var id = form.DownForCode("id");
    var params8 = {}
    params8.projectId = id.GetValue();
    params8.formId = ompetencyExcel.formid;

    Framework.AjaxRequest(me, "Project-getProject-Query.do", 'get', params8, true, function (result) {
        ompetencyExcel.SetValue(result);
    });

    var businessActivity = me.UpForCode("BusinessActivity");
    if (Framework.IsNotNullOrEmpty(businessActivity) && businessActivity.ShowLinkButton)
        businessActivity.ShowLinkButton();
};",
									"name":"项目组资源和专业胜任能力的调查记录",
									"otherChildren":[
										
									],
									"property":[
										{
											"isHide":false,
											"name":"IsLazy",
											"value":"true"
										},
										{
											"isHide":false,
											"name":"JavaScript",
											"value":"var registerJavaScript = function () {

 

this.OnSelect = function () {
    var me = this;
    var ompetencyExcel = this.DownForCode("project");
    ompetencyExcel.SetBusinessTitle(this.displayname);
    var form = this.Top().DownForCode('projectTab').Down("[controltype='FormPanel']").First;
    var id = form.DownForCode("id");
    var params8 = {}
    params8.projectId = id.GetValue();
    params8.formId = ompetencyExcel.formid;

    Framework.AjaxRequest(me, "Project-getProject-Query.do", 'get', params8, true, function (result) {
        ompetencyExcel.SetValue(result);
    });

    var businessActivity = me.UpForCode("BusinessActivity");
    if (Framework.IsNotNullOrEmpty(businessActivity) && businessActivity.ShowLinkButton)
        businessActivity.ShowLinkButton();
};

 

};"
										}
									],
									"sort":25
								},
								{
									"action":[
										
									],
									"authority":[
										
									],
									"children":[
										{
											"action":[
												
											],
											"authority":[
												
											],
											"children":[
												
											],
											"dataPermission":[
												
											],
											"isReference":false,
											"otherChildren":[
												
											],
											"property":[
												{
													"isHide":true,
													"name":"referenceFormId",
													"value":20237
												}
											],
											"sort":0
										}
									],
									"code":"memberStatusTab",
									"control":"Tab",
									"dataPermission":[
										
									],
									"isReference":false,
									"javaScript":"this.OnSelect = function () {
    var memberTab = this.Down("[controltype='GridPanel']").First;
    if (memberTab && memberTab.Load)
    {
        memberTab.Load();
    }
    memberTab.SetBusinessTitle(this.displayname);
    var businessActivity = me.UpForCode("BusinessActivity");
    if (Framework.IsNotNullOrEmpty(businessActivity) && businessActivity.ShowLinkButton)
        businessActivity.ShowLinkButton();
};",
									"name":"项目组构成人员情况表",
									"otherChildren":[
										
									],
									"property":[
										{
											"isHide":false,
											"name":"IsLazy",
											"value":"true"
										},
										{
											"isHide":false,
											"name":"JavaScript",
											"value":"var registerJavaScript = function () {

 

this.OnSelect = function () {
    var memberTab = this.Down("[controltype='GridPanel']").First;
    if (memberTab && memberTab.Load)
    {
        memberTab.Load();
    }
    memberTab.SetBusinessTitle(this.displayname);
    var businessActivity = me.UpForCode("BusinessActivity");
    if (Framework.IsNotNullOrEmpty(businessActivity) && businessActivity.ShowLinkButton)
        businessActivity.ShowLinkButton();
};

 

};"
										}
									],
									"sort":26
								},
								{
									"action":[
										
									],
									"authority":[
										
									],
									"children":[
										{
											"action":[
												
											],
											"authority":[
												
											],
											"children":[
												
											],
											"dataPermission":[
												
											],
											"isReference":false,
											"otherChildren":[
												
											],
											"property":[
												{
													"isHide":true,
													"name":"referenceFormId",
													"value":342920
												}
											],
											"sort":0
										}
									],
									"code":"minutesMeetingTab",
									"control":"Tab",
									"dataPermission":[
										
									],
									"isReference":false,
									"javaScript":"this.OnSelect = function () {
    var me = this;
    var prjAtt = this.DownForCode("prjAttachments");
    prjAtt.SetBusinessTitle(this.displayname);
    var form = this.Top().DownForCode('projectTab').Down("[controltype='FormPanel']").First;
    var id = form.DownForCode("id");
    var paramsprjAtt = {};
    paramsprjAtt.PrjId = id.GetValue();
    paramsprjAtt.flag = 40;
    paramsprjAtt.formId = prjAtt.formid;
    paramsprjAtt.engagId = null;

    Framework.AjaxRequest(me, "PrjAttachment-getPrjAttachment-Query.do", 'get', paramsprjAtt, true, function (result) {
        prjAtt.SetValue(result);
    });

    var businessActivity = me.UpForCode("BusinessActivity");
    if (Framework.IsNotNullOrEmpty(businessActivity) && businessActivity.ShowLinkButton)
        businessActivity.ShowLinkButton();
};",
									"name":"项目进点前的技术准备会议记录",
									"otherChildren":[
										
									],
									"property":[
										{
											"isHide":false,
											"name":"ClassGroup",
											"value":"CardB"
										},
										{
											"isHide":false,
											"name":"JavaScript",
											"value":"var registerJavaScript = function () {

 

this.OnSelect = function () {
    var me = this;
    var prjAtt = this.DownForCode("prjAttachments");
    prjAtt.SetBusinessTitle(this.displayname);
    var form = this.Top().DownForCode('projectTab').Down("[controltype='FormPanel']").First;
    var id = form.DownForCode("id");
    var paramsprjAtt = {};
    paramsprjAtt.PrjId = id.GetValue();
    paramsprjAtt.flag = 40;
    paramsprjAtt.formId = prjAtt.formid;
    paramsprjAtt.engagId = null;

    Framework.AjaxRequest(me, "PrjAttachment-getPrjAttachment-Query.do", 'get', paramsprjAtt, true, function (result) {
        prjAtt.SetValue(result);
    });

    var businessActivity = me.UpForCode("BusinessActivity");
    if (Framework.IsNotNullOrEmpty(businessActivity) && businessActivity.ShowLinkButton)
        businessActivity.ShowLinkButton();
};

 

};"
										}
									],
									"sort":27
								}
							],
							"code":"businessActivityTabs",
							"control":"Tabs",
							"dataPermission":[
								
							],
							"isReference":false,
							"javaScript":"",
							"name":"初步业务活动主卡",
							"otherChildren":[
								
							],
							"property":[
								{
									"isHide":false,
									"name":"TabPosition",
									"value":"left"
								},
								{
									"isHide":false,
									"name":"EnableValid",
									"value":"true"
								}
							],
							"sort":28
						}
					],
					"code":"businessActivity",
					"control":"Tab",
					"dataPermission":[
						
					],
					"isReference":false,
					"javaScript":"this.OnSelect = function () {
    console.log("BeforeLoad初步业务活动");
    var me = this;
    var form = this.Up().Up().DownForCode('projectTab').Down("[controltype='FormPanel']").First;
    if (Framework.IsNullOrEmpty(form)) return false;
    var id = form.DownForCode("id");
    if (Framework.IsNullOrEmpty(id) || Framework.IsNullOrEmpty(id.GetValue())) return false;

    var firstOrContinuous = form.DownForCode("FirstOrContinuous");
    var projectFrame;
    var businessActivityTabs = this.DownForCode("BusinessActivityTabs");

    //是否首次承接，显示不同的表单
    if (firstOrContinuous.GetSubmitValue() == 10) {
        projectFrame = businessActivityTabs.DownForCode("BusinessUndertakeTab").Down("[controltype='FormPanel']").First;
        businessActivityTabs.DownForCode("BusinessUndertakeTab").SetVisible(false);
        businessActivityTabs.DownForCode("BusinessKeepTab").SetVisible(true);

    } else {
        projectFrame = businessActivityTabs.DownForCode("BusinessKeepTab").Down("[controltype='FormPanel']").First;
        businessActivityTabs.DownForCode("BusinessUndertakeTab").SetVisible(true);
        businessActivityTabs.DownForCode("BusinessKeepTab").SetVisible(false);
    }


    var params = {};
    params.projectId = id.GetValue();
    params.formId = projectFrame.formid;

    Framework.AjaxRequest(me, "BusinessEvaluation-getIdByProjectId-Query.do", 'get', params, true, function (result) {
        projectFrame.SetValue(result);
    });

    // 初步业务活动底稿程序
    var ProgramSheet = businessActivityTabs.DownForCode("ProgramSheetTab").Down("[controltype='FormPanel']").First;
    ProgramSheet.SetBusinessTitle("初步业务活动程序表");
    params.formId = ProgramSheet.formid;
    Framework.AjaxRequest(me, "Project-getProject-Query.do", 'get', params, true, function (result) {
        ProgramSheet.SetValue(result);
    });

    me.mainProjectForm = form;
    me.ShowLinkButton();
};


this.ShowLinkButton = function () {
    var me = this;
    var title = me.Top();
    var form = me.mainProjectForm;
    var docState = form.DownForCode("docState").GetSubmitValue();
    var apply = title.DownForCode("apply").GetValue();

    if (docState == 100) {
        LinkButton(me, false);
    }
    else {
        if (docState > 10) {
            if (apply == 1 && (docState >= 30 && docState < 70)) {
                LinkButton(me, false);
            } else {
                LinkButton(me, true);
            }
        }
    }
};

function LinkButton(me, visible) {
    var LinkButtonArray = me.Down("[controltype='LinkButton']");
    for (i = 0; i < LinkButtonArray.length; i++) {
        LinkButtonArray[i].SetVisible(visible);
    }

    var JExcelArrary = me.Down("[controltype='JExcel']");
    for (i = 0; i < JExcelArrary.length; i++) {
        JExcelArrary[i].SetReadOnly(visible);
    }
};",
					"name":"初步业务活动底稿",
					"otherChildren":[
						
					],
					"property":[
						{
							"isHide":false,
							"name":"IsLazy",
							"value":"true"
						},
						{
							"isHide":false,
							"name":"ClassGroup",
							"value":"CardA"
						},
						{
							"isHide":false,
							"name":"JavaScript",
							"value":"var registerJavaScript = function () {

 

this.OnSelect = function () {
    console.log("BeforeLoad初步业务活动");
    var me = this;
    var form = this.Up().Up().DownForCode('projectTab').Down("[controltype='FormPanel']").First;
    if (Framework.IsNullOrEmpty(form)) return false;
    var id = form.DownForCode("id");
    if (Framework.IsNullOrEmpty(id) || Framework.IsNullOrEmpty(id.GetValue())) return false;

    var firstOrContinuous = form.DownForCode("FirstOrContinuous");
    var projectFrame;
    var businessActivityTabs = this.DownForCode("BusinessActivityTabs");

    //是否首次承接，显示不同的表单
    if (firstOrContinuous.GetSubmitValue() == 10) {
        projectFrame = businessActivityTabs.DownForCode("BusinessUndertakeTab").Down("[controltype='FormPanel']").First;
        businessActivityTabs.DownForCode("BusinessUndertakeTab").SetVisible(false);
        businessActivityTabs.DownForCode("BusinessKeepTab").SetVisible(true);

    } else {
        projectFrame = businessActivityTabs.DownForCode("BusinessKeepTab").Down("[controltype='FormPanel']").First;
        businessActivityTabs.DownForCode("BusinessUndertakeTab").SetVisible(true);
        businessActivityTabs.DownForCode("BusinessKeepTab").SetVisible(false);
    }


    var params = {};
    params.projectId = id.GetValue();
    params.formId = projectFrame.formid;

    Framework.AjaxRequest(me, "BusinessEvaluation-getIdByProjectId-Query.do", 'get', params, true, function (result) {
        projectFrame.SetValue(result);
    });

    // 初步业务活动底稿程序
    var ProgramSheet = businessActivityTabs.DownForCode("ProgramSheetTab").Down("[controltype='FormPanel']").First;
    ProgramSheet.SetBusinessTitle("初步业务活动程序表");
    params.formId = ProgramSheet.formid;
    Framework.AjaxRequest(me, "Project-getProject-Query.do", 'get', params, true, function (result) {
        ProgramSheet.SetValue(result);
    });

    me.mainProjectForm = form;
    me.ShowLinkButton();
};


this.ShowLinkButton = function () {
    var me = this;
    var title = me.Top();
    var form = me.mainProjectForm;
    var docState = form.DownForCode("docState").GetSubmitValue();
    var apply = title.DownForCode("apply").GetValue();

    if (docState == 100) {
        LinkButton(me, false);
    }
    else {
        if (docState > 10) {
            if (apply == 1 && (docState >= 30 && docState < 70)) {
                LinkButton(me, false);
            } else {
                LinkButton(me, true);
            }
        }
    }
};

function LinkButton(me, visible) {
    var LinkButtonArray = me.Down("[controltype='LinkButton']");
    for (i = 0; i < LinkButtonArray.length; i++) {
        LinkButtonArray[i].SetVisible(visible);
    }

    var JExcelArrary = me.Down("[controltype='JExcel']");
    for (i = 0; i < JExcelArrary.length; i++) {
        JExcelArrary[i].SetReadOnly(visible);
    }
};

 

};"
						}
					],
					"sort":34
				},
				{
					"action":[
						
					],
					"authority":[
						
					],
					"children":[
						{
							"action":[
								
							],
							"authority":[
								
							],
							"children":[
								{
									"action":[
										
									],
									"authority":[
										
									],
									"children":[
										
									],
									"dataPermission":[
										
									],
									"isReference":false,
									"otherChildren":[
										
									],
									"property":[
										{
											"isHide":true,
											"name":"referenceFormId",
											"value":18344
										}
									],
									"sort":0
								}
							],
							"code":"engagementPanel",
							"control":"Panel",
							"dataPermission":[
								
							],
							"isReference":false,
							"javaScript":"",
							"name":"业务约定书",
							"otherChildren":[
								
							],
							"property":[
								{
									"isHide":false,
									"name":"Height",
									"value":"96%"
								}
							],
							"sort":1
						}
					],
					"code":"businessAgreement",
					"control":"Tab",
					"dataPermission":[
						
					],
					"isReference":false,
					"javaScript":"this.BeforeLoad = function () {
    var me = this;
    var form = me.Up().Up().DownForCode('projectTab').Down("[controltype='FormPanel']").First;
    if (Framework.IsNullOrEmpty(form)) return false;
    var id = form.DownForCode("id");
    if (Framework.IsNullOrEmpty(id) || Framework.IsNullOrEmpty(id.GetValue())) return false;

    var engagement = me.DownForCode("engagements");

    if (Framework.IsNullOrEmpty(engagement)) return;

    engagement.projectId = id.GetValue();
    engagement.Load();

    //var title = me.Top();
    // var docState = form.DownForCode("docState").GetSubmitValue();
    // var apply = title.DownForCode("apply").GetValue();
    // if (docState > 10) {
    //     if (apply == 1 && docState == 30) {
    //         LinkButton(me, false);
    //     } else {
    //         LinkButton(me, true);
    //     }
    // }
};

// function LinkButton(me, result) {
//     var LinkButtonArray = me.Down("[controltype='LinkButton']");
//     for (i = 0; i < LinkButtonArray.length; i++) {
//         LinkButtonArray[i].SetVisible(result);
//     }
// }",
					"name":"业务约定书",
					"otherChildren":[
						
					],
					"property":[
						{
							"isHide":false,
							"name":"IsLazy",
							"value":"true"
						},
						{
							"isHide":false,
							"name":"style:text-align",
							"value":"left!important"
						},
						{
							"isHide":false,
							"name":"ClassGroup",
							"value":"CardB"
						},
						{
							"isHide":false,
							"name":"JavaScript",
							"value":"var registerJavaScript = function () {

 

this.BeforeLoad = function () {
    var me = this;
    var form = me.Up().Up().DownForCode('projectTab').Down("[controltype='FormPanel']").First;
    if (Framework.IsNullOrEmpty(form)) return false;
    var id = form.DownForCode("id");
    if (Framework.IsNullOrEmpty(id) || Framework.IsNullOrEmpty(id.GetValue())) return false;

    var engagement = me.DownForCode("engagements");

    if (Framework.IsNullOrEmpty(engagement)) return;

    engagement.projectId = id.GetValue();
    engagement.Load();

    //var title = me.Top();
    // var docState = form.DownForCode("docState").GetSubmitValue();
    // var apply = title.DownForCode("apply").GetValue();
    // if (docState > 10) {
    //     if (apply == 1 && docState == 30) {
    //         LinkButton(me, false);
    //     } else {
    //         LinkButton(me, true);
    //     }
    // }
};

// function LinkButton(me, result) {
//     var LinkButtonArray = me.Down("[controltype='LinkButton']");
//     for (i = 0; i < LinkButtonArray.length; i++) {
//         LinkButtonArray[i].SetVisible(result);
//     }
// }

 

};"
						}
					],
					"sort":35
				}
			],
			"code":"formMainTabs",
			"control":"Tabs",
			"dataPermission":[
				
			],
			"isReference":false,
			"javaScript":"",
			"name":"主选项卡",
			"otherChildren":[
				
			],
			"property":[
				{
					"isHide":false,
					"name":"EnableValid",
					"value":"true"
				}
			],
			"sort":0
		},
		{
			"action":[
				
			],
			"authority":[
				
			],
			"children":[
				
			],
			"code":"uuid",
			"control":"Hidden",
			"dataPermission":[
				
			],
			"isReference":false,
			"name":"uuid",
			"otherChildren":[
				
			],
			"property":[
				
			],
			"sort":1000
		}
	],
	"code":"projectByNotice",
	"control":"Panel",
	"dataPermission":[
		
	],
	"isReference":false,
	"javaScript":"this.BeforeLoad = function () {
    console.log('BeforeLoadProjectManagePanel');
    var me = this;
    if (me.IsAdd) {
        me.SetDownVisible('BusinessAgreement', true);
        me.SetDownVisible('ProjectMember', true);
        me.SetDownVisible('BusinessActivity', true);
        me.SetDownVisible('ProjectFrame', true);
        me.DownForCode('projectManagerId').SetValue(AppContext.Profile);
        return false;
    }
    if (Framework.IsNotNullOrEmpty(me.projectData)) {
        me.SetDownVisible('ProjectMember', me.projectData.financialReportProject == 20);
        me.SetDownVisible('BusinessActivity', me.projectData.financialReportProject == 20);
        me.SetDownVisible('ProjectFrame', me.projectData.financialReportProject == 20);
    }
    var pamar = {id: me.Opener.DownForCode("EntityId").GetValue()};
    if ((me.IsWorkCenter || Framework.IsNotNullOrEmpty(me.select)) && Framework.IsNullOrEmpty(me.projectData)) {
        this.SetDownVisible('ProjectMember', false);
        this.SetDownVisible('BusinessActivity', false);
        this.SetDownVisible('ProjectFrame', false);
        pamar.id = me.select.id;
    }

    me.SetDownVisible('BusinessAgreement', false);

    var projectForm = me.Down("form[basecode='projectPage']").First;

    if (Framework.IsNullOrEmpty(projectForm)) return false;
    if (Framework.IsNullOrEmpty(pamar.id)) return false;
    projectForm.Data = pamar;
};

this.AfterLoad = function () {
    console.log('AfterLoadProjectManagePanel')
    var me = this;
    var risk = me.DownForCode("RiskLevel");
    me.DownForCode("riskMessage").SetValue(risk.GetSubmitValue());
}",
	"name":"项目消息",
	"otherChildren":[
		
	],
	"property":[
		{
			"isHide":false,
			"name":"BaseCode",
			"value":"projectByNotice"
		},
		{
			"isHide":false,
			"name":"Name",
			"value":"项目消息"
		},
		{
			"isHide":false,
			"name":"IsReadOnly",
			"value":false
		},
		{
			"isHide":false,
			"name":"Description"
		},
		{
			"isHide":false,
			"name":"FormId",
			"value":343095
		},
		{
			"isHide":false,
			"name":"OrderBy"
		},
		{
			"isHide":false,
			"name":"IsSqlForm",
			"value":false
		},
		{
			"isHide":false,
			"name":"JavaScript",
			"value":"var registerJavaScript = function () {

 

this.BeforeLoad = function () {
    console.log('BeforeLoadProjectManagePanel');
    var me = this;
    if (me.IsAdd) {
        me.SetDownVisible('BusinessAgreement', true);
        me.SetDownVisible('ProjectMember', true);
        me.SetDownVisible('BusinessActivity', true);
        me.SetDownVisible('ProjectFrame', true);
        me.DownForCode('projectManagerId').SetValue(AppContext.Profile);
        return false;
    }
    if (Framework.IsNotNullOrEmpty(me.projectData)) {
        me.SetDownVisible('ProjectMember', me.projectData.financialReportProject == 20);
        me.SetDownVisible('BusinessActivity', me.projectData.financialReportProject == 20);
        me.SetDownVisible('ProjectFrame', me.projectData.financialReportProject == 20);
    }
    var pamar = {id: me.Opener.DownForCode("EntityId").GetValue()};
    if ((me.IsWorkCenter || Framework.IsNotNullOrEmpty(me.select)) && Framework.IsNullOrEmpty(me.projectData)) {
        this.SetDownVisible('ProjectMember', false);
        this.SetDownVisible('BusinessActivity', false);
        this.SetDownVisible('ProjectFrame', false);
        pamar.id = me.select.id;
    }

    me.SetDownVisible('BusinessAgreement', false);

    var projectForm = me.Down("form[basecode='projectPage']").First;

    if (Framework.IsNullOrEmpty(projectForm)) return false;
    if (Framework.IsNullOrEmpty(pamar.id)) return false;
    projectForm.Data = pamar;
};

this.AfterLoad = function () {
    console.log('AfterLoadProjectManagePanel')
    var me = this;
    var risk = me.DownForCode("RiskLevel");
    me.DownForCode("riskMessage").SetValue(risk.GetSubmitValue());
}

 

};"
		},
		{
			"container":"Window",
			"isHide":false,
			"name":"maximized",
			"value":"true"
		}
	],
	"sort":0
}
{"action":[],"authority":[],"children":[{"action":[],"authority":[],"children":[{"action":[],"authority":[],"children":[],"code":"riskLevelSpare","control":"Hidden","dataPermission":[],"isReference":false,"javaScript":"","name":"风险备用","otherChildren":[],"property":[],"sort":2},{"action":[],"authority":[],"children":[],"code":"riskMessage","control":"Hidden","dataPermission":[],"isReference":false,"javaScript":"","name":"风险等级变化记录","otherChildren":[],"property":[],"sort":3},{"action":[],"authority":[],"children":[],"code":"apply","control":"Hidden","dataPermission":[],"isReference":false,"javaScript":"","name":"申请修改标记","otherChildren":[],"property":[],"sort":8},{"action":[],"authority":[],"children":[{"action":[],"authority":[],"children":[],"dataPermission":[],"isReference":false,"otherChildren":[],"property":[{"isHide":true,"name":"referenceFormId","value":53857}],"sort":0}],"code":"projectTab","control":"Tab","dataPermission":[],"isReference":false,"javaScript":"this.OnSelect&nbsp;=&nbsp;function&nbsp;()&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;console.log('主项目信息');\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;form&nbsp;=&nbsp;this.DownForCode('project');\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNullOrEmpty(form))&nbsp;return;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;select=this.Top().DownForCode('projectManage').select;\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNotNullOrEmpty(select)){\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;form.Load(select);\n&nbsp;&nbsp;&nbsp;&nbsp;}else{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;id&nbsp;=&nbsp;form.DownForCode(&quot;id&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(id&nbsp;&&&nbsp;id.GetValue())&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;console.log('RunNextFun');\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;form.Load({id:&nbsp;id.GetValue()});\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;}\n}","name":"主项目信息","otherChildren":[],"property":[{"isHide":false,"name":"ClassGroup","value":"CardA"},{"isHide":false,"name":"JavaScript","value":"var registerJavaScript = function () {\r\n \r\nthis.OnSelect&nbsp;=&nbsp;function&nbsp;()&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;console.log('主项目信息');\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;form&nbsp;=&nbsp;this.DownForCode('project');\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNullOrEmpty(form))&nbsp;return;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;select=this.Top().DownForCode('projectManage').select;\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNotNullOrEmpty(select)){\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;form.Load(select);\n&nbsp;&nbsp;&nbsp;&nbsp;}else{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;id&nbsp;=&nbsp;form.DownForCode(&quot;id&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(id&nbsp;&&&nbsp;id.GetValue())&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;console.log('RunNextFun');\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;form.Load({id:&nbsp;id.GetValue()});\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;}\n}\r\n \r\n};"}],"sort":29},{"action":[],"authority":[],"children":[{"action":[],"authority":[],"children":[],"dataPermission":[],"isReference":false,"otherChildren":[],"property":[{"isHide":true,"name":"referenceFormId","value":16986}],"sort":0}],"code":"projectFrame","control":"Tab","dataPermission":[],"isReference":false,"javaScript":"\nthis.BeforeLoad&nbsp;=&nbsp;function&nbsp;()&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;me&nbsp;=&nbsp;this;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;model&nbsp;=&nbsp;me.Down(&quot;[controltype='Tree']&quot;).First;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;li&nbsp;=&nbsp;model.getElementsByTagName(&quot;li&quot;)[0];\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;projectFrame&nbsp;=&nbsp;me.Down(&quot;[controltype='Tree']&quot;).First;\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNullOrEmpty(projectFrame))&nbsp;return&nbsp;false;\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;form&nbsp;=&nbsp;me.Up().Up().DownForCode('projectTab').Down(&quot;[controltype='FormPanel']&quot;).First\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNullOrEmpty(form))&nbsp;return&nbsp;false;\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;id&nbsp;=&nbsp;form.DownForCode(&quot;id&quot;)\n\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNullOrEmpty(id)&nbsp;||&nbsp;Framework.IsNullOrEmpty(id.GetValue()))&nbsp;return&nbsp;false;\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;params&nbsp;=&nbsp;{}\n&nbsp;&nbsp;&nbsp;&nbsp;params.param&nbsp;=&nbsp;&quot;projectId&quot;;\n&nbsp;&nbsp;&nbsp;&nbsp;params.value&nbsp;=&nbsp;id.GetValue();\n&nbsp;&nbsp;&nbsp;&nbsp;projectFrame.params&nbsp;=&nbsp;JSON.stringify(params)\n&nbsp;&nbsp;&nbsp;&nbsp;projectFrame.Load();\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;var&nbsp;docState&nbsp;=&nbsp;form.DownForCode(&quot;docState&quot;).GetSubmitValue();\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;var&nbsp;apply&nbsp;=&nbsp;me.Top().DownForCode(&quot;apply&quot;).GetValue();\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;if(apply==1&nbsp;&&&nbsp;docState==30){\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LinkButton(me,true);\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;if(docState==30)\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LinkButton(me,true);\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;}\n\n};\nthis.OnSelect&nbsp;=&nbsp;function&nbsp;()&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;console.log(&quot;项目架构点击&quot;)\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;me&nbsp;=&nbsp;this;\n&nbsp;&nbsp;&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;form&nbsp;=&nbsp;me.Top().DownForCode('projectTab').Down(&quot;[controltype='FormPanel']&quot;).First\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;projectFrame&nbsp;=&nbsp;me.Down(&quot;[controltype='Tree']&quot;).First;\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNullOrEmpty(form))&nbsp;return;\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNullOrEmpty(projectFrame))&nbsp;return;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;id&nbsp;=&nbsp;form.DownForCode(&quot;id&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(id&nbsp;&&&nbsp;id.GetValue())&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(projectFrame.Load)\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;projectFrame.Load({\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id:&nbsp;id.GetValue()\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});\n&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;var&nbsp;docState&nbsp;=&nbsp;form.DownForCode(&quot;docState&quot;).GetSubmitValue();\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;var&nbsp;apply&nbsp;=&nbsp;me.Top().DownForCode(&quot;apply&quot;).GetValue();\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;if(apply==1&nbsp;&&&nbsp;docState==30){\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LinkButton(me,false);\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;if(docState==30)\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LinkButton(me,true);\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;}\n\n}\n\nfunction&nbsp;LinkButton(me,&nbsp;result)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;LinkButtonArray&nbsp;=&nbsp;me.Down(&quot;[controltype='LinkButton']&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;LinkButtonArray.length;&nbsp;i++)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LinkButtonArray[i].SetVisible(result);\n&nbsp;&nbsp;&nbsp;&nbsp;}\n}\n\n","name":"项目架构","otherChildren":[],"property":[{"isHide":false,"name":"IsLazy","value":"true"},{"isHide":false,"name":"JavaScript","value":"var registerJavaScript = function () {\r\n \r\n\nthis.BeforeLoad&nbsp;=&nbsp;function&nbsp;()&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;me&nbsp;=&nbsp;this;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;model&nbsp;=&nbsp;me.Down(&quot;[controltype='Tree']&quot;).First;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;li&nbsp;=&nbsp;model.getElementsByTagName(&quot;li&quot;)[0];\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;projectFrame&nbsp;=&nbsp;me.Down(&quot;[controltype='Tree']&quot;).First;\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNullOrEmpty(projectFrame))&nbsp;return&nbsp;false;\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;form&nbsp;=&nbsp;me.Up().Up().DownForCode('projectTab').Down(&quot;[controltype='FormPanel']&quot;).First\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNullOrEmpty(form))&nbsp;return&nbsp;false;\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;id&nbsp;=&nbsp;form.DownForCode(&quot;id&quot;)\n\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNullOrEmpty(id)&nbsp;||&nbsp;Framework.IsNullOrEmpty(id.GetValue()))&nbsp;return&nbsp;false;\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;params&nbsp;=&nbsp;{}\n&nbsp;&nbsp;&nbsp;&nbsp;params.param&nbsp;=&nbsp;&quot;projectId&quot;;\n&nbsp;&nbsp;&nbsp;&nbsp;params.value&nbsp;=&nbsp;id.GetValue();\n&nbsp;&nbsp;&nbsp;&nbsp;projectFrame.params&nbsp;=&nbsp;JSON.stringify(params)\n&nbsp;&nbsp;&nbsp;&nbsp;projectFrame.Load();\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;var&nbsp;docState&nbsp;=&nbsp;form.DownForCode(&quot;docState&quot;).GetSubmitValue();\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;var&nbsp;apply&nbsp;=&nbsp;me.Top().DownForCode(&quot;apply&quot;).GetValue();\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;if(apply==1&nbsp;&&&nbsp;docState==30){\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LinkButton(me,true);\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;if(docState==30)\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LinkButton(me,true);\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;}\n\n};\nthis.OnSelect&nbsp;=&nbsp;function&nbsp;()&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;console.log(&quot;项目架构点击&quot;)\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;me&nbsp;=&nbsp;this;\n&nbsp;&nbsp;&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;form&nbsp;=&nbsp;me.Top().DownForCode('projectTab').Down(&quot;[controltype='FormPanel']&quot;).First\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;projectFrame&nbsp;=&nbsp;me.Down(&quot;[controltype='Tree']&quot;).First;\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNullOrEmpty(form))&nbsp;return;\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNullOrEmpty(projectFrame))&nbsp;return;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;id&nbsp;=&nbsp;form.DownForCode(&quot;id&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(id&nbsp;&&&nbsp;id.GetValue())&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(projectFrame.Load)\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;projectFrame.Load({\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id:&nbsp;id.GetValue()\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});\n&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;var&nbsp;docState&nbsp;=&nbsp;form.DownForCode(&quot;docState&quot;).GetSubmitValue();\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;var&nbsp;apply&nbsp;=&nbsp;me.Top().DownForCode(&quot;apply&quot;).GetValue();\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;if(apply==1&nbsp;&&&nbsp;docState==30){\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LinkButton(me,false);\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;if(docState==30)\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LinkButton(me,true);\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;}\n\n}\n\nfunction&nbsp;LinkButton(me,&nbsp;result)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;LinkButtonArray&nbsp;=&nbsp;me.Down(&quot;[controltype='LinkButton']&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;LinkButtonArray.length;&nbsp;i++)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LinkButtonArray[i].SetVisible(result);\n&nbsp;&nbsp;&nbsp;&nbsp;}\n}\n\n\r\n \r\n};"}],"sort":31},{"action":[],"authority":[],"children":[{"action":[],"authority":[],"children":[{"action":[],"authority":[],"children":[],"dataPermission":[],"isReference":false,"otherChildren":[],"property":[{"isHide":true,"name":"referenceFormId","value":20093}],"sort":0}],"code":"memberFieldSet","control":"FieldSet","dataPermission":[],"isReference":false,"javaScript":"","name":"项目组成员","otherChildren":[],"property":[{"isHide":false,"name":"style:min-height","value":"49%"},{"isHide":false,"name":"IsNtitle","value":"true"},{"isHide":false,"name":"ClassGroup","value":"CardB"}],"sort":9},{"action":[],"authority":[],"children":[{"action":[],"authority":[],"children":[],"dataPermission":[],"isReference":false,"otherChildren":[],"property":[{"isHide":true,"name":"referenceFormId","value":20142}],"sort":0}],"code":"independenceFieldSet","control":"FieldSet","dataPermission":[],"isReference":false,"javaScript":"","name":"独立性成员","otherChildren":[],"property":[{"isHide":false,"name":"style:min-height","value":"48%"},{"isHide":false,"name":"IsNtitle","value":"true"}],"sort":10}],"code":"projectMember","control":"Tab","dataPermission":[],"isReference":false,"javaScript":"this.OnSelect&nbsp;=&nbsp;function&nbsp;()&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;console.log(&quot;成员&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;me&nbsp;=&nbsp;this;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;title&nbsp;=&nbsp;this.Top();\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;projectTab&nbsp;=&nbsp;title.DownForCode('projectTab');\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;docState&nbsp;=&nbsp;projectTab.DownForCode(&quot;docState&quot;).GetSubmitValue();\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;apply&nbsp;=&nbsp;title.DownForCode(&quot;apply&quot;).GetValue();\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;projectMemberss&nbsp;=&nbsp;me.DownForCode('projectMemberss');\n&nbsp;&nbsp;&nbsp;&nbsp;//projectMemberss&nbsp;.Load();\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(docState&nbsp;&gt;&nbsp;10)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(apply&nbsp;==&nbsp;1&nbsp;&&&nbsp;(docState&nbsp;&gt;=&nbsp;30&nbsp;&&&nbsp;docState&nbsp;&lt;&nbsp;70))&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LinkButton(me,&nbsp;false);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LinkButton(me,&nbsp;true);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;projectMemberss.SetReadOnly(true);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(docState&nbsp;==&nbsp;100)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LinkButton(me,&nbsp;false);\n&nbsp;&nbsp;&nbsp;&nbsp;}\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;projectIndependenceMembers&nbsp;=&nbsp;me.DownForCode('projectIndependenceMembers');\n&nbsp;&nbsp;&nbsp;&nbsp;projectMemberss.SetBusinessTitle(this.displayname);\n&nbsp;&nbsp;&nbsp;&nbsp;projectIndependenceMembers.SetBusinessTitle(projectIndependenceMembers.displayname);\n&nbsp;&nbsp;&nbsp;&nbsp;projectMemberss.Load();\n&nbsp;&nbsp;&nbsp;&nbsp;projectIndependenceMembers.Load();\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;param&nbsp;=&nbsp;{};\n&nbsp;&nbsp;&nbsp;&nbsp;param.projectId&nbsp;=&nbsp;this.Top().DownForCode('project').GetValue().id;\n&nbsp;&nbsp;&nbsp;&nbsp;Framework.AjaxRequest(me,&nbsp;&quot;ProjectIndependenceMember-hideProjectIndependenceMember.do&quot;,&nbsp;'get',&nbsp;param,&nbsp;false,&nbsp;function&nbsp;(result)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(result)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;me.DownForCode('independenceFieldSet').SetVisible(true);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;me.DownForCode('independenceFieldSet').SetVisible(false);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;})\n}\n\nfunction&nbsp;LinkButton(me,&nbsp;result)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;LinkButtonArray&nbsp;=&nbsp;me.Down(&quot;[controltype='LinkButton']&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;LinkButtonArray.length;&nbsp;i++)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LinkButtonArray[i].SetVisible(result);\n&nbsp;&nbsp;&nbsp;&nbsp;}\n}","name":"项目组成员","otherChildren":[],"property":[{"isHide":false,"name":"IsLazy","value":"true"},{"isHide":false,"name":"JavaScript","value":"var registerJavaScript = function () {\r\n \r\nthis.OnSelect&nbsp;=&nbsp;function&nbsp;()&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;console.log(&quot;成员&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;me&nbsp;=&nbsp;this;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;title&nbsp;=&nbsp;this.Top();\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;projectTab&nbsp;=&nbsp;title.DownForCode('projectTab');\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;docState&nbsp;=&nbsp;projectTab.DownForCode(&quot;docState&quot;).GetSubmitValue();\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;apply&nbsp;=&nbsp;title.DownForCode(&quot;apply&quot;).GetValue();\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;projectMemberss&nbsp;=&nbsp;me.DownForCode('projectMemberss');\n&nbsp;&nbsp;&nbsp;&nbsp;//projectMemberss&nbsp;.Load();\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(docState&nbsp;&gt;&nbsp;10)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(apply&nbsp;==&nbsp;1&nbsp;&&&nbsp;(docState&nbsp;&gt;=&nbsp;30&nbsp;&&&nbsp;docState&nbsp;&lt;&nbsp;70))&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LinkButton(me,&nbsp;false);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LinkButton(me,&nbsp;true);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;projectMemberss.SetReadOnly(true);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(docState&nbsp;==&nbsp;100)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LinkButton(me,&nbsp;false);\n&nbsp;&nbsp;&nbsp;&nbsp;}\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;projectIndependenceMembers&nbsp;=&nbsp;me.DownForCode('projectIndependenceMembers');\n&nbsp;&nbsp;&nbsp;&nbsp;projectMemberss.SetBusinessTitle(this.displayname);\n&nbsp;&nbsp;&nbsp;&nbsp;projectIndependenceMembers.SetBusinessTitle(projectIndependenceMembers.displayname);\n&nbsp;&nbsp;&nbsp;&nbsp;projectMemberss.Load();\n&nbsp;&nbsp;&nbsp;&nbsp;projectIndependenceMembers.Load();\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;param&nbsp;=&nbsp;{};\n&nbsp;&nbsp;&nbsp;&nbsp;param.projectId&nbsp;=&nbsp;this.Top().DownForCode('project').GetValue().id;\n&nbsp;&nbsp;&nbsp;&nbsp;Framework.AjaxRequest(me,&nbsp;&quot;ProjectIndependenceMember-hideProjectIndependenceMember.do&quot;,&nbsp;'get',&nbsp;param,&nbsp;false,&nbsp;function&nbsp;(result)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(result)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;me.DownForCode('independenceFieldSet').SetVisible(true);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;me.DownForCode('independenceFieldSet').SetVisible(false);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;})\n}\n\nfunction&nbsp;LinkButton(me,&nbsp;result)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;LinkButtonArray&nbsp;=&nbsp;me.Down(&quot;[controltype='LinkButton']&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;LinkButtonArray.length;&nbsp;i++)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LinkButtonArray[i].SetVisible(result);\n&nbsp;&nbsp;&nbsp;&nbsp;}\n}\r\n \r\n};"}],"sort":33},{"action":[],"authority":[],"children":[{"action":[],"authority":[],"children":[{"action":[],"authority":[],"children":[{"action":[],"authority":[],"children":[],"dataPermission":[],"isReference":false,"otherChildren":[],"property":[{"isHide":true,"name":"referenceFormId","value":342919}],"sort":0}],"code":"programSheetTab","control":"Tab","dataPermission":[],"isReference":false,"javaScript":"this.OnSelect&nbsp;=&nbsp;function&nbsp;()&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;console.log(&quot;OnSelect初步业务活动&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;me&nbsp;=&nbsp;this;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;businessHappenItem&nbsp;=&nbsp;this.DownForCode(&quot;project&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;businessHappenItem.SetBusinessTitle(this.displayname);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;form&nbsp;=&nbsp;this.Top().DownForCode('projectTab').Down(&quot;[controltype='FormPanel']&quot;).First;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;id&nbsp;=&nbsp;form.DownForCode(&quot;id&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;params&nbsp;=&nbsp;{};\n&nbsp;&nbsp;&nbsp;&nbsp;params.projectId&nbsp;=&nbsp;id.GetValue();\n&nbsp;&nbsp;&nbsp;&nbsp;params.formId&nbsp;=&nbsp;businessHappenItem.formid;\n\n&nbsp;&nbsp;&nbsp;&nbsp;Framework.AjaxRequest(me,&nbsp;&quot;Project-getProject-Query.do&quot;,&nbsp;'get',&nbsp;params,&nbsp;true,&nbsp;function&nbsp;(result)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;businessHappenItem.SetValue(result);\n&nbsp;&nbsp;&nbsp;&nbsp;});\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;businessActivity&nbsp;=&nbsp;me.UpForCode(&quot;BusinessActivity&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNotNullOrEmpty(businessActivity)&nbsp;&&&nbsp;businessActivity.ShowLinkButton)\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;businessActivity.ShowLinkButton();\n};","name":"初步业务活动程序表","otherChildren":[],"property":[{"isHide":false,"name":"JavaScript","value":"var registerJavaScript = function () {\r\n \r\nthis.OnSelect&nbsp;=&nbsp;function&nbsp;()&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;console.log(&quot;OnSelect初步业务活动&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;me&nbsp;=&nbsp;this;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;businessHappenItem&nbsp;=&nbsp;this.DownForCode(&quot;project&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;businessHappenItem.SetBusinessTitle(this.displayname);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;form&nbsp;=&nbsp;this.Top().DownForCode('projectTab').Down(&quot;[controltype='FormPanel']&quot;).First;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;id&nbsp;=&nbsp;form.DownForCode(&quot;id&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;params&nbsp;=&nbsp;{};\n&nbsp;&nbsp;&nbsp;&nbsp;params.projectId&nbsp;=&nbsp;id.GetValue();\n&nbsp;&nbsp;&nbsp;&nbsp;params.formId&nbsp;=&nbsp;businessHappenItem.formid;\n\n&nbsp;&nbsp;&nbsp;&nbsp;Framework.AjaxRequest(me,&nbsp;&quot;Project-getProject-Query.do&quot;,&nbsp;'get',&nbsp;params,&nbsp;true,&nbsp;function&nbsp;(result)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;businessHappenItem.SetValue(result);\n&nbsp;&nbsp;&nbsp;&nbsp;});\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;businessActivity&nbsp;=&nbsp;me.UpForCode(&quot;BusinessActivity&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNotNullOrEmpty(businessActivity)&nbsp;&&&nbsp;businessActivity.ShowLinkButton)\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;businessActivity.ShowLinkButton();\n};\r\n \r\n};"}],"sort":5},{"action":[],"authority":[],"children":[{"action":[],"authority":[],"children":[],"dataPermission":[],"isReference":false,"otherChildren":[],"property":[{"isHide":true,"name":"referenceFormId","value":16232}],"sort":0}],"code":"businessKeepTab","control":"Tab","dataPermission":[],"isReference":false,"javaScript":"this.OnSelect&nbsp;=&nbsp;function&nbsp;()&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;memberTab&nbsp;=&nbsp;this.Down(&quot;[controltype='FormPanel']&quot;).First;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;me&nbsp;=&nbsp;this;\n&nbsp;&nbsp;&nbsp;&nbsp;memberTab.SetBusinessTitle(this.displayname);\n};","name":"业务保持评价表","otherChildren":[],"property":[{"isHide":false,"name":"JavaScript","value":"var registerJavaScript = function () {\r\n \r\nthis.OnSelect&nbsp;=&nbsp;function&nbsp;()&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;memberTab&nbsp;=&nbsp;this.Down(&quot;[controltype='FormPanel']&quot;).First;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;me&nbsp;=&nbsp;this;\n&nbsp;&nbsp;&nbsp;&nbsp;memberTab.SetBusinessTitle(this.displayname);\n};\r\n \r\n};"}],"sort":7},{"action":[],"authority":[],"children":[{"action":[],"authority":[],"children":[],"dataPermission":[],"isReference":false,"otherChildren":[],"property":[{"isHide":true,"name":"referenceFormId","value":53}],"sort":0}],"code":"businessUndertakeTab","control":"Tab","dataPermission":[],"isReference":false,"javaScript":"this.OnSelect&nbsp;=&nbsp;function&nbsp;()&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;memberTab&nbsp;=&nbsp;this.Down(&quot;[controltype='FormPanel']&quot;).First;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;memberTab&nbsp;.SetBusinessTitle(this.displayname);\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(memberTab&nbsp;)\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;memberTab.SetBusinessTitle(this.displayname);\n&nbsp;&nbsp;&nbsp;&nbsp;}\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;businessActivity&nbsp;=&nbsp;me.UpForCode(&quot;BusinessActivity&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNotNullOrEmpty(businessActivity)&nbsp;&&&nbsp;businessActivity.ShowLinkButton)\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;businessActivity.ShowLinkButton();\n};","name":"业务承接评价表","otherChildren":[],"property":[{"isHide":false,"name":"IsLazy","value":"false"},{"isHide":false,"name":"JavaScript","value":"var registerJavaScript = function () {\r\n \r\nthis.OnSelect&nbsp;=&nbsp;function&nbsp;()&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;memberTab&nbsp;=&nbsp;this.Down(&quot;[controltype='FormPanel']&quot;).First;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;memberTab&nbsp;.SetBusinessTitle(this.displayname);\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(memberTab&nbsp;)\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;memberTab.SetBusinessTitle(this.displayname);\n&nbsp;&nbsp;&nbsp;&nbsp;}\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;businessActivity&nbsp;=&nbsp;me.UpForCode(&quot;BusinessActivity&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNotNullOrEmpty(businessActivity)&nbsp;&&&nbsp;businessActivity.ShowLinkButton)\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;businessActivity.ShowLinkButton();\n};\r\n \r\n};"}],"sort":21},{"action":[],"authority":[],"children":[{"action":[],"authority":[],"children":[],"dataPermission":[],"isReference":false,"otherChildren":[],"property":[{"isHide":true,"name":"referenceFormId","value":24667}],"sort":0}],"code":"businessHappenTab","control":"Tab","dataPermission":[],"isReference":false,"javaScript":"this.OnSelect&nbsp;=&nbsp;function&nbsp;()&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;console.log(&quot;被审计单位业务情况调查记录&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;me&nbsp;=&nbsp;this;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;businessHappenItem&nbsp;=&nbsp;this.DownForCode(&quot;project&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;businessHappenItem.SetBusinessTitle(this.displayname);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;form&nbsp;=&nbsp;this.Top().DownForCode('projectTab').Down(&quot;[controltype='FormPanel']&quot;).First;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;id&nbsp;=&nbsp;form.DownForCode(&quot;id&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;params&nbsp;=&nbsp;{}\n&nbsp;&nbsp;&nbsp;&nbsp;params.projectId&nbsp;=&nbsp;id.GetValue();\n&nbsp;&nbsp;&nbsp;&nbsp;params.formId&nbsp;=&nbsp;businessHappenItem.formid;\n\n&nbsp;&nbsp;&nbsp;&nbsp;Framework.AjaxRequest(me,&nbsp;&quot;Project-getProject-Query.do&quot;,&nbsp;'get',&nbsp;params,&nbsp;true,&nbsp;function&nbsp;(result)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;businessHappenItem.SetValue(result);\n&nbsp;&nbsp;&nbsp;&nbsp;});\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;businessActivity&nbsp;=&nbsp;me.UpForCode(&quot;BusinessActivity&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNotNullOrEmpty(businessActivity)&nbsp;&&&nbsp;businessActivity.ShowLinkButton)\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;businessActivity.ShowLinkButton();\n};","name":"被审计单位业务情况调查记录","otherChildren":[],"property":[{"isHide":false,"name":"IsLazy","value":"false"},{"isHide":false,"name":"JavaScript","value":"var registerJavaScript = function () {\r\n \r\nthis.OnSelect&nbsp;=&nbsp;function&nbsp;()&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;console.log(&quot;被审计单位业务情况调查记录&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;me&nbsp;=&nbsp;this;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;businessHappenItem&nbsp;=&nbsp;this.DownForCode(&quot;project&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;businessHappenItem.SetBusinessTitle(this.displayname);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;form&nbsp;=&nbsp;this.Top().DownForCode('projectTab').Down(&quot;[controltype='FormPanel']&quot;).First;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;id&nbsp;=&nbsp;form.DownForCode(&quot;id&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;params&nbsp;=&nbsp;{}\n&nbsp;&nbsp;&nbsp;&nbsp;params.projectId&nbsp;=&nbsp;id.GetValue();\n&nbsp;&nbsp;&nbsp;&nbsp;params.formId&nbsp;=&nbsp;businessHappenItem.formid;\n\n&nbsp;&nbsp;&nbsp;&nbsp;Framework.AjaxRequest(me,&nbsp;&quot;Project-getProject-Query.do&quot;,&nbsp;'get',&nbsp;params,&nbsp;true,&nbsp;function&nbsp;(result)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;businessHappenItem.SetValue(result);\n&nbsp;&nbsp;&nbsp;&nbsp;});\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;businessActivity&nbsp;=&nbsp;me.UpForCode(&quot;BusinessActivity&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNotNullOrEmpty(businessActivity)&nbsp;&&&nbsp;businessActivity.ShowLinkButton)\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;businessActivity.ShowLinkButton();\n};\r\n \r\n};"}],"sort":22},{"action":[],"authority":[],"children":[{"action":[],"authority":[],"children":[],"dataPermission":[],"isReference":false,"otherChildren":[],"property":[{"isHide":true,"name":"referenceFormId","value":20588}],"sort":0}],"code":"businessFinanceTab","control":"Tab","dataPermission":[],"isReference":false,"javaScript":"this.OnSelect&nbsp;=&nbsp;function&nbsp;()&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;me&nbsp;=&nbsp;this;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;prjAtt&nbsp;=&nbsp;this.DownForCode(&quot;prjAttachments&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;prjAtt.SetBusinessTitle(this.displayname);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;form&nbsp;=&nbsp;this.Top().DownForCode('projectTab').Down(&quot;[controltype='FormPanel']&quot;).First;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;id&nbsp;=&nbsp;form.DownForCode(&quot;id&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;paramsprjAtt&nbsp;=&nbsp;{};\n&nbsp;&nbsp;&nbsp;&nbsp;paramsprjAtt.PrjId&nbsp;=&nbsp;id.GetValue();\n&nbsp;&nbsp;&nbsp;&nbsp;paramsprjAtt.flag&nbsp;=&nbsp;20;\n&nbsp;&nbsp;&nbsp;&nbsp;paramsprjAtt.formId&nbsp;=&nbsp;prjAtt.formid;\n&nbsp;&nbsp;&nbsp;&nbsp;paramsprjAtt.engagId&nbsp;=&nbsp;null;\n\n&nbsp;&nbsp;&nbsp;&nbsp;Framework.AjaxRequest(me,&nbsp;&quot;PrjAttachment-getPrjAttachment-Query.do&quot;,&nbsp;'get',&nbsp;paramsprjAtt,&nbsp;true,&nbsp;function&nbsp;(result)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prjAtt.SetValue(result);\n&nbsp;&nbsp;&nbsp;&nbsp;});\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;businessActivity&nbsp;=&nbsp;me.UpForCode(&quot;BusinessActivity&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNotNullOrEmpty(businessActivity)&nbsp;&&&nbsp;businessActivity.ShowLinkButton)\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;businessActivity.ShowLinkButton();\n};","name":"被审计单位财务报表","otherChildren":[],"property":[{"isHide":false,"name":"IsLazy","value":"true"},{"isHide":false,"name":"ClassGroup","value":"CardB"},{"isHide":false,"name":"JavaScript","value":"var registerJavaScript = function () {\r\n \r\nthis.OnSelect&nbsp;=&nbsp;function&nbsp;()&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;me&nbsp;=&nbsp;this;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;prjAtt&nbsp;=&nbsp;this.DownForCode(&quot;prjAttachments&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;prjAtt.SetBusinessTitle(this.displayname);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;form&nbsp;=&nbsp;this.Top().DownForCode('projectTab').Down(&quot;[controltype='FormPanel']&quot;).First;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;id&nbsp;=&nbsp;form.DownForCode(&quot;id&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;paramsprjAtt&nbsp;=&nbsp;{};\n&nbsp;&nbsp;&nbsp;&nbsp;paramsprjAtt.PrjId&nbsp;=&nbsp;id.GetValue();\n&nbsp;&nbsp;&nbsp;&nbsp;paramsprjAtt.flag&nbsp;=&nbsp;20;\n&nbsp;&nbsp;&nbsp;&nbsp;paramsprjAtt.formId&nbsp;=&nbsp;prjAtt.formid;\n&nbsp;&nbsp;&nbsp;&nbsp;paramsprjAtt.engagId&nbsp;=&nbsp;null;\n\n&nbsp;&nbsp;&nbsp;&nbsp;Framework.AjaxRequest(me,&nbsp;&quot;PrjAttachment-getPrjAttachment-Query.do&quot;,&nbsp;'get',&nbsp;paramsprjAtt,&nbsp;true,&nbsp;function&nbsp;(result)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prjAtt.SetValue(result);\n&nbsp;&nbsp;&nbsp;&nbsp;});\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;businessActivity&nbsp;=&nbsp;me.UpForCode(&quot;BusinessActivity&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNotNullOrEmpty(businessActivity)&nbsp;&&&nbsp;businessActivity.ShowLinkButton)\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;businessActivity.ShowLinkButton();\n};\r\n \r\n};"}],"sort":23},{"action":[],"authority":[],"children":[{"action":[],"authority":[],"children":[],"dataPermission":[],"isReference":false,"otherChildren":[],"property":[{"isHide":true,"name":"referenceFormId","value":27147}],"sort":0}],"code":"financeSurveyTab","control":"Tab","dataPermission":[],"isReference":false,"javaScript":"this.OnSelect&nbsp;=&nbsp;function&nbsp;()&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;me&nbsp;=&nbsp;this;\n&nbsp;&nbsp;&nbsp;&nbsp;//财务尽职调查报告\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;prjAtt&nbsp;=&nbsp;this.DownForCode(&quot;prjAttachments&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;prjAtt.SetBusinessTitle(this.displayname);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;form&nbsp;=&nbsp;this.Top().DownForCode('projectTab').Down(&quot;[controltype='FormPanel']&quot;).First;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;id&nbsp;=&nbsp;form.DownForCode(&quot;id&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;paramsprjAtt2&nbsp;=&nbsp;{};\n&nbsp;&nbsp;&nbsp;&nbsp;paramsprjAtt2.PrjId&nbsp;=&nbsp;id.GetValue();\n&nbsp;&nbsp;&nbsp;&nbsp;paramsprjAtt2.flag&nbsp;=&nbsp;30;\n&nbsp;&nbsp;&nbsp;&nbsp;paramsprjAtt2.formId&nbsp;=&nbsp;prjAtt.formid;\n&nbsp;&nbsp;&nbsp;&nbsp;paramsprjAtt2.engagId&nbsp;=&nbsp;null;\n\n&nbsp;&nbsp;&nbsp;&nbsp;Framework.AjaxRequest(me,&nbsp;&quot;PrjAttachment-getPrjAttachment-Query.do&quot;,&nbsp;'get',&nbsp;paramsprjAtt2,&nbsp;true,&nbsp;function&nbsp;(result)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prjAtt.SetValue(result);\n&nbsp;&nbsp;&nbsp;&nbsp;});\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;businessActivity&nbsp;=&nbsp;me.UpForCode(&quot;BusinessActivity&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNotNullOrEmpty(businessActivity)&nbsp;&&&nbsp;businessActivity.ShowLinkButton)\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;businessActivity.ShowLinkButton();\n};","name":"财务尽职调查报告","otherChildren":[],"property":[{"isHide":false,"name":"IsLazy","value":"true"},{"isHide":false,"name":"ClassGroup","value":"CardB"},{"isHide":false,"name":"JavaScript","value":"var registerJavaScript = function () {\r\n \r\nthis.OnSelect&nbsp;=&nbsp;function&nbsp;()&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;me&nbsp;=&nbsp;this;\n&nbsp;&nbsp;&nbsp;&nbsp;//财务尽职调查报告\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;prjAtt&nbsp;=&nbsp;this.DownForCode(&quot;prjAttachments&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;prjAtt.SetBusinessTitle(this.displayname);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;form&nbsp;=&nbsp;this.Top().DownForCode('projectTab').Down(&quot;[controltype='FormPanel']&quot;).First;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;id&nbsp;=&nbsp;form.DownForCode(&quot;id&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;paramsprjAtt2&nbsp;=&nbsp;{};\n&nbsp;&nbsp;&nbsp;&nbsp;paramsprjAtt2.PrjId&nbsp;=&nbsp;id.GetValue();\n&nbsp;&nbsp;&nbsp;&nbsp;paramsprjAtt2.flag&nbsp;=&nbsp;30;\n&nbsp;&nbsp;&nbsp;&nbsp;paramsprjAtt2.formId&nbsp;=&nbsp;prjAtt.formid;\n&nbsp;&nbsp;&nbsp;&nbsp;paramsprjAtt2.engagId&nbsp;=&nbsp;null;\n\n&nbsp;&nbsp;&nbsp;&nbsp;Framework.AjaxRequest(me,&nbsp;&quot;PrjAttachment-getPrjAttachment-Query.do&quot;,&nbsp;'get',&nbsp;paramsprjAtt2,&nbsp;true,&nbsp;function&nbsp;(result)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prjAtt.SetValue(result);\n&nbsp;&nbsp;&nbsp;&nbsp;});\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;businessActivity&nbsp;=&nbsp;me.UpForCode(&quot;BusinessActivity&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNotNullOrEmpty(businessActivity)&nbsp;&&&nbsp;businessActivity.ShowLinkButton)\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;businessActivity.ShowLinkButton();\n};\r\n \r\n};"}],"sort":24},{"action":[],"authority":[],"children":[{"action":[],"authority":[],"children":[],"dataPermission":[],"isReference":false,"otherChildren":[],"property":[{"isHide":true,"name":"referenceFormId","value":24702}],"sort":0}],"code":"memberProfessionTab","control":"Tab","dataPermission":[],"isReference":false,"javaScript":"this.OnSelect&nbsp;=&nbsp;function&nbsp;()&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;me&nbsp;=&nbsp;this;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;ompetencyExcel&nbsp;=&nbsp;this.DownForCode(&quot;project&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;ompetencyExcel.SetBusinessTitle(this.displayname);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;form&nbsp;=&nbsp;this.Top().DownForCode('projectTab').Down(&quot;[controltype='FormPanel']&quot;).First;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;id&nbsp;=&nbsp;form.DownForCode(&quot;id&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;params8&nbsp;=&nbsp;{}\n&nbsp;&nbsp;&nbsp;&nbsp;params8.projectId&nbsp;=&nbsp;id.GetValue();\n&nbsp;&nbsp;&nbsp;&nbsp;params8.formId&nbsp;=&nbsp;ompetencyExcel.formid;\n\n&nbsp;&nbsp;&nbsp;&nbsp;Framework.AjaxRequest(me,&nbsp;&quot;Project-getProject-Query.do&quot;,&nbsp;'get',&nbsp;params8,&nbsp;true,&nbsp;function&nbsp;(result)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ompetencyExcel.SetValue(result);\n&nbsp;&nbsp;&nbsp;&nbsp;});\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;businessActivity&nbsp;=&nbsp;me.UpForCode(&quot;BusinessActivity&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNotNullOrEmpty(businessActivity)&nbsp;&&&nbsp;businessActivity.ShowLinkButton)\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;businessActivity.ShowLinkButton();\n};","name":"项目组资源和专业胜任能力的调查记录","otherChildren":[],"property":[{"isHide":false,"name":"IsLazy","value":"true"},{"isHide":false,"name":"JavaScript","value":"var registerJavaScript = function () {\r\n \r\nthis.OnSelect&nbsp;=&nbsp;function&nbsp;()&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;me&nbsp;=&nbsp;this;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;ompetencyExcel&nbsp;=&nbsp;this.DownForCode(&quot;project&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;ompetencyExcel.SetBusinessTitle(this.displayname);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;form&nbsp;=&nbsp;this.Top().DownForCode('projectTab').Down(&quot;[controltype='FormPanel']&quot;).First;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;id&nbsp;=&nbsp;form.DownForCode(&quot;id&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;params8&nbsp;=&nbsp;{}\n&nbsp;&nbsp;&nbsp;&nbsp;params8.projectId&nbsp;=&nbsp;id.GetValue();\n&nbsp;&nbsp;&nbsp;&nbsp;params8.formId&nbsp;=&nbsp;ompetencyExcel.formid;\n\n&nbsp;&nbsp;&nbsp;&nbsp;Framework.AjaxRequest(me,&nbsp;&quot;Project-getProject-Query.do&quot;,&nbsp;'get',&nbsp;params8,&nbsp;true,&nbsp;function&nbsp;(result)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ompetencyExcel.SetValue(result);\n&nbsp;&nbsp;&nbsp;&nbsp;});\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;businessActivity&nbsp;=&nbsp;me.UpForCode(&quot;BusinessActivity&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNotNullOrEmpty(businessActivity)&nbsp;&&&nbsp;businessActivity.ShowLinkButton)\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;businessActivity.ShowLinkButton();\n};\r\n \r\n};"}],"sort":25},{"action":[],"authority":[],"children":[{"action":[],"authority":[],"children":[],"dataPermission":[],"isReference":false,"otherChildren":[],"property":[{"isHide":true,"name":"referenceFormId","value":20237}],"sort":0}],"code":"memberStatusTab","control":"Tab","dataPermission":[],"isReference":false,"javaScript":"this.OnSelect&nbsp;=&nbsp;function&nbsp;()&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;memberTab&nbsp;=&nbsp;this.Down(&quot;[controltype='GridPanel']&quot;).First;\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(memberTab&nbsp;&&&nbsp;memberTab.Load)\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;memberTab.Load();\n&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;memberTab.SetBusinessTitle(this.displayname);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;businessActivity&nbsp;=&nbsp;me.UpForCode(&quot;BusinessActivity&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNotNullOrEmpty(businessActivity)&nbsp;&&&nbsp;businessActivity.ShowLinkButton)\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;businessActivity.ShowLinkButton();\n};","name":"项目组构成人员情况表","otherChildren":[],"property":[{"isHide":false,"name":"IsLazy","value":"true"},{"isHide":false,"name":"JavaScript","value":"var registerJavaScript = function () {\r\n \r\nthis.OnSelect&nbsp;=&nbsp;function&nbsp;()&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;memberTab&nbsp;=&nbsp;this.Down(&quot;[controltype='GridPanel']&quot;).First;\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(memberTab&nbsp;&&&nbsp;memberTab.Load)\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;memberTab.Load();\n&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;memberTab.SetBusinessTitle(this.displayname);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;businessActivity&nbsp;=&nbsp;me.UpForCode(&quot;BusinessActivity&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNotNullOrEmpty(businessActivity)&nbsp;&&&nbsp;businessActivity.ShowLinkButton)\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;businessActivity.ShowLinkButton();\n};\r\n \r\n};"}],"sort":26},{"action":[],"authority":[],"children":[{"action":[],"authority":[],"children":[],"dataPermission":[],"isReference":false,"otherChildren":[],"property":[{"isHide":true,"name":"referenceFormId","value":342920}],"sort":0}],"code":"minutesMeetingTab","control":"Tab","dataPermission":[],"isReference":false,"javaScript":"this.OnSelect&nbsp;=&nbsp;function&nbsp;()&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;me&nbsp;=&nbsp;this;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;prjAtt&nbsp;=&nbsp;this.DownForCode(&quot;prjAttachments&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;prjAtt.SetBusinessTitle(this.displayname);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;form&nbsp;=&nbsp;this.Top().DownForCode('projectTab').Down(&quot;[controltype='FormPanel']&quot;).First;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;id&nbsp;=&nbsp;form.DownForCode(&quot;id&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;paramsprjAtt&nbsp;=&nbsp;{};\n&nbsp;&nbsp;&nbsp;&nbsp;paramsprjAtt.PrjId&nbsp;=&nbsp;id.GetValue();\n&nbsp;&nbsp;&nbsp;&nbsp;paramsprjAtt.flag&nbsp;=&nbsp;40;\n&nbsp;&nbsp;&nbsp;&nbsp;paramsprjAtt.formId&nbsp;=&nbsp;prjAtt.formid;\n&nbsp;&nbsp;&nbsp;&nbsp;paramsprjAtt.engagId&nbsp;=&nbsp;null;\n\n&nbsp;&nbsp;&nbsp;&nbsp;Framework.AjaxRequest(me,&nbsp;&quot;PrjAttachment-getPrjAttachment-Query.do&quot;,&nbsp;'get',&nbsp;paramsprjAtt,&nbsp;true,&nbsp;function&nbsp;(result)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prjAtt.SetValue(result);\n&nbsp;&nbsp;&nbsp;&nbsp;});\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;businessActivity&nbsp;=&nbsp;me.UpForCode(&quot;BusinessActivity&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNotNullOrEmpty(businessActivity)&nbsp;&&&nbsp;businessActivity.ShowLinkButton)\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;businessActivity.ShowLinkButton();\n};","name":"项目进点前的技术准备会议记录","otherChildren":[],"property":[{"isHide":false,"name":"ClassGroup","value":"CardB"},{"isHide":false,"name":"JavaScript","value":"var registerJavaScript = function () {\r\n \r\nthis.OnSelect&nbsp;=&nbsp;function&nbsp;()&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;me&nbsp;=&nbsp;this;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;prjAtt&nbsp;=&nbsp;this.DownForCode(&quot;prjAttachments&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;prjAtt.SetBusinessTitle(this.displayname);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;form&nbsp;=&nbsp;this.Top().DownForCode('projectTab').Down(&quot;[controltype='FormPanel']&quot;).First;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;id&nbsp;=&nbsp;form.DownForCode(&quot;id&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;paramsprjAtt&nbsp;=&nbsp;{};\n&nbsp;&nbsp;&nbsp;&nbsp;paramsprjAtt.PrjId&nbsp;=&nbsp;id.GetValue();\n&nbsp;&nbsp;&nbsp;&nbsp;paramsprjAtt.flag&nbsp;=&nbsp;40;\n&nbsp;&nbsp;&nbsp;&nbsp;paramsprjAtt.formId&nbsp;=&nbsp;prjAtt.formid;\n&nbsp;&nbsp;&nbsp;&nbsp;paramsprjAtt.engagId&nbsp;=&nbsp;null;\n\n&nbsp;&nbsp;&nbsp;&nbsp;Framework.AjaxRequest(me,&nbsp;&quot;PrjAttachment-getPrjAttachment-Query.do&quot;,&nbsp;'get',&nbsp;paramsprjAtt,&nbsp;true,&nbsp;function&nbsp;(result)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prjAtt.SetValue(result);\n&nbsp;&nbsp;&nbsp;&nbsp;});\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;businessActivity&nbsp;=&nbsp;me.UpForCode(&quot;BusinessActivity&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNotNullOrEmpty(businessActivity)&nbsp;&&&nbsp;businessActivity.ShowLinkButton)\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;businessActivity.ShowLinkButton();\n};\r\n \r\n};"}],"sort":27}],"code":"businessActivityTabs","control":"Tabs","dataPermission":[],"isReference":false,"javaScript":"","name":"初步业务活动主卡","otherChildren":[],"property":[{"isHide":false,"name":"TabPosition","value":"left"},{"isHide":false,"name":"EnableValid","value":"true"}],"sort":28}],"code":"businessActivity","control":"Tab","dataPermission":[],"isReference":false,"javaScript":"this.OnSelect&nbsp;=&nbsp;function&nbsp;()&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;console.log(&quot;BeforeLoad初步业务活动&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;me&nbsp;=&nbsp;this;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;form&nbsp;=&nbsp;this.Up().Up().DownForCode('projectTab').Down(&quot;[controltype='FormPanel']&quot;).First;\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNullOrEmpty(form))&nbsp;return&nbsp;false;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;id&nbsp;=&nbsp;form.DownForCode(&quot;id&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNullOrEmpty(id)&nbsp;||&nbsp;Framework.IsNullOrEmpty(id.GetValue()))&nbsp;return&nbsp;false;\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;firstOrContinuous&nbsp;=&nbsp;form.DownForCode(&quot;FirstOrContinuous&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;projectFrame;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;businessActivityTabs&nbsp;=&nbsp;this.DownForCode(&quot;BusinessActivityTabs&quot;);\n\n&nbsp;&nbsp;&nbsp;&nbsp;//是否首次承接，显示不同的表单\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(firstOrContinuous.GetSubmitValue()&nbsp;==&nbsp;10)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;projectFrame&nbsp;=&nbsp;businessActivityTabs.DownForCode(&quot;BusinessUndertakeTab&quot;).Down(&quot;[controltype='FormPanel']&quot;).First;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;businessActivityTabs.DownForCode(&quot;BusinessUndertakeTab&quot;).SetVisible(false);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;businessActivityTabs.DownForCode(&quot;BusinessKeepTab&quot;).SetVisible(true);\n\n&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;projectFrame&nbsp;=&nbsp;businessActivityTabs.DownForCode(&quot;BusinessKeepTab&quot;).Down(&quot;[controltype='FormPanel']&quot;).First;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;businessActivityTabs.DownForCode(&quot;BusinessUndertakeTab&quot;).SetVisible(true);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;businessActivityTabs.DownForCode(&quot;BusinessKeepTab&quot;).SetVisible(false);\n&nbsp;&nbsp;&nbsp;&nbsp;}\n\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;params&nbsp;=&nbsp;{};\n&nbsp;&nbsp;&nbsp;&nbsp;params.projectId&nbsp;=&nbsp;id.GetValue();\n&nbsp;&nbsp;&nbsp;&nbsp;params.formId&nbsp;=&nbsp;projectFrame.formid;\n\n&nbsp;&nbsp;&nbsp;&nbsp;Framework.AjaxRequest(me,&nbsp;&quot;BusinessEvaluation-getIdByProjectId-Query.do&quot;,&nbsp;'get',&nbsp;params,&nbsp;true,&nbsp;function&nbsp;(result)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;projectFrame.SetValue(result);\n&nbsp;&nbsp;&nbsp;&nbsp;});\n\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;初步业务活动底稿程序\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;ProgramSheet&nbsp;=&nbsp;businessActivityTabs.DownForCode(&quot;ProgramSheetTab&quot;).Down(&quot;[controltype='FormPanel']&quot;).First;\n&nbsp;&nbsp;&nbsp;&nbsp;ProgramSheet.SetBusinessTitle(&quot;初步业务活动程序表&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;params.formId&nbsp;=&nbsp;ProgramSheet.formid;\n&nbsp;&nbsp;&nbsp;&nbsp;Framework.AjaxRequest(me,&nbsp;&quot;Project-getProject-Query.do&quot;,&nbsp;'get',&nbsp;params,&nbsp;true,&nbsp;function&nbsp;(result)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ProgramSheet.SetValue(result);\n&nbsp;&nbsp;&nbsp;&nbsp;});\n\n&nbsp;&nbsp;&nbsp;&nbsp;me.mainProjectForm&nbsp;=&nbsp;form;\n&nbsp;&nbsp;&nbsp;&nbsp;me.ShowLinkButton();\n};\n\n\nthis.ShowLinkButton&nbsp;=&nbsp;function&nbsp;()&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;me&nbsp;=&nbsp;this;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;title&nbsp;=&nbsp;me.Top();\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;form&nbsp;=&nbsp;me.mainProjectForm;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;docState&nbsp;=&nbsp;form.DownForCode(&quot;docState&quot;).GetSubmitValue();\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;apply&nbsp;=&nbsp;title.DownForCode(&quot;apply&quot;).GetValue();\n\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(docState&nbsp;==&nbsp;100)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LinkButton(me,&nbsp;false);\n&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(docState&nbsp;&gt;&nbsp;10)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(apply&nbsp;==&nbsp;1&nbsp;&&&nbsp;(docState&nbsp;&gt;=&nbsp;30&nbsp;&&&nbsp;docState&nbsp;&lt;&nbsp;70))&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LinkButton(me,&nbsp;false);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LinkButton(me,&nbsp;true);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;}\n};\n\nfunction&nbsp;LinkButton(me,&nbsp;visible)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;LinkButtonArray&nbsp;=&nbsp;me.Down(&quot;[controltype='LinkButton']&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;LinkButtonArray.length;&nbsp;i++)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LinkButtonArray[i].SetVisible(visible);\n&nbsp;&nbsp;&nbsp;&nbsp;}\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;JExcelArrary&nbsp;=&nbsp;me.Down(&quot;[controltype='JExcel']&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;JExcelArrary.length;&nbsp;i++)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JExcelArrary[i].SetReadOnly(visible);\n&nbsp;&nbsp;&nbsp;&nbsp;}\n};","name":"初步业务活动底稿","otherChildren":[],"property":[{"isHide":false,"name":"IsLazy","value":"true"},{"isHide":false,"name":"ClassGroup","value":"CardA"},{"isHide":false,"name":"JavaScript","value":"var registerJavaScript = function () {\r\n \r\nthis.OnSelect&nbsp;=&nbsp;function&nbsp;()&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;console.log(&quot;BeforeLoad初步业务活动&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;me&nbsp;=&nbsp;this;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;form&nbsp;=&nbsp;this.Up().Up().DownForCode('projectTab').Down(&quot;[controltype='FormPanel']&quot;).First;\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNullOrEmpty(form))&nbsp;return&nbsp;false;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;id&nbsp;=&nbsp;form.DownForCode(&quot;id&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNullOrEmpty(id)&nbsp;||&nbsp;Framework.IsNullOrEmpty(id.GetValue()))&nbsp;return&nbsp;false;\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;firstOrContinuous&nbsp;=&nbsp;form.DownForCode(&quot;FirstOrContinuous&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;projectFrame;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;businessActivityTabs&nbsp;=&nbsp;this.DownForCode(&quot;BusinessActivityTabs&quot;);\n\n&nbsp;&nbsp;&nbsp;&nbsp;//是否首次承接，显示不同的表单\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(firstOrContinuous.GetSubmitValue()&nbsp;==&nbsp;10)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;projectFrame&nbsp;=&nbsp;businessActivityTabs.DownForCode(&quot;BusinessUndertakeTab&quot;).Down(&quot;[controltype='FormPanel']&quot;).First;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;businessActivityTabs.DownForCode(&quot;BusinessUndertakeTab&quot;).SetVisible(false);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;businessActivityTabs.DownForCode(&quot;BusinessKeepTab&quot;).SetVisible(true);\n\n&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;projectFrame&nbsp;=&nbsp;businessActivityTabs.DownForCode(&quot;BusinessKeepTab&quot;).Down(&quot;[controltype='FormPanel']&quot;).First;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;businessActivityTabs.DownForCode(&quot;BusinessUndertakeTab&quot;).SetVisible(true);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;businessActivityTabs.DownForCode(&quot;BusinessKeepTab&quot;).SetVisible(false);\n&nbsp;&nbsp;&nbsp;&nbsp;}\n\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;params&nbsp;=&nbsp;{};\n&nbsp;&nbsp;&nbsp;&nbsp;params.projectId&nbsp;=&nbsp;id.GetValue();\n&nbsp;&nbsp;&nbsp;&nbsp;params.formId&nbsp;=&nbsp;projectFrame.formid;\n\n&nbsp;&nbsp;&nbsp;&nbsp;Framework.AjaxRequest(me,&nbsp;&quot;BusinessEvaluation-getIdByProjectId-Query.do&quot;,&nbsp;'get',&nbsp;params,&nbsp;true,&nbsp;function&nbsp;(result)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;projectFrame.SetValue(result);\n&nbsp;&nbsp;&nbsp;&nbsp;});\n\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;初步业务活动底稿程序\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;ProgramSheet&nbsp;=&nbsp;businessActivityTabs.DownForCode(&quot;ProgramSheetTab&quot;).Down(&quot;[controltype='FormPanel']&quot;).First;\n&nbsp;&nbsp;&nbsp;&nbsp;ProgramSheet.SetBusinessTitle(&quot;初步业务活动程序表&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;params.formId&nbsp;=&nbsp;ProgramSheet.formid;\n&nbsp;&nbsp;&nbsp;&nbsp;Framework.AjaxRequest(me,&nbsp;&quot;Project-getProject-Query.do&quot;,&nbsp;'get',&nbsp;params,&nbsp;true,&nbsp;function&nbsp;(result)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ProgramSheet.SetValue(result);\n&nbsp;&nbsp;&nbsp;&nbsp;});\n\n&nbsp;&nbsp;&nbsp;&nbsp;me.mainProjectForm&nbsp;=&nbsp;form;\n&nbsp;&nbsp;&nbsp;&nbsp;me.ShowLinkButton();\n};\n\n\nthis.ShowLinkButton&nbsp;=&nbsp;function&nbsp;()&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;me&nbsp;=&nbsp;this;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;title&nbsp;=&nbsp;me.Top();\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;form&nbsp;=&nbsp;me.mainProjectForm;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;docState&nbsp;=&nbsp;form.DownForCode(&quot;docState&quot;).GetSubmitValue();\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;apply&nbsp;=&nbsp;title.DownForCode(&quot;apply&quot;).GetValue();\n\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(docState&nbsp;==&nbsp;100)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LinkButton(me,&nbsp;false);\n&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(docState&nbsp;&gt;&nbsp;10)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(apply&nbsp;==&nbsp;1&nbsp;&&&nbsp;(docState&nbsp;&gt;=&nbsp;30&nbsp;&&&nbsp;docState&nbsp;&lt;&nbsp;70))&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LinkButton(me,&nbsp;false);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LinkButton(me,&nbsp;true);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;}\n};\n\nfunction&nbsp;LinkButton(me,&nbsp;visible)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;LinkButtonArray&nbsp;=&nbsp;me.Down(&quot;[controltype='LinkButton']&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;LinkButtonArray.length;&nbsp;i++)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LinkButtonArray[i].SetVisible(visible);\n&nbsp;&nbsp;&nbsp;&nbsp;}\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;JExcelArrary&nbsp;=&nbsp;me.Down(&quot;[controltype='JExcel']&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;JExcelArrary.length;&nbsp;i++)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JExcelArrary[i].SetReadOnly(visible);\n&nbsp;&nbsp;&nbsp;&nbsp;}\n};\r\n \r\n};"}],"sort":34},{"action":[],"authority":[],"children":[{"action":[],"authority":[],"children":[{"action":[],"authority":[],"children":[],"dataPermission":[],"isReference":false,"otherChildren":[],"property":[{"isHide":true,"name":"referenceFormId","value":18344}],"sort":0}],"code":"engagementPanel","control":"Panel","dataPermission":[],"isReference":false,"javaScript":"","name":"业务约定书","otherChildren":[],"property":[{"isHide":false,"name":"Height","value":"96%"}],"sort":1}],"code":"businessAgreement","control":"Tab","dataPermission":[],"isReference":false,"javaScript":"this.BeforeLoad&nbsp;=&nbsp;function&nbsp;()&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;me&nbsp;=&nbsp;this;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;form&nbsp;=&nbsp;me.Up().Up().DownForCode('projectTab').Down(&quot;[controltype='FormPanel']&quot;).First;\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNullOrEmpty(form))&nbsp;return&nbsp;false;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;id&nbsp;=&nbsp;form.DownForCode(&quot;id&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNullOrEmpty(id)&nbsp;||&nbsp;Framework.IsNullOrEmpty(id.GetValue()))&nbsp;return&nbsp;false;\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;engagement&nbsp;=&nbsp;me.DownForCode(&quot;engagements&quot;);\n\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNullOrEmpty(engagement))&nbsp;return;\n\n&nbsp;&nbsp;&nbsp;&nbsp;engagement.projectId&nbsp;=&nbsp;id.GetValue();\n&nbsp;&nbsp;&nbsp;&nbsp;engagement.Load();\n\n&nbsp;&nbsp;&nbsp;&nbsp;//var&nbsp;title&nbsp;=&nbsp;me.Top();\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;var&nbsp;docState&nbsp;=&nbsp;form.DownForCode(&quot;docState&quot;).GetSubmitValue();\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;var&nbsp;apply&nbsp;=&nbsp;title.DownForCode(&quot;apply&quot;).GetValue();\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;if&nbsp;(docState&nbsp;&gt;&nbsp;10)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(apply&nbsp;==&nbsp;1&nbsp;&&&nbsp;docState&nbsp;==&nbsp;30)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LinkButton(me,&nbsp;false);\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LinkButton(me,&nbsp;true);\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;}\n};\n\n//&nbsp;function&nbsp;LinkButton(me,&nbsp;result)&nbsp;{\n//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;LinkButtonArray&nbsp;=&nbsp;me.Down(&quot;[controltype='LinkButton']&quot;);\n//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;LinkButtonArray.length;&nbsp;i++)&nbsp;{\n//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LinkButtonArray[i].SetVisible(result);\n//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\n//&nbsp;}","name":"业务约定书","otherChildren":[],"property":[{"isHide":false,"name":"IsLazy","value":"true"},{"isHide":false,"name":"style:text-align","value":"left!important"},{"isHide":false,"name":"ClassGroup","value":"CardB"},{"isHide":false,"name":"JavaScript","value":"var registerJavaScript = function () {\r\n \r\nthis.BeforeLoad&nbsp;=&nbsp;function&nbsp;()&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;me&nbsp;=&nbsp;this;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;form&nbsp;=&nbsp;me.Up().Up().DownForCode('projectTab').Down(&quot;[controltype='FormPanel']&quot;).First;\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNullOrEmpty(form))&nbsp;return&nbsp;false;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;id&nbsp;=&nbsp;form.DownForCode(&quot;id&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNullOrEmpty(id)&nbsp;||&nbsp;Framework.IsNullOrEmpty(id.GetValue()))&nbsp;return&nbsp;false;\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;engagement&nbsp;=&nbsp;me.DownForCode(&quot;engagements&quot;);\n\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNullOrEmpty(engagement))&nbsp;return;\n\n&nbsp;&nbsp;&nbsp;&nbsp;engagement.projectId&nbsp;=&nbsp;id.GetValue();\n&nbsp;&nbsp;&nbsp;&nbsp;engagement.Load();\n\n&nbsp;&nbsp;&nbsp;&nbsp;//var&nbsp;title&nbsp;=&nbsp;me.Top();\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;var&nbsp;docState&nbsp;=&nbsp;form.DownForCode(&quot;docState&quot;).GetSubmitValue();\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;var&nbsp;apply&nbsp;=&nbsp;title.DownForCode(&quot;apply&quot;).GetValue();\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;if&nbsp;(docState&nbsp;&gt;&nbsp;10)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(apply&nbsp;==&nbsp;1&nbsp;&&&nbsp;docState&nbsp;==&nbsp;30)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LinkButton(me,&nbsp;false);\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LinkButton(me,&nbsp;true);\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;}\n};\n\n//&nbsp;function&nbsp;LinkButton(me,&nbsp;result)&nbsp;{\n//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;LinkButtonArray&nbsp;=&nbsp;me.Down(&quot;[controltype='LinkButton']&quot;);\n//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;LinkButtonArray.length;&nbsp;i++)&nbsp;{\n//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LinkButtonArray[i].SetVisible(result);\n//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\n//&nbsp;}\r\n \r\n};"}],"sort":35}],"code":"formMainTabs","control":"Tabs","dataPermission":[],"isReference":false,"javaScript":"","name":"主选项卡","otherChildren":[],"property":[{"isHide":false,"name":"EnableValid","value":"true"}],"sort":0},{"action":[],"authority":[],"children":[],"code":"uuid","control":"Hidden","dataPermission":[],"isReference":false,"name":"uuid","otherChildren":[],"property":[],"sort":1000}],"code":"projectByNotice","control":"Panel","dataPermission":[],"isReference":false,"javaScript":"this.BeforeLoad&nbsp;=&nbsp;function&nbsp;()&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;console.log('BeforeLoadProjectManagePanel');\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;me&nbsp;=&nbsp;this;\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(me.IsAdd)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;me.SetDownVisible('BusinessAgreement',&nbsp;true);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;me.SetDownVisible('ProjectMember',&nbsp;true);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;me.SetDownVisible('BusinessActivity',&nbsp;true);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;me.SetDownVisible('ProjectFrame',&nbsp;true);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;me.DownForCode('projectManagerId').SetValue(AppContext.Profile);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;false;\n&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNotNullOrEmpty(me.projectData))&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;me.SetDownVisible('ProjectMember',&nbsp;me.projectData.financialReportProject&nbsp;==&nbsp;20);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;me.SetDownVisible('BusinessActivity',&nbsp;me.projectData.financialReportProject&nbsp;==&nbsp;20);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;me.SetDownVisible('ProjectFrame',&nbsp;me.projectData.financialReportProject&nbsp;==&nbsp;20);\n&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;pamar&nbsp;=&nbsp;{id:&nbsp;me.Opener.DownForCode(&quot;EntityId&quot;).GetValue()};\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;((me.IsWorkCenter&nbsp;||&nbsp;Framework.IsNotNullOrEmpty(me.select))&nbsp;&&&nbsp;Framework.IsNullOrEmpty(me.projectData))&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.SetDownVisible('ProjectMember',&nbsp;false);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.SetDownVisible('BusinessActivity',&nbsp;false);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.SetDownVisible('ProjectFrame',&nbsp;false);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pamar.id&nbsp;=&nbsp;me.select.id;\n&nbsp;&nbsp;&nbsp;&nbsp;}\n\n&nbsp;&nbsp;&nbsp;&nbsp;me.SetDownVisible('BusinessAgreement',&nbsp;false);\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;projectForm&nbsp;=&nbsp;me.Down(&quot;form[basecode='projectPage']&quot;).First;\n\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNullOrEmpty(projectForm))&nbsp;return&nbsp;false;\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNullOrEmpty(pamar.id))&nbsp;return&nbsp;false;\n&nbsp;&nbsp;&nbsp;&nbsp;projectForm.Data&nbsp;=&nbsp;pamar;\n};\n\nthis.AfterLoad&nbsp;=&nbsp;function&nbsp;()&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;console.log('AfterLoadProjectManagePanel')\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;me&nbsp;=&nbsp;this;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;risk&nbsp;=&nbsp;me.DownForCode(&quot;RiskLevel&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;me.DownForCode(&quot;riskMessage&quot;).SetValue(risk.GetSubmitValue());\n}","name":"项目消息","otherChildren":[],"property":[{"isHide":false,"name":"BaseCode","value":"projectByNotice"},{"isHide":false,"name":"Name","value":"项目消息"},{"isHide":false,"name":"IsReadOnly","value":false},{"isHide":false,"name":"Description"},{"isHide":false,"name":"FormId","value":343095},{"isHide":false,"name":"OrderBy"},{"isHide":false,"name":"IsSqlForm","value":false},{"isHide":false,"name":"JavaScript","value":"var registerJavaScript = function () {\r\n \r\nthis.BeforeLoad&nbsp;=&nbsp;function&nbsp;()&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;console.log('BeforeLoadProjectManagePanel');\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;me&nbsp;=&nbsp;this;\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(me.IsAdd)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;me.SetDownVisible('BusinessAgreement',&nbsp;true);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;me.SetDownVisible('ProjectMember',&nbsp;true);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;me.SetDownVisible('BusinessActivity',&nbsp;true);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;me.SetDownVisible('ProjectFrame',&nbsp;true);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;me.DownForCode('projectManagerId').SetValue(AppContext.Profile);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;false;\n&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNotNullOrEmpty(me.projectData))&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;me.SetDownVisible('ProjectMember',&nbsp;me.projectData.financialReportProject&nbsp;==&nbsp;20);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;me.SetDownVisible('BusinessActivity',&nbsp;me.projectData.financialReportProject&nbsp;==&nbsp;20);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;me.SetDownVisible('ProjectFrame',&nbsp;me.projectData.financialReportProject&nbsp;==&nbsp;20);\n&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;pamar&nbsp;=&nbsp;{id:&nbsp;me.Opener.DownForCode(&quot;EntityId&quot;).GetValue()};\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;((me.IsWorkCenter&nbsp;||&nbsp;Framework.IsNotNullOrEmpty(me.select))&nbsp;&&&nbsp;Framework.IsNullOrEmpty(me.projectData))&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.SetDownVisible('ProjectMember',&nbsp;false);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.SetDownVisible('BusinessActivity',&nbsp;false);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.SetDownVisible('ProjectFrame',&nbsp;false);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pamar.id&nbsp;=&nbsp;me.select.id;\n&nbsp;&nbsp;&nbsp;&nbsp;}\n\n&nbsp;&nbsp;&nbsp;&nbsp;me.SetDownVisible('BusinessAgreement',&nbsp;false);\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;projectForm&nbsp;=&nbsp;me.Down(&quot;form[basecode='projectPage']&quot;).First;\n\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNullOrEmpty(projectForm))&nbsp;return&nbsp;false;\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNullOrEmpty(pamar.id))&nbsp;return&nbsp;false;\n&nbsp;&nbsp;&nbsp;&nbsp;projectForm.Data&nbsp;=&nbsp;pamar;\n};\n\nthis.AfterLoad&nbsp;=&nbsp;function&nbsp;()&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;console.log('AfterLoadProjectManagePanel')\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;me&nbsp;=&nbsp;this;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;risk&nbsp;=&nbsp;me.DownForCode(&quot;RiskLevel&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;me.DownForCode(&quot;riskMessage&quot;).SetValue(risk.GetSubmitValue());\n}\r\n \r\n};"},{"container":"Window","isHide":false,"name":"maximized","value":"true"}],"sort":0}
2020-03-10 17:40:34