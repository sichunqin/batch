{
	"action":[
		
	],
	"authority":[
		
	],
	"children":[
		{
			"action":[
				
			],
			"authority":[
				
			],
			"children":[
				{
					"action":[
						
					],
					"authority":[
						
					],
					"children":[
						{
							"action":[
								
							],
							"authority":[
								
							],
							"children":[
								
							],
							"dataPermission":[
								
							],
							"isReference":false,
							"otherChildren":[
								
							],
							"property":[
								{
									"isHide":true,
									"name":"referenceFormId",
									"value":342993
								}
							],
							"sort":0
						}
					],
					"code":"secondaryReview",
					"control":"Tab",
					"dataPermission":[
						
					],
					"isReference":false,
					"javaScript":"this.OnSelect=function(){
    console.log("二级复核");
    var t = this.Top();
    var rcfrm =t.DownForCode("reviewComments");


    var pid;
    if(Framework.IsNullOrEmpty( rcfrm.projectId.prjId))
    {
        pid=rcfrm.projectId;
    }else
    {
        pid=rcfrm.projectId.prjId;
    }
    //加载左边的树
    var frm = this.DownForCode("compositionCustomer");
    var paramstree = {};
    paramstree.param = "projectId";
    paramstree.value =pid;
    frm.params = JSON.stringify(paramstree);
    frm.Load();

};",
					"name":"二级复核",
					"otherChildren":[
						
					],
					"property":[
						{
							"isHide":false,
							"name":"ClassGroup",
							"value":"panelGray"
						},
						{
							"isHide":false,
							"name":"JavaScript",
							"value":"var registerJavaScript = function () {

 

this.OnSelect=function(){
    console.log("二级复核");
    var t = this.Top();
    var rcfrm =t.DownForCode("reviewComments");


    var pid;
    if(Framework.IsNullOrEmpty( rcfrm.projectId.prjId))
    {
        pid=rcfrm.projectId;
    }else
    {
        pid=rcfrm.projectId.prjId;
    }
    //加载左边的树
    var frm = this.DownForCode("compositionCustomer");
    var paramstree = {};
    paramstree.param = "projectId";
    paramstree.value =pid;
    frm.params = JSON.stringify(paramstree);
    frm.Load();

};

 

};"
						}
					],
					"sort":6
				},
				{
					"action":[
						
					],
					"authority":[
						
					],
					"children":[
						{
							"action":[
								
							],
							"authority":[
								
							],
							"children":[
								
							],
							"dataPermission":[
								
							],
							"isReference":false,
							"otherChildren":[
								
							],
							"property":[
								{
									"isHide":true,
									"name":"referenceFormId",
									"value":24920
								}
							],
							"sort":0
						}
					],
					"code":"partnerReview",
					"control":"Tab",
					"dataPermission":[
						
					],
					"isReference":false,
					"javaScript":"this.OnSelect=function(){
    console.log("BeforeLoad项目合伙人");
    var t = this.Top();
    var rcfrm =t.DownForCode("reviewComments");
    var isHaveOper;
    if(Framework.IsNotNullOrEmpty(rcfrm.haveOper))
    {
        if(rcfrm.haveOper =="F")
        {
            isHaveOper=false;
        }
    }else
    {
        if(Framework.IsNullOrEmpty(rcfrm.curstate))
        {
            isHaveOper=true;
        }else
        {
            isHaveOper=rcfrm.curstate == 40;
        }
    }
    

    //rcfrm.projectId
    //加载重点问题
    var mt=this;
    var mtkey=mt.DownForCode("keyIssue");
    var form=mtkey.DownForCode("reviewComments");
    form.rCType=10;
    form.manuscriptReviewState=40;//合伙人复核


    var pid;
   
    if(Framework.IsNullOrEmpty( rcfrm.projectId.prjId))
    {
        pid=rcfrm.projectId;
    }else
    {
        pid=rcfrm.projectId.prjId;
    }


    var params = [];
    params.push({param: 'auditworkProjectID', value: pid});
    params.push({param: 'rCType', value: 10});
    params.push({param: 'manuscriptReviewState', value: 40});
    params.push({param: 'isReview', value: rcfrm.isShowAddReview});
    params.push({param: 'isHaveOper', value: isHaveOper});
    form.params=JSON.stringify(params);
    form.Load();

    //加载报告问题
    var mtkey2=mt.DownForCode("report")
    var form2=mtkey2.DownForCode("reviewComments");
    form2.rCType=20;
    form2.manuscriptReviewState=40;//合伙人复核

    var params2 = [];
    params2.push({param: 'auditworkProjectID', value: pid});
    params2.push({param: 'rCType', value: 20});
    params2.push({param: 'manuscriptReviewState', value: 40});
    params2.push({param: 'isReview', value: rcfrm.isShowAddReview});
    params2.push({param: 'isHaveOper', value: isHaveOper});
    form2.params=JSON.stringify(params2);
    form2.Load();

    //加载底稿问题d
    var mtkey3=mt.DownForCode("draft")
    var form3=mtkey3.DownForCode("reviewCommentsTreeDraft");
    form3.rCType=30;
    form3.manuscriptReviewState=40;//合伙人复核

    var params3 = [];
    params3.push({param: 'auditworkProjectID', value: pid});
    params3.push({param: 'rCType', value: 30});
    params3.push({param: 'manuscriptReviewState', value: 40});
    params3.push({param: 'isReview', value: rcfrm.isShowAddReview});
    params3.push({param: 'isHaveOper', value: isHaveOper});
    form3.params=JSON.stringify(params3);
    form3.Load();

};
",
					"name":"项目合伙人复核",
					"otherChildren":[
						
					],
					"property":[
						{
							"isHide":false,
							"name":"JavaScript",
							"value":"var registerJavaScript = function () {

 

this.OnSelect=function(){
    console.log("BeforeLoad项目合伙人");
    var t = this.Top();
    var rcfrm =t.DownForCode("reviewComments");
    var isHaveOper;
    if(Framework.IsNotNullOrEmpty(rcfrm.haveOper))
    {
        if(rcfrm.haveOper =="F")
        {
            isHaveOper=false;
        }
    }else
    {
        if(Framework.IsNullOrEmpty(rcfrm.curstate))
        {
            isHaveOper=true;
        }else
        {
            isHaveOper=rcfrm.curstate == 40;
        }
    }
    

    //rcfrm.projectId
    //加载重点问题
    var mt=this;
    var mtkey=mt.DownForCode("keyIssue");
    var form=mtkey.DownForCode("reviewComments");
    form.rCType=10;
    form.manuscriptReviewState=40;//合伙人复核


    var pid;
   
    if(Framework.IsNullOrEmpty( rcfrm.projectId.prjId))
    {
        pid=rcfrm.projectId;
    }else
    {
        pid=rcfrm.projectId.prjId;
    }


    var params = [];
    params.push({param: 'auditworkProjectID', value: pid});
    params.push({param: 'rCType', value: 10});
    params.push({param: 'manuscriptReviewState', value: 40});
    params.push({param: 'isReview', value: rcfrm.isShowAddReview});
    params.push({param: 'isHaveOper', value: isHaveOper});
    form.params=JSON.stringify(params);
    form.Load();

    //加载报告问题
    var mtkey2=mt.DownForCode("report")
    var form2=mtkey2.DownForCode("reviewComments");
    form2.rCType=20;
    form2.manuscriptReviewState=40;//合伙人复核

    var params2 = [];
    params2.push({param: 'auditworkProjectID', value: pid});
    params2.push({param: 'rCType', value: 20});
    params2.push({param: 'manuscriptReviewState', value: 40});
    params2.push({param: 'isReview', value: rcfrm.isShowAddReview});
    params2.push({param: 'isHaveOper', value: isHaveOper});
    form2.params=JSON.stringify(params2);
    form2.Load();

    //加载底稿问题d
    var mtkey3=mt.DownForCode("draft")
    var form3=mtkey3.DownForCode("reviewCommentsTreeDraft");
    form3.rCType=30;
    form3.manuscriptReviewState=40;//合伙人复核

    var params3 = [];
    params3.push({param: 'auditworkProjectID', value: pid});
    params3.push({param: 'rCType', value: 30});
    params3.push({param: 'manuscriptReviewState', value: 40});
    params3.push({param: 'isReview', value: rcfrm.isShowAddReview});
    params3.push({param: 'isHaveOper', value: isHaveOper});
    form3.params=JSON.stringify(params3);
    form3.Load();

};


 

};"
						}
					],
					"sort":7
				},
				{
					"action":[
						
					],
					"authority":[
						
					],
					"children":[
						{
							"action":[
								
							],
							"authority":[
								
							],
							"children":[
								
							],
							"dataPermission":[
								
							],
							"isReference":false,
							"otherChildren":[
								
							],
							"property":[
								{
									"isHide":true,
									"name":"referenceFormId",
									"value":24920
								}
							],
							"sort":0
						}
					],
					"code":"branchReview",
					"control":"Tab",
					"dataPermission":[
						
					],
					"isReference":false,
					"javaScript":"
this.OnSelect=function(){
    console.log("BeforeLoad项目合伙人");
    var t = this.Top();
    var rcfrm =t.DownForCode("reviewComments");
    var isHaveOper;
    if (Framework.IsNotNullOrEmpty(rcfrm.haveOper)) {
        if (rcfrm.haveOper == "F") {
            isHaveOper = false;
        }
    } else {
        if(Framework.IsNullOrEmpty(rcfrm.curstate))
        {
            isHaveOper=true;
        }else
        {
            isHaveOper=rcfrm.curstate == 50;
        }
    }

    //rcfrm.projectId
    //加载重点问题
    var mt=this;
    var mtkey=mt.DownForCode("keyIssue");
    var form=mtkey.DownForCode("reviewComments");
    form.rCType=10;
    form.manuscriptReviewState=50;//分所复核

    var pid;
    if(Framework.IsNullOrEmpty( rcfrm.projectId.prjId))
    {
        pid=rcfrm.projectId;
    }else
    {
        pid=rcfrm.projectId.prjId;
    }

    var params = [];
    params.push({param: 'auditworkProjectID', value: pid});
    params.push({param: 'rCType', value: 10});
    params.push({param: 'manuscriptReviewState', value: 50});
    params.push({param: 'isReview', value: rcfrm.isShowAddReview});
    params.push({param: 'isHaveOper', value: isHaveOper});
    form.params=JSON.stringify(params);
    form.Load();

    //加载报告问题
    var mtkey2=mt.DownForCode("report")
    var form2=mtkey2.DownForCode("reviewComments");
    form2.rCType=20;
    form2.manuscriptReviewState=50;//分所复核

    var params2 = [];
    params2.push({param: 'auditworkProjectID', value: pid});
    params2.push({param: 'rCType', value: 20});
    params2.push({param: 'manuscriptReviewState', value: 50});
    params2.push({param: 'isReview', value: rcfrm.isShowAddReview});
    params2.push({param: 'isHaveOper', value: isHaveOper});
    form2.params=JSON.stringify(params2);
    form2.Load();

    //加载底稿问题d
    var mtkey3=mt.DownForCode("draft")
    var form3=mtkey3.DownForCode("reviewCommentsTreeDraft");
    form3.rCType=30;
    form3.manuscriptReviewState=50;//合伙人复核

    var params3 = [];
    params3.push({param: 'auditworkProjectID', value: pid});
    params3.push({param: 'rCType', value: 30});
    params3.push({param: 'manuscriptReviewState', value: 50});
    params3.push({param: 'isReview', value: rcfrm.isShowAddReview});
    params3.push({param: 'isHaveOper', value: isHaveOper});
    form3.params=JSON.stringify(params3);
    form3.Load();
};
",
					"name":"分所独立复核",
					"otherChildren":[
						
					],
					"property":[
						{
							"isHide":false,
							"name":"JavaScript",
							"value":"var registerJavaScript = function () {

 


this.OnSelect=function(){
    console.log("BeforeLoad项目合伙人");
    var t = this.Top();
    var rcfrm =t.DownForCode("reviewComments");
    var isHaveOper;
    if (Framework.IsNotNullOrEmpty(rcfrm.haveOper)) {
        if (rcfrm.haveOper == "F") {
            isHaveOper = false;
        }
    } else {
        if(Framework.IsNullOrEmpty(rcfrm.curstate))
        {
            isHaveOper=true;
        }else
        {
            isHaveOper=rcfrm.curstate == 50;
        }
    }

    //rcfrm.projectId
    //加载重点问题
    var mt=this;
    var mtkey=mt.DownForCode("keyIssue");
    var form=mtkey.DownForCode("reviewComments");
    form.rCType=10;
    form.manuscriptReviewState=50;//分所复核

    var pid;
    if(Framework.IsNullOrEmpty( rcfrm.projectId.prjId))
    {
        pid=rcfrm.projectId;
    }else
    {
        pid=rcfrm.projectId.prjId;
    }

    var params = [];
    params.push({param: 'auditworkProjectID', value: pid});
    params.push({param: 'rCType', value: 10});
    params.push({param: 'manuscriptReviewState', value: 50});
    params.push({param: 'isReview', value: rcfrm.isShowAddReview});
    params.push({param: 'isHaveOper', value: isHaveOper});
    form.params=JSON.stringify(params);
    form.Load();

    //加载报告问题
    var mtkey2=mt.DownForCode("report")
    var form2=mtkey2.DownForCode("reviewComments");
    form2.rCType=20;
    form2.manuscriptReviewState=50;//分所复核

    var params2 = [];
    params2.push({param: 'auditworkProjectID', value: pid});
    params2.push({param: 'rCType', value: 20});
    params2.push({param: 'manuscriptReviewState', value: 50});
    params2.push({param: 'isReview', value: rcfrm.isShowAddReview});
    params2.push({param: 'isHaveOper', value: isHaveOper});
    form2.params=JSON.stringify(params2);
    form2.Load();

    //加载底稿问题d
    var mtkey3=mt.DownForCode("draft")
    var form3=mtkey3.DownForCode("reviewCommentsTreeDraft");
    form3.rCType=30;
    form3.manuscriptReviewState=50;//合伙人复核

    var params3 = [];
    params3.push({param: 'auditworkProjectID', value: pid});
    params3.push({param: 'rCType', value: 30});
    params3.push({param: 'manuscriptReviewState', value: 50});
    params3.push({param: 'isReview', value: rcfrm.isShowAddReview});
    params3.push({param: 'isHaveOper', value: isHaveOper});
    form3.params=JSON.stringify(params3);
    form3.Load();
};


 

};"
						}
					],
					"sort":8
				},
				{
					"action":[
						
					],
					"authority":[
						
					],
					"children":[
						{
							"action":[
								
							],
							"authority":[
								
							],
							"children":[
								
							],
							"dataPermission":[
								
							],
							"isReference":false,
							"otherChildren":[
								
							],
							"property":[
								{
									"isHide":true,
									"name":"referenceFormId",
									"value":24920
								}
							],
							"sort":0
						}
					],
					"code":"totalReview",
					"control":"Tab",
					"dataPermission":[
						
					],
					"isReference":false,
					"javaScript":"this.OnSelect=function(){
    console.log("BeforeLoad项目合伙人");
    var t = this.Top();
    var rcfrm =t.DownForCode("reviewComments");
    var isHaveOper;
    if (Framework.IsNotNullOrEmpty(rcfrm.haveOper)) {
        if (rcfrm.haveOper == "F") {
            isHaveOper = false;
        }
    } else {
        if(Framework.IsNullOrEmpty(rcfrm.curstate))
        {
            isHaveOper=true;
        }else
        {
            isHaveOper=rcfrm.curstate == 60;
        }
    }
    
    //rcfrm.projectId
    //加载重点问题
    var mt=this;
    var mtkey=mt.DownForCode("keyIssue");
    var form=mtkey.DownForCode("reviewComments");
    form.rCType=10;
    form.manuscriptReviewState=60;//总所复核

    var pid;
    if(Framework.IsNullOrEmpty( rcfrm.projectId.prjId))
    {
        pid=rcfrm.projectId;
    }else
    {
        pid=rcfrm.projectId.prjId;
    }

    var params = [];
    params.push({param: 'auditworkProjectID', value: pid});
    params.push({param: 'rCType', value: 10});
    params.push({param: 'manuscriptReviewState', value: 60});
    params.push({param: 'isReview', value: rcfrm.isShowAddReview});
    params.push({param: 'isHaveOper', value: isHaveOper});
    form.params=JSON.stringify(params);
    form.Load();

    //加载报告问题
    var mtkey2=mt.DownForCode("report")
    var form2=mtkey2.DownForCode("reviewComments");
    form2.rCType=20;
    form2.manuscriptReviewState=60;//总所复核

    var params2 = [];
    params2.push({param: 'auditworkProjectID', value: pid});
    params2.push({param: 'rCType', value: 20});
    params2.push({param: 'manuscriptReviewState', value: 60});
    params2.push({param: 'isReview', value: rcfrm.isShowAddReview});
    params2.push({param: 'isHaveOper', value: isHaveOper});
    form2.params=JSON.stringify(params2);
    form2.Load();

    //加载底稿问题d
    var mtkey3=mt.DownForCode("draft")
    var form3=mtkey3.DownForCode("reviewCommentsTreeDraft");
    form3.rCType=30;
    form3.manuscriptReviewState=60;//合伙人复核

    var params3 = [];
    params3.push({param: 'auditworkProjectID', value: pid});
    params3.push({param: 'rCType', value: 30});
    params3.push({param: 'manuscriptReviewState', value: 60});
    params3.push({param: 'isReview', value: rcfrm.isShowAddReview});
    params3.push({param: 'isHaveOper', value: isHaveOper});
    form3.params=JSON.stringify(params3);
    form3.Load();
};",
					"name":"总所独立复核",
					"otherChildren":[
						
					],
					"property":[
						{
							"isHide":false,
							"name":"JavaScript",
							"value":"var registerJavaScript = function () {

 

this.OnSelect=function(){
    console.log("BeforeLoad项目合伙人");
    var t = this.Top();
    var rcfrm =t.DownForCode("reviewComments");
    var isHaveOper;
    if (Framework.IsNotNullOrEmpty(rcfrm.haveOper)) {
        if (rcfrm.haveOper == "F") {
            isHaveOper = false;
        }
    } else {
        if(Framework.IsNullOrEmpty(rcfrm.curstate))
        {
            isHaveOper=true;
        }else
        {
            isHaveOper=rcfrm.curstate == 60;
        }
    }
    
    //rcfrm.projectId
    //加载重点问题
    var mt=this;
    var mtkey=mt.DownForCode("keyIssue");
    var form=mtkey.DownForCode("reviewComments");
    form.rCType=10;
    form.manuscriptReviewState=60;//总所复核

    var pid;
    if(Framework.IsNullOrEmpty( rcfrm.projectId.prjId))
    {
        pid=rcfrm.projectId;
    }else
    {
        pid=rcfrm.projectId.prjId;
    }

    var params = [];
    params.push({param: 'auditworkProjectID', value: pid});
    params.push({param: 'rCType', value: 10});
    params.push({param: 'manuscriptReviewState', value: 60});
    params.push({param: 'isReview', value: rcfrm.isShowAddReview});
    params.push({param: 'isHaveOper', value: isHaveOper});
    form.params=JSON.stringify(params);
    form.Load();

    //加载报告问题
    var mtkey2=mt.DownForCode("report")
    var form2=mtkey2.DownForCode("reviewComments");
    form2.rCType=20;
    form2.manuscriptReviewState=60;//总所复核

    var params2 = [];
    params2.push({param: 'auditworkProjectID', value: pid});
    params2.push({param: 'rCType', value: 20});
    params2.push({param: 'manuscriptReviewState', value: 60});
    params2.push({param: 'isReview', value: rcfrm.isShowAddReview});
    params2.push({param: 'isHaveOper', value: isHaveOper});
    form2.params=JSON.stringify(params2);
    form2.Load();

    //加载底稿问题d
    var mtkey3=mt.DownForCode("draft")
    var form3=mtkey3.DownForCode("reviewCommentsTreeDraft");
    form3.rCType=30;
    form3.manuscriptReviewState=60;//合伙人复核

    var params3 = [];
    params3.push({param: 'auditworkProjectID', value: pid});
    params3.push({param: 'rCType', value: 30});
    params3.push({param: 'manuscriptReviewState', value: 60});
    params3.push({param: 'isReview', value: rcfrm.isShowAddReview});
    params3.push({param: 'isHaveOper', value: isHaveOper});
    form3.params=JSON.stringify(params3);
    form3.Load();
};

 

};"
						}
					],
					"sort":9
				},
				{
					"action":[
						
					],
					"authority":[
						
					],
					"children":[
						{
							"action":[
								
							],
							"authority":[
								
							],
							"children":[
								
							],
							"dataPermission":[
								
							],
							"isReference":false,
							"otherChildren":[
								
							],
							"property":[
								{
									"isHide":true,
									"name":"referenceFormId",
									"value":26257
								}
							],
							"sort":0
						}
					],
					"code":"drawAttention",
					"control":"Tab",
					"dataPermission":[
						
					],
					"isReference":false,
					"javaScript":"this.OnSelect=function(){
    console.log("AAAAAA");
    var t = this.Top();
    var frm=t.DownForCode("reviewComments");

    var att=this.DownForCode("attentions");
    if(Framework.IsNullOrEmpty(frm.projectId.id))
    {
        att.params=JSON.stringify({'param':'projectId','value':frm.projectId});
    }else
    {
        att.params=JSON.stringify({'param':'projectId','value':frm.projectId.id});
    }

    att.MainContainer=this;
    att.Load();

    var m = t.Opener;
    var top = m.Top();
    var p = top.DownForCode("draftReviewBatch");
    if(p.OpenSelectRow.manuscriptReviewStateValue=="70")
    {
        var c =this.DownForCode("Create");
        c.SetVisible(true);

    }
};",
					"name":"提请关注事项",
					"otherChildren":[
						
					],
					"property":[
						{
							"isHide":false,
							"name":"JavaScript",
							"value":"var registerJavaScript = function () {

 

this.OnSelect=function(){
    console.log("AAAAAA");
    var t = this.Top();
    var frm=t.DownForCode("reviewComments");

    var att=this.DownForCode("attentions");
    if(Framework.IsNullOrEmpty(frm.projectId.id))
    {
        att.params=JSON.stringify({'param':'projectId','value':frm.projectId});
    }else
    {
        att.params=JSON.stringify({'param':'projectId','value':frm.projectId.id});
    }

    att.MainContainer=this;
    att.Load();

    var m = t.Opener;
    var top = m.Top();
    var p = top.DownForCode("draftReviewBatch");
    if(p.OpenSelectRow.manuscriptReviewStateValue=="70")
    {
        var c =this.DownForCode("Create");
        c.SetVisible(true);

    }
};

 

};"
						}
					],
					"sort":10
				}
			],
			"code":"formMainTabs",
			"control":"Tabs",
			"dataPermission":[
				
			],
			"isReference":false,
			"name":"主选项卡",
			"otherChildren":[
				
			],
			"property":[
				{
					"isHide":false,
					"name":"class",
					"value":"easyui-tabs tabs-container easyui-fluid dx_Tabshard"
				}
			],
			"sort":0
		},
		{
			"action":[
				
			],
			"authority":[
				
			],
			"children":[
				
			],
			"code":"uuid",
			"control":"Hidden",
			"dataPermission":[
				
			],
			"isReference":false,
			"name":"uuid",
			"otherChildren":[
				
			],
			"property":[
				
			],
			"sort":1000
		}
	],
	"code":"reviewComments",
	"control":"Panel",
	"dataPermission":[
		
	],
	"isReference":false,
	"javaScript":"
this.AfterOpen = function () {
    console.log("customerPanelAfterOpen");
    var me = this;
    var formMainTabs = me.DownForCode('FormMainTabs');
    if (formMainTabs && formMainTabs.SetTabSelect) formMainTabs.SetTabSelect(me.openTabCode);

};


this.BeforeLoad = function () {
    console.log("BeforeLoad111");
    /☆  //复制表单不知道把什么内容复制丢了，只能暂时隐藏其他tab页   需求改成显示所有页签，故不再隐藏
      this.SetDownVisible('PartnerReview', true);
      this.SetDownVisible('BranchReview', true);
      this.SetDownVisible('TotalReview', true);
  ☆/
    var m = this.Opener;
    var t = m.Top();
    var p = t.DownForCode("draftReviewBatch");
    this.curstate = p.curstate;
    var cs=p.curstate;
    if(Framework.IsNullOrEmpty(p.curstate))
    {
        cs=30;
    }
    // cs=30;//先暂时这样写

    /☆var tabs=this.DownForCode("formMainTabs");
    if(fmanuscriptReviewState ==30)
    {
        tabs.SetTabTitle(0,'二级复核')
    }else if(fmanuscriptReviewState ==40)
    {
        tabs.SetTabTitle(0,'三级复核')
    }else if(fmanuscriptReviewState ==50)
    {
        tabs.SetTabTitle(0,'分所复核')
    }else if(fmanuscriptReviewState ==60)
    {
        tabs.SetTabTitle(0,'总所复核')
    }☆/


    var isHaveOper;
    if(Framework.IsNotNullOrEmpty(this.haveOper))
    {
        if(this.haveOper =="F")
        {
            isHaveOper=false;
        }
    }else
    {
        if(Framework.IsNullOrEmpty(p.curstate))
        {
            isHaveOper=true;
        }else
        {
            isHaveOper=p.curstate == 30;
        }
    }

    this.projectId = p.projectId;
    this.isShowAddReview = p.isReview;
    //加载重点问题
    var m = this.DownForCode("formMainTabs");
    var mt = m.DownForCode("secondaryReview");
    var mtkey = mt.DownForCode("keyIssue");
    var form = mtkey.DownForCode("reviewComments");
    form.rCType = 10;
    form.manuscriptReviewState = cs;//二级复核

    var pid;
    if (Framework.IsNullOrEmpty(p.projectId.prjId)) {
        if(Framework.IsNullOrEmpty(p.projectId.id))
        {
            pid = p.projectId;
        }else
        {
            pid = p.id;
        }

    } else {
        pid = p.projectId.prjId;
    }

    //加载左边的树
    var frm = this.DownForCode("compositionCustomer");
    var paramstree = {};
    paramstree.param = "projectId";
    paramstree.value =pid;
    frm.params = JSON.stringify(paramstree);
    frm.Load();
};",
	"name":"复核意见(ReviewComments)",
	"otherChildren":[
		
	],
	"property":[
		{
			"isHide":false,
			"name":"BaseCode",
			"value":"reviewComments"
		},
		{
			"isHide":false,
			"name":"Name",
			"value":"复核意见"
		},
		{
			"isHide":false,
			"name":"IsReadOnly",
			"value":false
		},
		{
			"isHide":false,
			"name":"Description"
		},
		{
			"isHide":false,
			"name":"FormId",
			"value":24912
		},
		{
			"isHide":false,
			"name":"OrderBy"
		},
		{
			"isHide":false,
			"name":"IsSqlForm",
			"value":false
		},
		{
			"isHide":false,
			"name":"JavaScript",
			"value":"var registerJavaScript = function () {

 


this.AfterOpen = function () {
    console.log("customerPanelAfterOpen");
    var me = this;
    var formMainTabs = me.DownForCode('FormMainTabs');
    if (formMainTabs && formMainTabs.SetTabSelect) formMainTabs.SetTabSelect(me.openTabCode);

};


this.BeforeLoad = function () {
    console.log("BeforeLoad111");
    /☆  //复制表单不知道把什么内容复制丢了，只能暂时隐藏其他tab页   需求改成显示所有页签，故不再隐藏
      this.SetDownVisible('PartnerReview', true);
      this.SetDownVisible('BranchReview', true);
      this.SetDownVisible('TotalReview', true);
  ☆/
    var m = this.Opener;
    var t = m.Top();
    var p = t.DownForCode("draftReviewBatch");
    this.curstate = p.curstate;
    var cs=p.curstate;
    if(Framework.IsNullOrEmpty(p.curstate))
    {
        cs=30;
    }
    // cs=30;//先暂时这样写

    /☆var tabs=this.DownForCode("formMainTabs");
    if(fmanuscriptReviewState ==30)
    {
        tabs.SetTabTitle(0,'二级复核')
    }else if(fmanuscriptReviewState ==40)
    {
        tabs.SetTabTitle(0,'三级复核')
    }else if(fmanuscriptReviewState ==50)
    {
        tabs.SetTabTitle(0,'分所复核')
    }else if(fmanuscriptReviewState ==60)
    {
        tabs.SetTabTitle(0,'总所复核')
    }☆/


    var isHaveOper;
    if(Framework.IsNotNullOrEmpty(this.haveOper))
    {
        if(this.haveOper =="F")
        {
            isHaveOper=false;
        }
    }else
    {
        if(Framework.IsNullOrEmpty(p.curstate))
        {
            isHaveOper=true;
        }else
        {
            isHaveOper=p.curstate == 30;
        }
    }

    this.projectId = p.projectId;
    this.isShowAddReview = p.isReview;
    //加载重点问题
    var m = this.DownForCode("formMainTabs");
    var mt = m.DownForCode("secondaryReview");
    var mtkey = mt.DownForCode("keyIssue");
    var form = mtkey.DownForCode("reviewComments");
    form.rCType = 10;
    form.manuscriptReviewState = cs;//二级复核

    var pid;
    if (Framework.IsNullOrEmpty(p.projectId.prjId)) {
        if(Framework.IsNullOrEmpty(p.projectId.id))
        {
            pid = p.projectId;
        }else
        {
            pid = p.id;
        }

    } else {
        pid = p.projectId.prjId;
    }

    //加载左边的树
    var frm = this.DownForCode("compositionCustomer");
    var paramstree = {};
    paramstree.param = "projectId";
    paramstree.value =pid;
    frm.params = JSON.stringify(paramstree);
    frm.Load();
};

 

};"
		},
		{
			"isHide":false,
			"name":"EntityType",
			"value":"ReviewComments"
		},
		{
			"container":"Window",
			"isHide":false,
			"name":"collapsible",
			"value":"true"
		},
		{
			"container":"Window",
			"isHide":false,
			"name":"modal",
			"value":"false"
		},
		{
			"container":"Window",
			"isHide":false,
			"name":"width",
			"value":"90%"
		},
		{
			"container":"Window",
			"isHide":false,
			"name":"Height",
			"value":"90%"
		}
	],
	"sort":0
}
{"action":[],"authority":[],"children":[{"action":[],"authority":[],"children":[{"action":[],"authority":[],"children":[{"action":[],"authority":[],"children":[],"dataPermission":[],"isReference":false,"otherChildren":[],"property":[{"isHide":true,"name":"referenceFormId","value":342993}],"sort":0}],"code":"secondaryReview","control":"Tab","dataPermission":[],"isReference":false,"javaScript":"this.OnSelect=function(){\n&nbsp;&nbsp;&nbsp;&nbsp;console.log(&quot;二级复核&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;t&nbsp;=&nbsp;this.Top();\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;rcfrm&nbsp;=t.DownForCode(&quot;reviewComments&quot;);\n\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;pid;\n&nbsp;&nbsp;&nbsp;&nbsp;if(Framework.IsNullOrEmpty(&nbsp;rcfrm.projectId.prjId))\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pid=rcfrm.projectId;\n&nbsp;&nbsp;&nbsp;&nbsp;}else\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pid=rcfrm.projectId.prjId;\n&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;//加载左边的树\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;frm&nbsp;=&nbsp;this.DownForCode(&quot;compositionCustomer&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;paramstree&nbsp;=&nbsp;{};\n&nbsp;&nbsp;&nbsp;&nbsp;paramstree.param&nbsp;=&nbsp;&quot;projectId&quot;;\n&nbsp;&nbsp;&nbsp;&nbsp;paramstree.value&nbsp;=pid;\n&nbsp;&nbsp;&nbsp;&nbsp;frm.params&nbsp;=&nbsp;JSON.stringify(paramstree);\n&nbsp;&nbsp;&nbsp;&nbsp;frm.Load();\n\n};","name":"二级复核","otherChildren":[],"property":[{"isHide":false,"name":"ClassGroup","value":"panelGray"},{"isHide":false,"name":"JavaScript","value":"var registerJavaScript = function () {\r\n \r\nthis.OnSelect=function(){\n&nbsp;&nbsp;&nbsp;&nbsp;console.log(&quot;二级复核&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;t&nbsp;=&nbsp;this.Top();\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;rcfrm&nbsp;=t.DownForCode(&quot;reviewComments&quot;);\n\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;pid;\n&nbsp;&nbsp;&nbsp;&nbsp;if(Framework.IsNullOrEmpty(&nbsp;rcfrm.projectId.prjId))\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pid=rcfrm.projectId;\n&nbsp;&nbsp;&nbsp;&nbsp;}else\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pid=rcfrm.projectId.prjId;\n&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;//加载左边的树\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;frm&nbsp;=&nbsp;this.DownForCode(&quot;compositionCustomer&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;paramstree&nbsp;=&nbsp;{};\n&nbsp;&nbsp;&nbsp;&nbsp;paramstree.param&nbsp;=&nbsp;&quot;projectId&quot;;\n&nbsp;&nbsp;&nbsp;&nbsp;paramstree.value&nbsp;=pid;\n&nbsp;&nbsp;&nbsp;&nbsp;frm.params&nbsp;=&nbsp;JSON.stringify(paramstree);\n&nbsp;&nbsp;&nbsp;&nbsp;frm.Load();\n\n};\r\n \r\n};"}],"sort":6},{"action":[],"authority":[],"children":[{"action":[],"authority":[],"children":[],"dataPermission":[],"isReference":false,"otherChildren":[],"property":[{"isHide":true,"name":"referenceFormId","value":24920}],"sort":0}],"code":"partnerReview","control":"Tab","dataPermission":[],"isReference":false,"javaScript":"this.OnSelect=function(){\n&nbsp;&nbsp;&nbsp;&nbsp;console.log(&quot;BeforeLoad项目合伙人&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;t&nbsp;=&nbsp;this.Top();\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;rcfrm&nbsp;=t.DownForCode(&quot;reviewComments&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;isHaveOper;\n&nbsp;&nbsp;&nbsp;&nbsp;if(Framework.IsNotNullOrEmpty(rcfrm.haveOper))\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(rcfrm.haveOper&nbsp;==&quot;F&quot;)\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isHaveOper=false;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;}else\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(Framework.IsNullOrEmpty(rcfrm.curstate))\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isHaveOper=true;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}else\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isHaveOper=rcfrm.curstate&nbsp;==&nbsp;40;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;\n\n&nbsp;&nbsp;&nbsp;&nbsp;//rcfrm.projectId\n&nbsp;&nbsp;&nbsp;&nbsp;//加载重点问题\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;mt=this;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;mtkey=mt.DownForCode(&quot;keyIssue&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;form=mtkey.DownForCode(&quot;reviewComments&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;form.rCType=10;\n&nbsp;&nbsp;&nbsp;&nbsp;form.manuscriptReviewState=40;//合伙人复核\n\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;pid;\n&nbsp;&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;if(Framework.IsNullOrEmpty(&nbsp;rcfrm.projectId.prjId))\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pid=rcfrm.projectId;\n&nbsp;&nbsp;&nbsp;&nbsp;}else\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pid=rcfrm.projectId.prjId;\n&nbsp;&nbsp;&nbsp;&nbsp;}\n\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;params&nbsp;=&nbsp;[];\n&nbsp;&nbsp;&nbsp;&nbsp;params.push({param:&nbsp;'auditworkProjectID',&nbsp;value:&nbsp;pid});\n&nbsp;&nbsp;&nbsp;&nbsp;params.push({param:&nbsp;'rCType',&nbsp;value:&nbsp;10});\n&nbsp;&nbsp;&nbsp;&nbsp;params.push({param:&nbsp;'manuscriptReviewState',&nbsp;value:&nbsp;40});\n&nbsp;&nbsp;&nbsp;&nbsp;params.push({param:&nbsp;'isReview',&nbsp;value:&nbsp;rcfrm.isShowAddReview});\n&nbsp;&nbsp;&nbsp;&nbsp;params.push({param:&nbsp;'isHaveOper',&nbsp;value:&nbsp;isHaveOper});\n&nbsp;&nbsp;&nbsp;&nbsp;form.params=JSON.stringify(params);\n&nbsp;&nbsp;&nbsp;&nbsp;form.Load();\n\n&nbsp;&nbsp;&nbsp;&nbsp;//加载报告问题\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;mtkey2=mt.DownForCode(&quot;report&quot;)\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;form2=mtkey2.DownForCode(&quot;reviewComments&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;form2.rCType=20;\n&nbsp;&nbsp;&nbsp;&nbsp;form2.manuscriptReviewState=40;//合伙人复核\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;params2&nbsp;=&nbsp;[];\n&nbsp;&nbsp;&nbsp;&nbsp;params2.push({param:&nbsp;'auditworkProjectID',&nbsp;value:&nbsp;pid});\n&nbsp;&nbsp;&nbsp;&nbsp;params2.push({param:&nbsp;'rCType',&nbsp;value:&nbsp;20});\n&nbsp;&nbsp;&nbsp;&nbsp;params2.push({param:&nbsp;'manuscriptReviewState',&nbsp;value:&nbsp;40});\n&nbsp;&nbsp;&nbsp;&nbsp;params2.push({param:&nbsp;'isReview',&nbsp;value:&nbsp;rcfrm.isShowAddReview});\n&nbsp;&nbsp;&nbsp;&nbsp;params2.push({param:&nbsp;'isHaveOper',&nbsp;value:&nbsp;isHaveOper});\n&nbsp;&nbsp;&nbsp;&nbsp;form2.params=JSON.stringify(params2);\n&nbsp;&nbsp;&nbsp;&nbsp;form2.Load();\n\n&nbsp;&nbsp;&nbsp;&nbsp;//加载底稿问题d\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;mtkey3=mt.DownForCode(&quot;draft&quot;)\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;form3=mtkey3.DownForCode(&quot;reviewCommentsTreeDraft&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;form3.rCType=30;\n&nbsp;&nbsp;&nbsp;&nbsp;form3.manuscriptReviewState=40;//合伙人复核\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;params3&nbsp;=&nbsp;[];\n&nbsp;&nbsp;&nbsp;&nbsp;params3.push({param:&nbsp;'auditworkProjectID',&nbsp;value:&nbsp;pid});\n&nbsp;&nbsp;&nbsp;&nbsp;params3.push({param:&nbsp;'rCType',&nbsp;value:&nbsp;30});\n&nbsp;&nbsp;&nbsp;&nbsp;params3.push({param:&nbsp;'manuscriptReviewState',&nbsp;value:&nbsp;40});\n&nbsp;&nbsp;&nbsp;&nbsp;params3.push({param:&nbsp;'isReview',&nbsp;value:&nbsp;rcfrm.isShowAddReview});\n&nbsp;&nbsp;&nbsp;&nbsp;params3.push({param:&nbsp;'isHaveOper',&nbsp;value:&nbsp;isHaveOper});\n&nbsp;&nbsp;&nbsp;&nbsp;form3.params=JSON.stringify(params3);\n&nbsp;&nbsp;&nbsp;&nbsp;form3.Load();\n\n};\n","name":"项目合伙人复核","otherChildren":[],"property":[{"isHide":false,"name":"JavaScript","value":"var registerJavaScript = function () {\r\n \r\nthis.OnSelect=function(){\n&nbsp;&nbsp;&nbsp;&nbsp;console.log(&quot;BeforeLoad项目合伙人&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;t&nbsp;=&nbsp;this.Top();\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;rcfrm&nbsp;=t.DownForCode(&quot;reviewComments&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;isHaveOper;\n&nbsp;&nbsp;&nbsp;&nbsp;if(Framework.IsNotNullOrEmpty(rcfrm.haveOper))\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(rcfrm.haveOper&nbsp;==&quot;F&quot;)\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isHaveOper=false;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;}else\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(Framework.IsNullOrEmpty(rcfrm.curstate))\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isHaveOper=true;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}else\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isHaveOper=rcfrm.curstate&nbsp;==&nbsp;40;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;\n\n&nbsp;&nbsp;&nbsp;&nbsp;//rcfrm.projectId\n&nbsp;&nbsp;&nbsp;&nbsp;//加载重点问题\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;mt=this;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;mtkey=mt.DownForCode(&quot;keyIssue&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;form=mtkey.DownForCode(&quot;reviewComments&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;form.rCType=10;\n&nbsp;&nbsp;&nbsp;&nbsp;form.manuscriptReviewState=40;//合伙人复核\n\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;pid;\n&nbsp;&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;if(Framework.IsNullOrEmpty(&nbsp;rcfrm.projectId.prjId))\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pid=rcfrm.projectId;\n&nbsp;&nbsp;&nbsp;&nbsp;}else\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pid=rcfrm.projectId.prjId;\n&nbsp;&nbsp;&nbsp;&nbsp;}\n\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;params&nbsp;=&nbsp;[];\n&nbsp;&nbsp;&nbsp;&nbsp;params.push({param:&nbsp;'auditworkProjectID',&nbsp;value:&nbsp;pid});\n&nbsp;&nbsp;&nbsp;&nbsp;params.push({param:&nbsp;'rCType',&nbsp;value:&nbsp;10});\n&nbsp;&nbsp;&nbsp;&nbsp;params.push({param:&nbsp;'manuscriptReviewState',&nbsp;value:&nbsp;40});\n&nbsp;&nbsp;&nbsp;&nbsp;params.push({param:&nbsp;'isReview',&nbsp;value:&nbsp;rcfrm.isShowAddReview});\n&nbsp;&nbsp;&nbsp;&nbsp;params.push({param:&nbsp;'isHaveOper',&nbsp;value:&nbsp;isHaveOper});\n&nbsp;&nbsp;&nbsp;&nbsp;form.params=JSON.stringify(params);\n&nbsp;&nbsp;&nbsp;&nbsp;form.Load();\n\n&nbsp;&nbsp;&nbsp;&nbsp;//加载报告问题\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;mtkey2=mt.DownForCode(&quot;report&quot;)\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;form2=mtkey2.DownForCode(&quot;reviewComments&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;form2.rCType=20;\n&nbsp;&nbsp;&nbsp;&nbsp;form2.manuscriptReviewState=40;//合伙人复核\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;params2&nbsp;=&nbsp;[];\n&nbsp;&nbsp;&nbsp;&nbsp;params2.push({param:&nbsp;'auditworkProjectID',&nbsp;value:&nbsp;pid});\n&nbsp;&nbsp;&nbsp;&nbsp;params2.push({param:&nbsp;'rCType',&nbsp;value:&nbsp;20});\n&nbsp;&nbsp;&nbsp;&nbsp;params2.push({param:&nbsp;'manuscriptReviewState',&nbsp;value:&nbsp;40});\n&nbsp;&nbsp;&nbsp;&nbsp;params2.push({param:&nbsp;'isReview',&nbsp;value:&nbsp;rcfrm.isShowAddReview});\n&nbsp;&nbsp;&nbsp;&nbsp;params2.push({param:&nbsp;'isHaveOper',&nbsp;value:&nbsp;isHaveOper});\n&nbsp;&nbsp;&nbsp;&nbsp;form2.params=JSON.stringify(params2);\n&nbsp;&nbsp;&nbsp;&nbsp;form2.Load();\n\n&nbsp;&nbsp;&nbsp;&nbsp;//加载底稿问题d\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;mtkey3=mt.DownForCode(&quot;draft&quot;)\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;form3=mtkey3.DownForCode(&quot;reviewCommentsTreeDraft&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;form3.rCType=30;\n&nbsp;&nbsp;&nbsp;&nbsp;form3.manuscriptReviewState=40;//合伙人复核\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;params3&nbsp;=&nbsp;[];\n&nbsp;&nbsp;&nbsp;&nbsp;params3.push({param:&nbsp;'auditworkProjectID',&nbsp;value:&nbsp;pid});\n&nbsp;&nbsp;&nbsp;&nbsp;params3.push({param:&nbsp;'rCType',&nbsp;value:&nbsp;30});\n&nbsp;&nbsp;&nbsp;&nbsp;params3.push({param:&nbsp;'manuscriptReviewState',&nbsp;value:&nbsp;40});\n&nbsp;&nbsp;&nbsp;&nbsp;params3.push({param:&nbsp;'isReview',&nbsp;value:&nbsp;rcfrm.isShowAddReview});\n&nbsp;&nbsp;&nbsp;&nbsp;params3.push({param:&nbsp;'isHaveOper',&nbsp;value:&nbsp;isHaveOper});\n&nbsp;&nbsp;&nbsp;&nbsp;form3.params=JSON.stringify(params3);\n&nbsp;&nbsp;&nbsp;&nbsp;form3.Load();\n\n};\n\r\n \r\n};"}],"sort":7},{"action":[],"authority":[],"children":[{"action":[],"authority":[],"children":[],"dataPermission":[],"isReference":false,"otherChildren":[],"property":[{"isHide":true,"name":"referenceFormId","value":24920}],"sort":0}],"code":"branchReview","control":"Tab","dataPermission":[],"isReference":false,"javaScript":"\nthis.OnSelect=function(){\n&nbsp;&nbsp;&nbsp;&nbsp;console.log(&quot;BeforeLoad项目合伙人&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;t&nbsp;=&nbsp;this.Top();\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;rcfrm&nbsp;=t.DownForCode(&quot;reviewComments&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;isHaveOper;\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNotNullOrEmpty(rcfrm.haveOper))&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(rcfrm.haveOper&nbsp;==&nbsp;&quot;F&quot;)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isHaveOper&nbsp;=&nbsp;false;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(Framework.IsNullOrEmpty(rcfrm.curstate))\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isHaveOper=true;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}else\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isHaveOper=rcfrm.curstate&nbsp;==&nbsp;50;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;}\n\n&nbsp;&nbsp;&nbsp;&nbsp;//rcfrm.projectId\n&nbsp;&nbsp;&nbsp;&nbsp;//加载重点问题\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;mt=this;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;mtkey=mt.DownForCode(&quot;keyIssue&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;form=mtkey.DownForCode(&quot;reviewComments&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;form.rCType=10;\n&nbsp;&nbsp;&nbsp;&nbsp;form.manuscriptReviewState=50;//分所复核\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;pid;\n&nbsp;&nbsp;&nbsp;&nbsp;if(Framework.IsNullOrEmpty(&nbsp;rcfrm.projectId.prjId))\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pid=rcfrm.projectId;\n&nbsp;&nbsp;&nbsp;&nbsp;}else\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pid=rcfrm.projectId.prjId;\n&nbsp;&nbsp;&nbsp;&nbsp;}\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;params&nbsp;=&nbsp;[];\n&nbsp;&nbsp;&nbsp;&nbsp;params.push({param:&nbsp;'auditworkProjectID',&nbsp;value:&nbsp;pid});\n&nbsp;&nbsp;&nbsp;&nbsp;params.push({param:&nbsp;'rCType',&nbsp;value:&nbsp;10});\n&nbsp;&nbsp;&nbsp;&nbsp;params.push({param:&nbsp;'manuscriptReviewState',&nbsp;value:&nbsp;50});\n&nbsp;&nbsp;&nbsp;&nbsp;params.push({param:&nbsp;'isReview',&nbsp;value:&nbsp;rcfrm.isShowAddReview});\n&nbsp;&nbsp;&nbsp;&nbsp;params.push({param:&nbsp;'isHaveOper',&nbsp;value:&nbsp;isHaveOper});\n&nbsp;&nbsp;&nbsp;&nbsp;form.params=JSON.stringify(params);\n&nbsp;&nbsp;&nbsp;&nbsp;form.Load();\n\n&nbsp;&nbsp;&nbsp;&nbsp;//加载报告问题\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;mtkey2=mt.DownForCode(&quot;report&quot;)\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;form2=mtkey2.DownForCode(&quot;reviewComments&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;form2.rCType=20;\n&nbsp;&nbsp;&nbsp;&nbsp;form2.manuscriptReviewState=50;//分所复核\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;params2&nbsp;=&nbsp;[];\n&nbsp;&nbsp;&nbsp;&nbsp;params2.push({param:&nbsp;'auditworkProjectID',&nbsp;value:&nbsp;pid});\n&nbsp;&nbsp;&nbsp;&nbsp;params2.push({param:&nbsp;'rCType',&nbsp;value:&nbsp;20});\n&nbsp;&nbsp;&nbsp;&nbsp;params2.push({param:&nbsp;'manuscriptReviewState',&nbsp;value:&nbsp;50});\n&nbsp;&nbsp;&nbsp;&nbsp;params2.push({param:&nbsp;'isReview',&nbsp;value:&nbsp;rcfrm.isShowAddReview});\n&nbsp;&nbsp;&nbsp;&nbsp;params2.push({param:&nbsp;'isHaveOper',&nbsp;value:&nbsp;isHaveOper});\n&nbsp;&nbsp;&nbsp;&nbsp;form2.params=JSON.stringify(params2);\n&nbsp;&nbsp;&nbsp;&nbsp;form2.Load();\n\n&nbsp;&nbsp;&nbsp;&nbsp;//加载底稿问题d\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;mtkey3=mt.DownForCode(&quot;draft&quot;)\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;form3=mtkey3.DownForCode(&quot;reviewCommentsTreeDraft&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;form3.rCType=30;\n&nbsp;&nbsp;&nbsp;&nbsp;form3.manuscriptReviewState=50;//合伙人复核\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;params3&nbsp;=&nbsp;[];\n&nbsp;&nbsp;&nbsp;&nbsp;params3.push({param:&nbsp;'auditworkProjectID',&nbsp;value:&nbsp;pid});\n&nbsp;&nbsp;&nbsp;&nbsp;params3.push({param:&nbsp;'rCType',&nbsp;value:&nbsp;30});\n&nbsp;&nbsp;&nbsp;&nbsp;params3.push({param:&nbsp;'manuscriptReviewState',&nbsp;value:&nbsp;50});\n&nbsp;&nbsp;&nbsp;&nbsp;params3.push({param:&nbsp;'isReview',&nbsp;value:&nbsp;rcfrm.isShowAddReview});\n&nbsp;&nbsp;&nbsp;&nbsp;params3.push({param:&nbsp;'isHaveOper',&nbsp;value:&nbsp;isHaveOper});\n&nbsp;&nbsp;&nbsp;&nbsp;form3.params=JSON.stringify(params3);\n&nbsp;&nbsp;&nbsp;&nbsp;form3.Load();\n};\n","name":"分所独立复核","otherChildren":[],"property":[{"isHide":false,"name":"JavaScript","value":"var registerJavaScript = function () {\r\n \r\n\nthis.OnSelect=function(){\n&nbsp;&nbsp;&nbsp;&nbsp;console.log(&quot;BeforeLoad项目合伙人&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;t&nbsp;=&nbsp;this.Top();\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;rcfrm&nbsp;=t.DownForCode(&quot;reviewComments&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;isHaveOper;\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNotNullOrEmpty(rcfrm.haveOper))&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(rcfrm.haveOper&nbsp;==&nbsp;&quot;F&quot;)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isHaveOper&nbsp;=&nbsp;false;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(Framework.IsNullOrEmpty(rcfrm.curstate))\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isHaveOper=true;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}else\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isHaveOper=rcfrm.curstate&nbsp;==&nbsp;50;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;}\n\n&nbsp;&nbsp;&nbsp;&nbsp;//rcfrm.projectId\n&nbsp;&nbsp;&nbsp;&nbsp;//加载重点问题\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;mt=this;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;mtkey=mt.DownForCode(&quot;keyIssue&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;form=mtkey.DownForCode(&quot;reviewComments&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;form.rCType=10;\n&nbsp;&nbsp;&nbsp;&nbsp;form.manuscriptReviewState=50;//分所复核\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;pid;\n&nbsp;&nbsp;&nbsp;&nbsp;if(Framework.IsNullOrEmpty(&nbsp;rcfrm.projectId.prjId))\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pid=rcfrm.projectId;\n&nbsp;&nbsp;&nbsp;&nbsp;}else\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pid=rcfrm.projectId.prjId;\n&nbsp;&nbsp;&nbsp;&nbsp;}\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;params&nbsp;=&nbsp;[];\n&nbsp;&nbsp;&nbsp;&nbsp;params.push({param:&nbsp;'auditworkProjectID',&nbsp;value:&nbsp;pid});\n&nbsp;&nbsp;&nbsp;&nbsp;params.push({param:&nbsp;'rCType',&nbsp;value:&nbsp;10});\n&nbsp;&nbsp;&nbsp;&nbsp;params.push({param:&nbsp;'manuscriptReviewState',&nbsp;value:&nbsp;50});\n&nbsp;&nbsp;&nbsp;&nbsp;params.push({param:&nbsp;'isReview',&nbsp;value:&nbsp;rcfrm.isShowAddReview});\n&nbsp;&nbsp;&nbsp;&nbsp;params.push({param:&nbsp;'isHaveOper',&nbsp;value:&nbsp;isHaveOper});\n&nbsp;&nbsp;&nbsp;&nbsp;form.params=JSON.stringify(params);\n&nbsp;&nbsp;&nbsp;&nbsp;form.Load();\n\n&nbsp;&nbsp;&nbsp;&nbsp;//加载报告问题\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;mtkey2=mt.DownForCode(&quot;report&quot;)\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;form2=mtkey2.DownForCode(&quot;reviewComments&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;form2.rCType=20;\n&nbsp;&nbsp;&nbsp;&nbsp;form2.manuscriptReviewState=50;//分所复核\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;params2&nbsp;=&nbsp;[];\n&nbsp;&nbsp;&nbsp;&nbsp;params2.push({param:&nbsp;'auditworkProjectID',&nbsp;value:&nbsp;pid});\n&nbsp;&nbsp;&nbsp;&nbsp;params2.push({param:&nbsp;'rCType',&nbsp;value:&nbsp;20});\n&nbsp;&nbsp;&nbsp;&nbsp;params2.push({param:&nbsp;'manuscriptReviewState',&nbsp;value:&nbsp;50});\n&nbsp;&nbsp;&nbsp;&nbsp;params2.push({param:&nbsp;'isReview',&nbsp;value:&nbsp;rcfrm.isShowAddReview});\n&nbsp;&nbsp;&nbsp;&nbsp;params2.push({param:&nbsp;'isHaveOper',&nbsp;value:&nbsp;isHaveOper});\n&nbsp;&nbsp;&nbsp;&nbsp;form2.params=JSON.stringify(params2);\n&nbsp;&nbsp;&nbsp;&nbsp;form2.Load();\n\n&nbsp;&nbsp;&nbsp;&nbsp;//加载底稿问题d\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;mtkey3=mt.DownForCode(&quot;draft&quot;)\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;form3=mtkey3.DownForCode(&quot;reviewCommentsTreeDraft&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;form3.rCType=30;\n&nbsp;&nbsp;&nbsp;&nbsp;form3.manuscriptReviewState=50;//合伙人复核\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;params3&nbsp;=&nbsp;[];\n&nbsp;&nbsp;&nbsp;&nbsp;params3.push({param:&nbsp;'auditworkProjectID',&nbsp;value:&nbsp;pid});\n&nbsp;&nbsp;&nbsp;&nbsp;params3.push({param:&nbsp;'rCType',&nbsp;value:&nbsp;30});\n&nbsp;&nbsp;&nbsp;&nbsp;params3.push({param:&nbsp;'manuscriptReviewState',&nbsp;value:&nbsp;50});\n&nbsp;&nbsp;&nbsp;&nbsp;params3.push({param:&nbsp;'isReview',&nbsp;value:&nbsp;rcfrm.isShowAddReview});\n&nbsp;&nbsp;&nbsp;&nbsp;params3.push({param:&nbsp;'isHaveOper',&nbsp;value:&nbsp;isHaveOper});\n&nbsp;&nbsp;&nbsp;&nbsp;form3.params=JSON.stringify(params3);\n&nbsp;&nbsp;&nbsp;&nbsp;form3.Load();\n};\n\r\n \r\n};"}],"sort":8},{"action":[],"authority":[],"children":[{"action":[],"authority":[],"children":[],"dataPermission":[],"isReference":false,"otherChildren":[],"property":[{"isHide":true,"name":"referenceFormId","value":24920}],"sort":0}],"code":"totalReview","control":"Tab","dataPermission":[],"isReference":false,"javaScript":"this.OnSelect=function(){\n&nbsp;&nbsp;&nbsp;&nbsp;console.log(&quot;BeforeLoad项目合伙人&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;t&nbsp;=&nbsp;this.Top();\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;rcfrm&nbsp;=t.DownForCode(&quot;reviewComments&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;isHaveOper;\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNotNullOrEmpty(rcfrm.haveOper))&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(rcfrm.haveOper&nbsp;==&nbsp;&quot;F&quot;)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isHaveOper&nbsp;=&nbsp;false;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(Framework.IsNullOrEmpty(rcfrm.curstate))\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isHaveOper=true;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}else\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isHaveOper=rcfrm.curstate&nbsp;==&nbsp;60;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;//rcfrm.projectId\n&nbsp;&nbsp;&nbsp;&nbsp;//加载重点问题\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;mt=this;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;mtkey=mt.DownForCode(&quot;keyIssue&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;form=mtkey.DownForCode(&quot;reviewComments&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;form.rCType=10;\n&nbsp;&nbsp;&nbsp;&nbsp;form.manuscriptReviewState=60;//总所复核\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;pid;\n&nbsp;&nbsp;&nbsp;&nbsp;if(Framework.IsNullOrEmpty(&nbsp;rcfrm.projectId.prjId))\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pid=rcfrm.projectId;\n&nbsp;&nbsp;&nbsp;&nbsp;}else\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pid=rcfrm.projectId.prjId;\n&nbsp;&nbsp;&nbsp;&nbsp;}\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;params&nbsp;=&nbsp;[];\n&nbsp;&nbsp;&nbsp;&nbsp;params.push({param:&nbsp;'auditworkProjectID',&nbsp;value:&nbsp;pid});\n&nbsp;&nbsp;&nbsp;&nbsp;params.push({param:&nbsp;'rCType',&nbsp;value:&nbsp;10});\n&nbsp;&nbsp;&nbsp;&nbsp;params.push({param:&nbsp;'manuscriptReviewState',&nbsp;value:&nbsp;60});\n&nbsp;&nbsp;&nbsp;&nbsp;params.push({param:&nbsp;'isReview',&nbsp;value:&nbsp;rcfrm.isShowAddReview});\n&nbsp;&nbsp;&nbsp;&nbsp;params.push({param:&nbsp;'isHaveOper',&nbsp;value:&nbsp;isHaveOper});\n&nbsp;&nbsp;&nbsp;&nbsp;form.params=JSON.stringify(params);\n&nbsp;&nbsp;&nbsp;&nbsp;form.Load();\n\n&nbsp;&nbsp;&nbsp;&nbsp;//加载报告问题\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;mtkey2=mt.DownForCode(&quot;report&quot;)\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;form2=mtkey2.DownForCode(&quot;reviewComments&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;form2.rCType=20;\n&nbsp;&nbsp;&nbsp;&nbsp;form2.manuscriptReviewState=60;//总所复核\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;params2&nbsp;=&nbsp;[];\n&nbsp;&nbsp;&nbsp;&nbsp;params2.push({param:&nbsp;'auditworkProjectID',&nbsp;value:&nbsp;pid});\n&nbsp;&nbsp;&nbsp;&nbsp;params2.push({param:&nbsp;'rCType',&nbsp;value:&nbsp;20});\n&nbsp;&nbsp;&nbsp;&nbsp;params2.push({param:&nbsp;'manuscriptReviewState',&nbsp;value:&nbsp;60});\n&nbsp;&nbsp;&nbsp;&nbsp;params2.push({param:&nbsp;'isReview',&nbsp;value:&nbsp;rcfrm.isShowAddReview});\n&nbsp;&nbsp;&nbsp;&nbsp;params2.push({param:&nbsp;'isHaveOper',&nbsp;value:&nbsp;isHaveOper});\n&nbsp;&nbsp;&nbsp;&nbsp;form2.params=JSON.stringify(params2);\n&nbsp;&nbsp;&nbsp;&nbsp;form2.Load();\n\n&nbsp;&nbsp;&nbsp;&nbsp;//加载底稿问题d\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;mtkey3=mt.DownForCode(&quot;draft&quot;)\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;form3=mtkey3.DownForCode(&quot;reviewCommentsTreeDraft&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;form3.rCType=30;\n&nbsp;&nbsp;&nbsp;&nbsp;form3.manuscriptReviewState=60;//合伙人复核\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;params3&nbsp;=&nbsp;[];\n&nbsp;&nbsp;&nbsp;&nbsp;params3.push({param:&nbsp;'auditworkProjectID',&nbsp;value:&nbsp;pid});\n&nbsp;&nbsp;&nbsp;&nbsp;params3.push({param:&nbsp;'rCType',&nbsp;value:&nbsp;30});\n&nbsp;&nbsp;&nbsp;&nbsp;params3.push({param:&nbsp;'manuscriptReviewState',&nbsp;value:&nbsp;60});\n&nbsp;&nbsp;&nbsp;&nbsp;params3.push({param:&nbsp;'isReview',&nbsp;value:&nbsp;rcfrm.isShowAddReview});\n&nbsp;&nbsp;&nbsp;&nbsp;params3.push({param:&nbsp;'isHaveOper',&nbsp;value:&nbsp;isHaveOper});\n&nbsp;&nbsp;&nbsp;&nbsp;form3.params=JSON.stringify(params3);\n&nbsp;&nbsp;&nbsp;&nbsp;form3.Load();\n};","name":"总所独立复核","otherChildren":[],"property":[{"isHide":false,"name":"JavaScript","value":"var registerJavaScript = function () {\r\n \r\nthis.OnSelect=function(){\n&nbsp;&nbsp;&nbsp;&nbsp;console.log(&quot;BeforeLoad项目合伙人&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;t&nbsp;=&nbsp;this.Top();\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;rcfrm&nbsp;=t.DownForCode(&quot;reviewComments&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;isHaveOper;\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNotNullOrEmpty(rcfrm.haveOper))&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(rcfrm.haveOper&nbsp;==&nbsp;&quot;F&quot;)&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isHaveOper&nbsp;=&nbsp;false;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(Framework.IsNullOrEmpty(rcfrm.curstate))\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isHaveOper=true;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}else\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isHaveOper=rcfrm.curstate&nbsp;==&nbsp;60;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;\n&nbsp;&nbsp;&nbsp;&nbsp;//rcfrm.projectId\n&nbsp;&nbsp;&nbsp;&nbsp;//加载重点问题\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;mt=this;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;mtkey=mt.DownForCode(&quot;keyIssue&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;form=mtkey.DownForCode(&quot;reviewComments&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;form.rCType=10;\n&nbsp;&nbsp;&nbsp;&nbsp;form.manuscriptReviewState=60;//总所复核\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;pid;\n&nbsp;&nbsp;&nbsp;&nbsp;if(Framework.IsNullOrEmpty(&nbsp;rcfrm.projectId.prjId))\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pid=rcfrm.projectId;\n&nbsp;&nbsp;&nbsp;&nbsp;}else\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pid=rcfrm.projectId.prjId;\n&nbsp;&nbsp;&nbsp;&nbsp;}\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;params&nbsp;=&nbsp;[];\n&nbsp;&nbsp;&nbsp;&nbsp;params.push({param:&nbsp;'auditworkProjectID',&nbsp;value:&nbsp;pid});\n&nbsp;&nbsp;&nbsp;&nbsp;params.push({param:&nbsp;'rCType',&nbsp;value:&nbsp;10});\n&nbsp;&nbsp;&nbsp;&nbsp;params.push({param:&nbsp;'manuscriptReviewState',&nbsp;value:&nbsp;60});\n&nbsp;&nbsp;&nbsp;&nbsp;params.push({param:&nbsp;'isReview',&nbsp;value:&nbsp;rcfrm.isShowAddReview});\n&nbsp;&nbsp;&nbsp;&nbsp;params.push({param:&nbsp;'isHaveOper',&nbsp;value:&nbsp;isHaveOper});\n&nbsp;&nbsp;&nbsp;&nbsp;form.params=JSON.stringify(params);\n&nbsp;&nbsp;&nbsp;&nbsp;form.Load();\n\n&nbsp;&nbsp;&nbsp;&nbsp;//加载报告问题\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;mtkey2=mt.DownForCode(&quot;report&quot;)\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;form2=mtkey2.DownForCode(&quot;reviewComments&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;form2.rCType=20;\n&nbsp;&nbsp;&nbsp;&nbsp;form2.manuscriptReviewState=60;//总所复核\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;params2&nbsp;=&nbsp;[];\n&nbsp;&nbsp;&nbsp;&nbsp;params2.push({param:&nbsp;'auditworkProjectID',&nbsp;value:&nbsp;pid});\n&nbsp;&nbsp;&nbsp;&nbsp;params2.push({param:&nbsp;'rCType',&nbsp;value:&nbsp;20});\n&nbsp;&nbsp;&nbsp;&nbsp;params2.push({param:&nbsp;'manuscriptReviewState',&nbsp;value:&nbsp;60});\n&nbsp;&nbsp;&nbsp;&nbsp;params2.push({param:&nbsp;'isReview',&nbsp;value:&nbsp;rcfrm.isShowAddReview});\n&nbsp;&nbsp;&nbsp;&nbsp;params2.push({param:&nbsp;'isHaveOper',&nbsp;value:&nbsp;isHaveOper});\n&nbsp;&nbsp;&nbsp;&nbsp;form2.params=JSON.stringify(params2);\n&nbsp;&nbsp;&nbsp;&nbsp;form2.Load();\n\n&nbsp;&nbsp;&nbsp;&nbsp;//加载底稿问题d\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;mtkey3=mt.DownForCode(&quot;draft&quot;)\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;form3=mtkey3.DownForCode(&quot;reviewCommentsTreeDraft&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;form3.rCType=30;\n&nbsp;&nbsp;&nbsp;&nbsp;form3.manuscriptReviewState=60;//合伙人复核\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;params3&nbsp;=&nbsp;[];\n&nbsp;&nbsp;&nbsp;&nbsp;params3.push({param:&nbsp;'auditworkProjectID',&nbsp;value:&nbsp;pid});\n&nbsp;&nbsp;&nbsp;&nbsp;params3.push({param:&nbsp;'rCType',&nbsp;value:&nbsp;30});\n&nbsp;&nbsp;&nbsp;&nbsp;params3.push({param:&nbsp;'manuscriptReviewState',&nbsp;value:&nbsp;60});\n&nbsp;&nbsp;&nbsp;&nbsp;params3.push({param:&nbsp;'isReview',&nbsp;value:&nbsp;rcfrm.isShowAddReview});\n&nbsp;&nbsp;&nbsp;&nbsp;params3.push({param:&nbsp;'isHaveOper',&nbsp;value:&nbsp;isHaveOper});\n&nbsp;&nbsp;&nbsp;&nbsp;form3.params=JSON.stringify(params3);\n&nbsp;&nbsp;&nbsp;&nbsp;form3.Load();\n};\r\n \r\n};"}],"sort":9},{"action":[],"authority":[],"children":[{"action":[],"authority":[],"children":[],"dataPermission":[],"isReference":false,"otherChildren":[],"property":[{"isHide":true,"name":"referenceFormId","value":26257}],"sort":0}],"code":"drawAttention","control":"Tab","dataPermission":[],"isReference":false,"javaScript":"this.OnSelect=function(){\n&nbsp;&nbsp;&nbsp;&nbsp;console.log(&quot;AAAAAA&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;t&nbsp;=&nbsp;this.Top();\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;frm=t.DownForCode(&quot;reviewComments&quot;);\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;att=this.DownForCode(&quot;attentions&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;if(Framework.IsNullOrEmpty(frm.projectId.id))\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;att.params=JSON.stringify({'param':'projectId','value':frm.projectId});\n&nbsp;&nbsp;&nbsp;&nbsp;}else\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;att.params=JSON.stringify({'param':'projectId','value':frm.projectId.id});\n&nbsp;&nbsp;&nbsp;&nbsp;}\n\n&nbsp;&nbsp;&nbsp;&nbsp;att.MainContainer=this;\n&nbsp;&nbsp;&nbsp;&nbsp;att.Load();\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;m&nbsp;=&nbsp;t.Opener;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;top&nbsp;=&nbsp;m.Top();\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;p&nbsp;=&nbsp;top.DownForCode(&quot;draftReviewBatch&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;if(p.OpenSelectRow.manuscriptReviewStateValue==&quot;70&quot;)\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;c&nbsp;=this.DownForCode(&quot;Create&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.SetVisible(true);\n\n&nbsp;&nbsp;&nbsp;&nbsp;}\n};","name":"提请关注事项","otherChildren":[],"property":[{"isHide":false,"name":"JavaScript","value":"var registerJavaScript = function () {\r\n \r\nthis.OnSelect=function(){\n&nbsp;&nbsp;&nbsp;&nbsp;console.log(&quot;AAAAAA&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;t&nbsp;=&nbsp;this.Top();\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;frm=t.DownForCode(&quot;reviewComments&quot;);\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;att=this.DownForCode(&quot;attentions&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;if(Framework.IsNullOrEmpty(frm.projectId.id))\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;att.params=JSON.stringify({'param':'projectId','value':frm.projectId});\n&nbsp;&nbsp;&nbsp;&nbsp;}else\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;att.params=JSON.stringify({'param':'projectId','value':frm.projectId.id});\n&nbsp;&nbsp;&nbsp;&nbsp;}\n\n&nbsp;&nbsp;&nbsp;&nbsp;att.MainContainer=this;\n&nbsp;&nbsp;&nbsp;&nbsp;att.Load();\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;m&nbsp;=&nbsp;t.Opener;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;top&nbsp;=&nbsp;m.Top();\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;p&nbsp;=&nbsp;top.DownForCode(&quot;draftReviewBatch&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;if(p.OpenSelectRow.manuscriptReviewStateValue==&quot;70&quot;)\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;c&nbsp;=this.DownForCode(&quot;Create&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.SetVisible(true);\n\n&nbsp;&nbsp;&nbsp;&nbsp;}\n};\r\n \r\n};"}],"sort":10}],"code":"formMainTabs","control":"Tabs","dataPermission":[],"isReference":false,"name":"主选项卡","otherChildren":[],"property":[{"isHide":false,"name":"class","value":"easyui-tabs tabs-container easyui-fluid dx_Tabshard"}],"sort":0},{"action":[],"authority":[],"children":[],"code":"uuid","control":"Hidden","dataPermission":[],"isReference":false,"name":"uuid","otherChildren":[],"property":[],"sort":1000}],"code":"reviewComments","control":"Panel","dataPermission":[],"isReference":false,"javaScript":"\nthis.AfterOpen&nbsp;=&nbsp;function&nbsp;()&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;console.log(&quot;customerPanelAfterOpen&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;me&nbsp;=&nbsp;this;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;formMainTabs&nbsp;=&nbsp;me.DownForCode('FormMainTabs');\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(formMainTabs&nbsp;&&&nbsp;formMainTabs.SetTabSelect)&nbsp;formMainTabs.SetTabSelect(me.openTabCode);\n\n};\n\n\nthis.BeforeLoad&nbsp;=&nbsp;function&nbsp;()&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;console.log(&quot;BeforeLoad111&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;&nbsp;//复制表单不知道把什么内容复制丢了，只能暂时隐藏其他tab页&nbsp;&nbsp;&nbsp;需求改成显示所有页签，故不再隐藏\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.SetDownVisible('PartnerReview',&nbsp;true);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.SetDownVisible('BranchReview',&nbsp;true);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.SetDownVisible('TotalReview',&nbsp;true);\n&nbsp;&nbsp;*/\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;m&nbsp;=&nbsp;this.Opener;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;t&nbsp;=&nbsp;m.Top();\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;p&nbsp;=&nbsp;t.DownForCode(&quot;draftReviewBatch&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;this.curstate&nbsp;=&nbsp;p.curstate;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;cs=p.curstate;\n&nbsp;&nbsp;&nbsp;&nbsp;if(Framework.IsNullOrEmpty(p.curstate))\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cs=30;\n&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;cs=30;//先暂时这样写\n\n&nbsp;&nbsp;&nbsp;&nbsp;/*var&nbsp;tabs=this.DownForCode(&quot;formMainTabs&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;if(fmanuscriptReviewState&nbsp;==30)\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tabs.SetTabTitle(0,'二级复核')\n&nbsp;&nbsp;&nbsp;&nbsp;}else&nbsp;if(fmanuscriptReviewState&nbsp;==40)\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tabs.SetTabTitle(0,'三级复核')\n&nbsp;&nbsp;&nbsp;&nbsp;}else&nbsp;if(fmanuscriptReviewState&nbsp;==50)\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tabs.SetTabTitle(0,'分所复核')\n&nbsp;&nbsp;&nbsp;&nbsp;}else&nbsp;if(fmanuscriptReviewState&nbsp;==60)\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tabs.SetTabTitle(0,'总所复核')\n&nbsp;&nbsp;&nbsp;&nbsp;}*/\n\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;isHaveOper;\n&nbsp;&nbsp;&nbsp;&nbsp;if(Framework.IsNotNullOrEmpty(this.haveOper))\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(this.haveOper&nbsp;==&quot;F&quot;)\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isHaveOper=false;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;}else\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(Framework.IsNullOrEmpty(p.curstate))\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isHaveOper=true;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}else\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isHaveOper=p.curstate&nbsp;==&nbsp;30;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;}\n\n&nbsp;&nbsp;&nbsp;&nbsp;this.projectId&nbsp;=&nbsp;p.projectId;\n&nbsp;&nbsp;&nbsp;&nbsp;this.isShowAddReview&nbsp;=&nbsp;p.isReview;\n&nbsp;&nbsp;&nbsp;&nbsp;//加载重点问题\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;m&nbsp;=&nbsp;this.DownForCode(&quot;formMainTabs&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;mt&nbsp;=&nbsp;m.DownForCode(&quot;secondaryReview&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;mtkey&nbsp;=&nbsp;mt.DownForCode(&quot;keyIssue&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;form&nbsp;=&nbsp;mtkey.DownForCode(&quot;reviewComments&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;form.rCType&nbsp;=&nbsp;10;\n&nbsp;&nbsp;&nbsp;&nbsp;form.manuscriptReviewState&nbsp;=&nbsp;cs;//二级复核\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;pid;\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNullOrEmpty(p.projectId.prjId))&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(Framework.IsNullOrEmpty(p.projectId.id))\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pid&nbsp;=&nbsp;p.projectId;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}else\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pid&nbsp;=&nbsp;p.id;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\n\n&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pid&nbsp;=&nbsp;p.projectId.prjId;\n&nbsp;&nbsp;&nbsp;&nbsp;}\n\n&nbsp;&nbsp;&nbsp;&nbsp;//加载左边的树\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;frm&nbsp;=&nbsp;this.DownForCode(&quot;compositionCustomer&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;paramstree&nbsp;=&nbsp;{};\n&nbsp;&nbsp;&nbsp;&nbsp;paramstree.param&nbsp;=&nbsp;&quot;projectId&quot;;\n&nbsp;&nbsp;&nbsp;&nbsp;paramstree.value&nbsp;=pid;\n&nbsp;&nbsp;&nbsp;&nbsp;frm.params&nbsp;=&nbsp;JSON.stringify(paramstree);\n&nbsp;&nbsp;&nbsp;&nbsp;frm.Load();\n};","name":"复核意见(ReviewComments)","otherChildren":[],"property":[{"isHide":false,"name":"BaseCode","value":"reviewComments"},{"isHide":false,"name":"Name","value":"复核意见"},{"isHide":false,"name":"IsReadOnly","value":false},{"isHide":false,"name":"Description"},{"isHide":false,"name":"FormId","value":24912},{"isHide":false,"name":"OrderBy"},{"isHide":false,"name":"IsSqlForm","value":false},{"isHide":false,"name":"JavaScript","value":"var registerJavaScript = function () {\r\n \r\n\nthis.AfterOpen&nbsp;=&nbsp;function&nbsp;()&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;console.log(&quot;customerPanelAfterOpen&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;me&nbsp;=&nbsp;this;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;formMainTabs&nbsp;=&nbsp;me.DownForCode('FormMainTabs');\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(formMainTabs&nbsp;&&&nbsp;formMainTabs.SetTabSelect)&nbsp;formMainTabs.SetTabSelect(me.openTabCode);\n\n};\n\n\nthis.BeforeLoad&nbsp;=&nbsp;function&nbsp;()&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;console.log(&quot;BeforeLoad111&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;&nbsp;//复制表单不知道把什么内容复制丢了，只能暂时隐藏其他tab页&nbsp;&nbsp;&nbsp;需求改成显示所有页签，故不再隐藏\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.SetDownVisible('PartnerReview',&nbsp;true);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.SetDownVisible('BranchReview',&nbsp;true);\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.SetDownVisible('TotalReview',&nbsp;true);\n&nbsp;&nbsp;*/\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;m&nbsp;=&nbsp;this.Opener;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;t&nbsp;=&nbsp;m.Top();\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;p&nbsp;=&nbsp;t.DownForCode(&quot;draftReviewBatch&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;this.curstate&nbsp;=&nbsp;p.curstate;\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;cs=p.curstate;\n&nbsp;&nbsp;&nbsp;&nbsp;if(Framework.IsNullOrEmpty(p.curstate))\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cs=30;\n&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;cs=30;//先暂时这样写\n\n&nbsp;&nbsp;&nbsp;&nbsp;/*var&nbsp;tabs=this.DownForCode(&quot;formMainTabs&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;if(fmanuscriptReviewState&nbsp;==30)\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tabs.SetTabTitle(0,'二级复核')\n&nbsp;&nbsp;&nbsp;&nbsp;}else&nbsp;if(fmanuscriptReviewState&nbsp;==40)\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tabs.SetTabTitle(0,'三级复核')\n&nbsp;&nbsp;&nbsp;&nbsp;}else&nbsp;if(fmanuscriptReviewState&nbsp;==50)\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tabs.SetTabTitle(0,'分所复核')\n&nbsp;&nbsp;&nbsp;&nbsp;}else&nbsp;if(fmanuscriptReviewState&nbsp;==60)\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tabs.SetTabTitle(0,'总所复核')\n&nbsp;&nbsp;&nbsp;&nbsp;}*/\n\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;isHaveOper;\n&nbsp;&nbsp;&nbsp;&nbsp;if(Framework.IsNotNullOrEmpty(this.haveOper))\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(this.haveOper&nbsp;==&quot;F&quot;)\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isHaveOper=false;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;}else\n&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(Framework.IsNullOrEmpty(p.curstate))\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isHaveOper=true;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}else\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isHaveOper=p.curstate&nbsp;==&nbsp;30;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;}\n\n&nbsp;&nbsp;&nbsp;&nbsp;this.projectId&nbsp;=&nbsp;p.projectId;\n&nbsp;&nbsp;&nbsp;&nbsp;this.isShowAddReview&nbsp;=&nbsp;p.isReview;\n&nbsp;&nbsp;&nbsp;&nbsp;//加载重点问题\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;m&nbsp;=&nbsp;this.DownForCode(&quot;formMainTabs&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;mt&nbsp;=&nbsp;m.DownForCode(&quot;secondaryReview&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;mtkey&nbsp;=&nbsp;mt.DownForCode(&quot;keyIssue&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;form&nbsp;=&nbsp;mtkey.DownForCode(&quot;reviewComments&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;form.rCType&nbsp;=&nbsp;10;\n&nbsp;&nbsp;&nbsp;&nbsp;form.manuscriptReviewState&nbsp;=&nbsp;cs;//二级复核\n\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;pid;\n&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(Framework.IsNullOrEmpty(p.projectId.prjId))&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(Framework.IsNullOrEmpty(p.projectId.id))\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pid&nbsp;=&nbsp;p.projectId;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}else\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pid&nbsp;=&nbsp;p.id;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\n\n&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pid&nbsp;=&nbsp;p.projectId.prjId;\n&nbsp;&nbsp;&nbsp;&nbsp;}\n\n&nbsp;&nbsp;&nbsp;&nbsp;//加载左边的树\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;frm&nbsp;=&nbsp;this.DownForCode(&quot;compositionCustomer&quot;);\n&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;paramstree&nbsp;=&nbsp;{};\n&nbsp;&nbsp;&nbsp;&nbsp;paramstree.param&nbsp;=&nbsp;&quot;projectId&quot;;\n&nbsp;&nbsp;&nbsp;&nbsp;paramstree.value&nbsp;=pid;\n&nbsp;&nbsp;&nbsp;&nbsp;frm.params&nbsp;=&nbsp;JSON.stringify(paramstree);\n&nbsp;&nbsp;&nbsp;&nbsp;frm.Load();\n};\r\n \r\n};"},{"isHide":false,"name":"EntityType","value":"ReviewComments"},{"container":"Window","isHide":false,"name":"collapsible","value":"true"},{"container":"Window","isHide":false,"name":"modal","value":"false"},{"container":"Window","isHide":false,"name":"width","value":"90%"},{"container":"Window","isHide":false,"name":"Height","value":"90%"}],"sort":0}
2020-03-09 16:25:25